var S8=Object.defineProperty;var jC=i=>{throw TypeError(i)};var A8=(i,e,t)=>e in i?S8(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var jt=(i,e,t)=>A8(i,typeof e!="symbol"?e+"":e,t),yw=(i,e,t)=>e.has(i)||jC("Cannot "+t);var g=(i,e,t)=>(yw(i,e,"read from private field"),t?t.call(i):e.get(i)),J=(i,e,t)=>e.has(i)?jC("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,t),z=(i,e,t,n)=>(yw(i,e,"write to private field"),n?n.call(i,t):e.set(i,t),t),W=(i,e,t)=>(yw(i,e,"access private method"),t);var Ns=(i,e,t,n)=>({set _(r){z(i,e,r,t)},get _(){return g(i,e,n)}});function C8(i,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in i)){const s=Object.getOwnPropertyDescriptor(n,r);s&&Object.defineProperty(i,r,s.get?s:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function e_(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var vw={exports:{}},H0={},bw={exports:{}},Jt={},BC;function k8(){if(BC)return Jt;BC=1;/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;function y(se){return se===null||typeof se!="object"?null:(se=p&&se[p]||se["@@iterator"],typeof se=="function"?se:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,w={};function C(se,I,K){this.props=se,this.context=I,this.refs=w,this.updater=K||v}C.prototype.isReactComponent={},C.prototype.setState=function(se,I){if(typeof se!="object"&&typeof se!="function"&&se!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,se,I,"setState")},C.prototype.forceUpdate=function(se){this.updater.enqueueForceUpdate(this,se,"forceUpdate")};function S(){}S.prototype=C.prototype;function P(se,I,K){this.props=se,this.context=I,this.refs=w,this.updater=K||v}var R=P.prototype=new S;R.constructor=P,x(R,C.prototype),R.isPureReactComponent=!0;var M=Array.isArray,O=Object.prototype.hasOwnProperty,$={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function D(se,I,K){var Z,oe={},de=null,ge=null;if(I!=null)for(Z in I.ref!==void 0&&(ge=I.ref),I.key!==void 0&&(de=""+I.key),I)O.call(I,Z)&&!U.hasOwnProperty(Z)&&(oe[Z]=I[Z]);var Ce=arguments.length-2;if(Ce===1)oe.children=K;else if(1<Ce){for(var ke=Array(Ce),ze=0;ze<Ce;ze++)ke[ze]=arguments[ze+2];oe.children=ke}if(se&&se.defaultProps)for(Z in Ce=se.defaultProps,Ce)oe[Z]===void 0&&(oe[Z]=Ce[Z]);return{$$typeof:i,type:se,key:de,ref:ge,props:oe,_owner:$.current}}function Q(se,I){return{$$typeof:i,type:se.type,key:I,ref:se.ref,props:se.props,_owner:se._owner}}function ue(se){return typeof se=="object"&&se!==null&&se.$$typeof===i}function j(se){var I={"=":"=0",":":"=2"};return"$"+se.replace(/[=:]/g,function(K){return I[K]})}var V=/\/+/g;function ee(se,I){return typeof se=="object"&&se!==null&&se.key!=null?j(""+se.key):I.toString(36)}function re(se,I,K,Z,oe){var de=typeof se;(de==="undefined"||de==="boolean")&&(se=null);var ge=!1;if(se===null)ge=!0;else switch(de){case"string":case"number":ge=!0;break;case"object":switch(se.$$typeof){case i:case e:ge=!0}}if(ge)return ge=se,oe=oe(ge),se=Z===""?"."+ee(ge,0):Z,M(oe)?(K="",se!=null&&(K=se.replace(V,"$&/")+"/"),re(oe,I,K,"",function(ze){return ze})):oe!=null&&(ue(oe)&&(oe=Q(oe,K+(!oe.key||ge&&ge.key===oe.key?"":(""+oe.key).replace(V,"$&/")+"/")+se)),I.push(oe)),1;if(ge=0,Z=Z===""?".":Z+":",M(se))for(var Ce=0;Ce<se.length;Ce++){de=se[Ce];var ke=Z+ee(de,Ce);ge+=re(de,I,K,ke,oe)}else if(ke=y(se),typeof ke=="function")for(se=ke.call(se),Ce=0;!(de=se.next()).done;)de=de.value,ke=Z+ee(de,Ce++),ge+=re(de,I,K,ke,oe);else if(de==="object")throw I=String(se),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(se).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return ge}function pe(se,I,K){if(se==null)return se;var Z=[],oe=0;return re(se,Z,"","",function(de){return I.call(K,de,oe++)}),Z}function fe(se){if(se._status===-1){var I=se._result;I=I(),I.then(function(K){(se._status===0||se._status===-1)&&(se._status=1,se._result=K)},function(K){(se._status===0||se._status===-1)&&(se._status=2,se._result=K)}),se._status===-1&&(se._status=0,se._result=I)}if(se._status===1)return se._result.default;throw se._result}var he={current:null},ne={transition:null},ye={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:ne,ReactCurrentOwner:$};function me(){throw Error("act(...) is not supported in production builds of React.")}return Jt.Children={map:pe,forEach:function(se,I,K){pe(se,function(){I.apply(this,arguments)},K)},count:function(se){var I=0;return pe(se,function(){I++}),I},toArray:function(se){return pe(se,function(I){return I})||[]},only:function(se){if(!ue(se))throw Error("React.Children.only expected to receive a single React element child.");return se}},Jt.Component=C,Jt.Fragment=t,Jt.Profiler=r,Jt.PureComponent=P,Jt.StrictMode=n,Jt.Suspense=c,Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,Jt.act=me,Jt.cloneElement=function(se,I,K){if(se==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+se+".");var Z=x({},se.props),oe=se.key,de=se.ref,ge=se._owner;if(I!=null){if(I.ref!==void 0&&(de=I.ref,ge=$.current),I.key!==void 0&&(oe=""+I.key),se.type&&se.type.defaultProps)var Ce=se.type.defaultProps;for(ke in I)O.call(I,ke)&&!U.hasOwnProperty(ke)&&(Z[ke]=I[ke]===void 0&&Ce!==void 0?Ce[ke]:I[ke])}var ke=arguments.length-2;if(ke===1)Z.children=K;else if(1<ke){Ce=Array(ke);for(var ze=0;ze<ke;ze++)Ce[ze]=arguments[ze+2];Z.children=Ce}return{$$typeof:i,type:se.type,key:oe,ref:de,props:Z,_owner:ge}},Jt.createContext=function(se){return se={$$typeof:a,_currentValue:se,_currentValue2:se,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},se.Provider={$$typeof:s,_context:se},se.Consumer=se},Jt.createElement=D,Jt.createFactory=function(se){var I=D.bind(null,se);return I.type=se,I},Jt.createRef=function(){return{current:null}},Jt.forwardRef=function(se){return{$$typeof:o,render:se}},Jt.isValidElement=ue,Jt.lazy=function(se){return{$$typeof:d,_payload:{_status:-1,_result:se},_init:fe}},Jt.memo=function(se,I){return{$$typeof:h,type:se,compare:I===void 0?null:I}},Jt.startTransition=function(se){var I=ne.transition;ne.transition={};try{se()}finally{ne.transition=I}},Jt.unstable_act=me,Jt.useCallback=function(se,I){return he.current.useCallback(se,I)},Jt.useContext=function(se){return he.current.useContext(se)},Jt.useDebugValue=function(){},Jt.useDeferredValue=function(se){return he.current.useDeferredValue(se)},Jt.useEffect=function(se,I){return he.current.useEffect(se,I)},Jt.useId=function(){return he.current.useId()},Jt.useImperativeHandle=function(se,I,K){return he.current.useImperativeHandle(se,I,K)},Jt.useInsertionEffect=function(se,I){return he.current.useInsertionEffect(se,I)},Jt.useLayoutEffect=function(se,I){return he.current.useLayoutEffect(se,I)},Jt.useMemo=function(se,I){return he.current.useMemo(se,I)},Jt.useReducer=function(se,I,K){return he.current.useReducer(se,I,K)},Jt.useRef=function(se){return he.current.useRef(se)},Jt.useState=function(se){return he.current.useState(se)},Jt.useSyncExternalStore=function(se,I,K){return he.current.useSyncExternalStore(se,I,K)},Jt.useTransition=function(){return he.current.useTransition()},Jt.version="18.3.1",Jt}var zC;function ES(){return zC||(zC=1,bw.exports=k8()),bw.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UC;function E8(){if(UC)return H0;UC=1;var i=ES(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,r=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,c,h){var d,p={},y=null,v=null;h!==void 0&&(y=""+h),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(v=c.ref);for(d in c)n.call(c,d)&&!s.hasOwnProperty(d)&&(p[d]=c[d]);if(o&&o.defaultProps)for(d in c=o.defaultProps,c)p[d]===void 0&&(p[d]=c[d]);return{$$typeof:e,type:o,key:y,ref:v,props:p,_owner:r.current}}return H0.Fragment=t,H0.jsx=a,H0.jsxs=a,H0}var qC;function P8(){return qC||(qC=1,vw.exports=E8()),vw.exports}var L=P8(),Jv={},_w={exports:{}},ra={},ww={exports:{}},xw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HC;function T8(){return HC||(HC=1,function(i){function e(ne,ye){var me=ne.length;ne.push(ye);e:for(;0<me;){var se=me-1>>>1,I=ne[se];if(0<r(I,ye))ne[se]=ye,ne[me]=I,me=se;else break e}}function t(ne){return ne.length===0?null:ne[0]}function n(ne){if(ne.length===0)return null;var ye=ne[0],me=ne.pop();if(me!==ye){ne[0]=me;e:for(var se=0,I=ne.length,K=I>>>1;se<K;){var Z=2*(se+1)-1,oe=ne[Z],de=Z+1,ge=ne[de];if(0>r(oe,me))de<I&&0>r(ge,oe)?(ne[se]=ge,ne[de]=me,se=de):(ne[se]=oe,ne[Z]=me,se=Z);else if(de<I&&0>r(ge,me))ne[se]=ge,ne[de]=me,se=de;else break e}}return ye}function r(ne,ye){var me=ne.sortIndex-ye.sortIndex;return me!==0?me:ne.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();i.unstable_now=function(){return a.now()-o}}var c=[],h=[],d=1,p=null,y=3,v=!1,x=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(ne){for(var ye=t(h);ye!==null;){if(ye.callback===null)n(h);else if(ye.startTime<=ne)n(h),ye.sortIndex=ye.expirationTime,e(c,ye);else break;ye=t(h)}}function M(ne){if(w=!1,R(ne),!x)if(t(c)!==null)x=!0,fe(O);else{var ye=t(h);ye!==null&&he(M,ye.startTime-ne)}}function O(ne,ye){x=!1,w&&(w=!1,S(D),D=-1),v=!0;var me=y;try{for(R(ye),p=t(c);p!==null&&(!(p.expirationTime>ye)||ne&&!j());){var se=p.callback;if(typeof se=="function"){p.callback=null,y=p.priorityLevel;var I=se(p.expirationTime<=ye);ye=i.unstable_now(),typeof I=="function"?p.callback=I:p===t(c)&&n(c),R(ye)}else n(c);p=t(c)}if(p!==null)var K=!0;else{var Z=t(h);Z!==null&&he(M,Z.startTime-ye),K=!1}return K}finally{p=null,y=me,v=!1}}var $=!1,U=null,D=-1,Q=5,ue=-1;function j(){return!(i.unstable_now()-ue<Q)}function V(){if(U!==null){var ne=i.unstable_now();ue=ne;var ye=!0;try{ye=U(!0,ne)}finally{ye?ee():($=!1,U=null)}}else $=!1}var ee;if(typeof P=="function")ee=function(){P(V)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,pe=re.port2;re.port1.onmessage=V,ee=function(){pe.postMessage(null)}}else ee=function(){C(V,0)};function fe(ne){U=ne,$||($=!0,ee())}function he(ne,ye){D=C(function(){ne(i.unstable_now())},ye)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ne){ne.callback=null},i.unstable_continueExecution=function(){x||v||(x=!0,fe(O))},i.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<ne?Math.floor(1e3/ne):5},i.unstable_getCurrentPriorityLevel=function(){return y},i.unstable_getFirstCallbackNode=function(){return t(c)},i.unstable_next=function(ne){switch(y){case 1:case 2:case 3:var ye=3;break;default:ye=y}var me=y;y=ye;try{return ne()}finally{y=me}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ne,ye){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var me=y;y=ne;try{return ye()}finally{y=me}},i.unstable_scheduleCallback=function(ne,ye,me){var se=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?se+me:se):me=se,ne){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=me+I,ne={id:d++,callback:ye,priorityLevel:ne,startTime:me,expirationTime:I,sortIndex:-1},me>se?(ne.sortIndex=me,e(h,ne),t(c)===null&&ne===t(h)&&(w?(S(D),D=-1):w=!0,he(M,me-se))):(ne.sortIndex=I,e(c,ne),x||v||(x=!0,fe(O))),ne},i.unstable_shouldYield=j,i.unstable_wrapCallback=function(ne){var ye=y;return function(){var me=y;y=ye;try{return ne.apply(this,arguments)}finally{y=me}}}}(xw)),xw}var $C;function L8(){return $C||($C=1,ww.exports=T8()),ww.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VC;function N8(){if(VC)return ra;VC=1;var i=ES(),e=L8();function t(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,f=1;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,r={};function s(l,u){a(l,u),a(l+"Capture",u)}function a(l,u){for(r[l]=u,l=0;l<u.length;l++)n.add(u[l])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function y(l){return c.call(p,l)?!0:c.call(d,l)?!1:h.test(l)?p[l]=!0:(d[l]=!0,!1)}function v(l,u,f,b){if(f!==null&&f.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return b?!1:f!==null?!f.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function x(l,u,f,b){if(u===null||typeof u>"u"||v(l,u,f,b))return!0;if(b)return!1;if(f!==null)switch(f.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function w(l,u,f,b,k,T,H){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=b,this.attributeNamespace=k,this.mustUseProperty=f,this.propertyName=l,this.type=u,this.sanitizeURL=T,this.removeEmptyString=H}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){C[l]=new w(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var u=l[0];C[u]=new w(u,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){C[l]=new w(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){C[l]=new w(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){C[l]=new w(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){C[l]=new w(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){C[l]=new w(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){C[l]=new w(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){C[l]=new w(l,5,!1,l.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function P(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var u=l.replace(S,P);C[u]=new w(u,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var u=l.replace(S,P);C[u]=new w(u,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var u=l.replace(S,P);C[u]=new w(u,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){C[l]=new w(l,1,!1,l.toLowerCase(),null,!1,!1)}),C.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){C[l]=new w(l,1,!1,l.toLowerCase(),null,!0,!0)});function R(l,u,f,b){var k=C.hasOwnProperty(u)?C[u]:null;(k!==null?k.type!==0:b||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(x(u,f,k,b)&&(f=null),b||k===null?y(u)&&(f===null?l.removeAttribute(u):l.setAttribute(u,""+f)):k.mustUseProperty?l[k.propertyName]=f===null?k.type===3?!1:"":f:(u=k.attributeName,b=k.attributeNamespace,f===null?l.removeAttribute(u):(k=k.type,f=k===3||k===4&&f===!0?"":""+f,b?l.setAttributeNS(b,u,f):l.setAttribute(u,f))))}var M=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),$=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),ue=Symbol.for("react.provider"),j=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),pe=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),ne=Symbol.iterator;function ye(l){return l===null||typeof l!="object"?null:(l=ne&&l[ne]||l["@@iterator"],typeof l=="function"?l:null)}var me=Object.assign,se;function I(l){if(se===void 0)try{throw Error()}catch(f){var u=f.stack.trim().match(/\n( *(at )?)/);se=u&&u[1]||""}return`
`+se+l}var K=!1;function Z(l,u){if(!l||K)return"";K=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Ie){var b=Ie}Reflect.construct(l,[],u)}else{try{u.call()}catch(Ie){b=Ie}l.call(u.prototype)}else{try{throw Error()}catch(Ie){b=Ie}l()}}catch(Ie){if(Ie&&b&&typeof Ie.stack=="string"){for(var k=Ie.stack.split(`
`),T=b.stack.split(`
`),H=k.length-1,ce=T.length-1;1<=H&&0<=ce&&k[H]!==T[ce];)ce--;for(;1<=H&&0<=ce;H--,ce--)if(k[H]!==T[ce]){if(H!==1||ce!==1)do if(H--,ce--,0>ce||k[H]!==T[ce]){var _e=`
`+k[H].replace(" at new "," at ");return l.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",l.displayName)),_e}while(1<=H&&0<=ce);break}}}finally{K=!1,Error.prepareStackTrace=f}return(l=l?l.displayName||l.name:"")?I(l):""}function oe(l){switch(l.tag){case 5:return I(l.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return l=Z(l.type,!1),l;case 11:return l=Z(l.type.render,!1),l;case 1:return l=Z(l.type,!0),l;default:return""}}function de(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case U:return"Fragment";case $:return"Portal";case Q:return"Profiler";case D:return"StrictMode";case ee:return"Suspense";case re:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case j:return(l.displayName||"Context")+".Consumer";case ue:return(l._context.displayName||"Context")+".Provider";case V:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case pe:return u=l.displayName||null,u!==null?u:de(l.type)||"Memo";case fe:u=l._payload,l=l._init;try{return de(l(u))}catch{}}return null}function ge(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=u.render,l=l.displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(u);case 8:return u===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Ce(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function ke(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function ze(l){var u=ke(l)?"checked":"value",f=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),b=""+l[u];if(!l.hasOwnProperty(u)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var k=f.get,T=f.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return k.call(this)},set:function(H){b=""+H,T.call(this,H)}}),Object.defineProperty(l,u,{enumerable:f.enumerable}),{getValue:function(){return b},setValue:function(H){b=""+H},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function Me(l){l._valueTracker||(l._valueTracker=ze(l))}function Ge(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var f=u.getValue(),b="";return l&&(b=ke(l)?l.checked?"true":"false":l.value),l=b,l!==f?(u.setValue(l),!0):!1}function He(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function it(l,u){var f=u.checked;return me({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??l._wrapperState.initialChecked})}function Re(l,u){var f=u.defaultValue==null?"":u.defaultValue,b=u.checked!=null?u.checked:u.defaultChecked;f=Ce(u.value!=null?u.value:f),l._wrapperState={initialChecked:b,initialValue:f,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function le(l,u){u=u.checked,u!=null&&R(l,"checked",u,!1)}function St(l,u){le(l,u);var f=Ce(u.value),b=u.type;if(f!=null)b==="number"?(f===0&&l.value===""||l.value!=f)&&(l.value=""+f):l.value!==""+f&&(l.value=""+f);else if(b==="submit"||b==="reset"){l.removeAttribute("value");return}u.hasOwnProperty("value")?Ye(l,u.type,f):u.hasOwnProperty("defaultValue")&&Ye(l,u.type,Ce(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(l.defaultChecked=!!u.defaultChecked)}function ct(l,u,f){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var b=u.type;if(!(b!=="submit"&&b!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+l._wrapperState.initialValue,f||u===l.value||(l.value=u),l.defaultValue=u}f=l.name,f!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,f!==""&&(l.name=f)}function Ye(l,u,f){(u!=="number"||He(l.ownerDocument)!==l)&&(f==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+f&&(l.defaultValue=""+f))}var Je=Array.isArray;function Qe(l,u,f,b){if(l=l.options,u){u={};for(var k=0;k<f.length;k++)u["$"+f[k]]=!0;for(f=0;f<l.length;f++)k=u.hasOwnProperty("$"+l[f].value),l[f].selected!==k&&(l[f].selected=k),k&&b&&(l[f].defaultSelected=!0)}else{for(f=""+Ce(f),u=null,k=0;k<l.length;k++){if(l[k].value===f){l[k].selected=!0,b&&(l[k].defaultSelected=!0);return}u!==null||l[k].disabled||(u=l[k])}u!==null&&(u.selected=!0)}}function et(l,u){if(u.dangerouslySetInnerHTML!=null)throw Error(t(91));return me({},u,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function gt(l,u){var f=u.value;if(f==null){if(f=u.children,u=u.defaultValue,f!=null){if(u!=null)throw Error(t(92));if(Je(f)){if(1<f.length)throw Error(t(93));f=f[0]}u=f}u==null&&(u=""),f=u}l._wrapperState={initialValue:Ce(f)}}function Tt(l,u){var f=Ce(u.value),b=Ce(u.defaultValue);f!=null&&(f=""+f,f!==l.value&&(l.value=f),u.defaultValue==null&&l.defaultValue!==f&&(l.defaultValue=f)),b!=null&&(l.defaultValue=""+b)}function Ot(l){var u=l.textContent;u===l._wrapperState.initialValue&&u!==""&&u!==null&&(l.value=u)}function Ht(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zt(l,u){return l==null||l==="http://www.w3.org/1999/xhtml"?Ht(u):l==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var Kt,xt=function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,f,b,k){MSApp.execUnsafeLocalFunction(function(){return l(u,f,b,k)})}:l}(function(l,u){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=u;else{for(Kt=Kt||document.createElement("div"),Kt.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Kt.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;u.firstChild;)l.appendChild(u.firstChild)}});function Rt(l,u){if(u){var f=l.firstChild;if(f&&f===l.lastChild&&f.nodeType===3){f.nodeValue=u;return}}l.textContent=u}var rt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ai=["Webkit","ms","Moz","O"];Object.keys(rt).forEach(function(l){ai.forEach(function(u){u=u+l.charAt(0).toUpperCase()+l.substring(1),rt[u]=rt[l]})});function rn(l,u,f){return u==null||typeof u=="boolean"||u===""?"":f||typeof u!="number"||u===0||rt.hasOwnProperty(l)&&rt[l]?(""+u).trim():u+"px"}function Us(l,u){l=l.style;for(var f in u)if(u.hasOwnProperty(f)){var b=f.indexOf("--")===0,k=rn(f,u[f],b);f==="float"&&(f="cssFloat"),b?l.setProperty(f,k):l[f]=k}}var kn=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function In(l,u){if(u){if(kn[l]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(t(137,l));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(t(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(t(61))}if(u.style!=null&&typeof u.style!="object")throw Error(t(62))}}function qs(l,u){if(l.indexOf("-")===-1)return typeof u.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ln=null;function Lo(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Un=null,oi=null,zi=null;function $n(l){if(l=Ph(l)){if(typeof Un!="function")throw Error(t(280));var u=l.stateNode;u&&(u=uf(u),Un(l.stateNode,l.type,u))}}function It(l){oi?zi?zi.push(l):zi=[l]:oi=l}function hn(){if(oi){var l=oi,u=zi;if(zi=oi=null,$n(l),u)for(l=0;l<u.length;l++)$n(u[l])}}function Al(l,u){return l(u)}function Br(){}var Hs=!1;function ba(l,u,f){if(Hs)return l(u,f);Hs=!0;try{return Al(l,u,f)}finally{Hs=!1,(oi!==null||zi!==null)&&(Br(),hn())}}function _t(l,u){var f=l.stateNode;if(f===null)return null;var b=uf(f);if(b===null)return null;f=b[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(l=l.type,b=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!b;break e;default:l=!1}if(l)return null;if(f&&typeof f!="function")throw Error(t(231,u,typeof f));return f}var vs=!1;if(o)try{var Ui={};Object.defineProperty(Ui,"passive",{get:function(){vs=!0}}),window.addEventListener("test",Ui,Ui),window.removeEventListener("test",Ui,Ui)}catch{vs=!1}function qi(l,u,f,b,k,T,H,ce,_e){var Ie=Array.prototype.slice.call(arguments,3);try{u.apply(f,Ie)}catch(We){this.onError(We)}}var Vn=!1,Wn=null,li=!1,Cl=null,No={onError:function(l){Vn=!0,Wn=l}};function _a(l,u,f,b,k,T,H,ce,_e){Vn=!1,Wn=null,qi.apply(No,arguments)}function wa(l,u,f,b,k,T,H,ce,_e){if(_a.apply(this,arguments),Vn){if(Vn){var Ie=Wn;Vn=!1,Wn=null}else throw Error(t(198));li||(li=!0,Cl=Ie)}}function Yr(l){var u=l,f=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(f=u.return),l=u.return;while(l)}return u.tag===3?f:null}function xa(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function bs(l){if(Yr(l)!==l)throw Error(t(188))}function Za(l){var u=l.alternate;if(!u){if(u=Yr(l),u===null)throw Error(t(188));return u!==l?null:l}for(var f=l,b=u;;){var k=f.return;if(k===null)break;var T=k.alternate;if(T===null){if(b=k.return,b!==null){f=b;continue}break}if(k.child===T.child){for(T=k.child;T;){if(T===f)return bs(k),l;if(T===b)return bs(k),u;T=T.sibling}throw Error(t(188))}if(f.return!==b.return)f=k,b=T;else{for(var H=!1,ce=k.child;ce;){if(ce===f){H=!0,f=k,b=T;break}if(ce===b){H=!0,b=k,f=T;break}ce=ce.sibling}if(!H){for(ce=T.child;ce;){if(ce===f){H=!0,f=T,b=k;break}if(ce===b){H=!0,b=T,f=k;break}ce=ce.sibling}if(!H)throw Error(t(189))}}if(f.alternate!==b)throw Error(t(190))}if(f.tag!==3)throw Error(t(188));return f.stateNode.current===f?l:u}function kl(l){return l=Za(l),l!==null?Pc(l):null}function Pc(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=Pc(l);if(u!==null)return u;l=l.sibling}return null}var Tc=e.unstable_scheduleCallback,Lc=e.unstable_cancelCallback,Qu=e.unstable_shouldYield,im=e.unstable_requestPaint,Gn=e.unstable_now,x0=e.unstable_getCurrentPriorityLevel,El=e.unstable_ImmediatePriority,qd=e.unstable_UserBlockingPriority,Zu=e.unstable_NormalPriority,Hd=e.unstable_LowPriority,sm=e.unstable_IdlePriority,Nc=null,$s=null;function eh(l){if($s&&typeof $s.onCommitFiberRoot=="function")try{$s.onCommitFiberRoot(Nc,l,void 0,(l.current.flags&128)===128)}catch{}}var _s=Math.clz32?Math.clz32:om,or=Math.log,am=Math.LN2;function om(l){return l>>>=0,l===0?32:31-(or(l)/am|0)|0}var Rc=64,Pl=4194304;function Ic(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Hi(l,u){var f=l.pendingLanes;if(f===0)return 0;var b=0,k=l.suspendedLanes,T=l.pingedLanes,H=f&268435455;if(H!==0){var ce=H&~k;ce!==0?b=Ic(ce):(T&=H,T!==0&&(b=Ic(T)))}else H=f&~k,H!==0?b=Ic(H):T!==0&&(b=Ic(T));if(b===0)return 0;if(u!==0&&u!==b&&(u&k)===0&&(k=b&-b,T=u&-u,k>=T||k===16&&(T&4194240)!==0))return u;if((b&4)!==0&&(b|=f&16),u=l.entangledLanes,u!==0)for(l=l.entanglements,u&=b;0<u;)f=31-_s(u),k=1<<f,b|=l[f],u&=~k;return b}function th(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $i(l,u){for(var f=l.suspendedLanes,b=l.pingedLanes,k=l.expirationTimes,T=l.pendingLanes;0<T;){var H=31-_s(T),ce=1<<H,_e=k[H];_e===-1?((ce&f)===0||(ce&b)!==0)&&(k[H]=th(ce,u)):_e<=u&&(l.expiredLanes|=ce),T&=~ce}}function Mc(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function $d(){var l=Rc;return Rc<<=1,(Rc&4194240)===0&&(Rc=64),l}function Vd(l){for(var u=[],f=0;31>f;f++)u.push(l);return u}function Tl(l,u,f){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,u=31-_s(u),l[u]=f}function S0(l,u){var f=l.pendingLanes&~u;l.pendingLanes=u,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=u,l.mutableReadLanes&=u,l.entangledLanes&=u,u=l.entanglements;var b=l.eventTimes;for(l=l.expirationTimes;0<f;){var k=31-_s(f),T=1<<k;u[k]=0,b[k]=-1,l[k]=-1,f&=~T}}function nh(l,u){var f=l.entangledLanes|=u;for(l=l.entanglements;f;){var b=31-_s(f),k=1<<b;k&u|l[b]&u&&(l[b]|=u),f&=~k}}var dn=0;function rh(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var lm,Wd,cm,eo,Oc,Ll=!1,Fc=[],Yn=null,to=null,Sa=null,Et=new Map,Dc=new Map,no=[],ro="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gd(l,u){switch(l){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":to=null;break;case"mouseover":case"mouseout":Sa=null;break;case"pointerover":case"pointerout":Et.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dc.delete(u.pointerId)}}function Nl(l,u,f,b,k,T){return l===null||l.nativeEvent!==T?(l={blockedOn:u,domEventName:f,eventSystemFlags:b,nativeEvent:T,targetContainers:[k]},u!==null&&(u=Ph(u),u!==null&&Wd(u)),l):(l.eventSystemFlags|=b,u=l.targetContainers,k!==null&&u.indexOf(k)===-1&&u.push(k),l)}function ih(l,u,f,b,k){switch(u){case"focusin":return Yn=Nl(Yn,l,u,f,b,k),!0;case"dragenter":return to=Nl(to,l,u,f,b,k),!0;case"mouseover":return Sa=Nl(Sa,l,u,f,b,k),!0;case"pointerover":var T=k.pointerId;return Et.set(T,Nl(Et.get(T)||null,l,u,f,b,k)),!0;case"gotpointercapture":return T=k.pointerId,Dc.set(T,Nl(Dc.get(T)||null,l,u,f,b,k)),!0}return!1}function sh(l){var u=ql(l.target);if(u!==null){var f=Yr(u);if(f!==null){if(u=f.tag,u===13){if(u=xa(f),u!==null){l.blockedOn=u,Oc(l.priority,function(){cm(f)});return}}else if(u===3&&f.stateNode.current.memoizedState.isDehydrated){l.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}l.blockedOn=null}function ah(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var f=lh(l.domEventName,l.eventSystemFlags,u[0],l.nativeEvent);if(f===null){f=l.nativeEvent;var b=new f.constructor(f.type,f);ln=b,f.target.dispatchEvent(b),ln=null}else return u=Ph(f),u!==null&&Wd(u),l.blockedOn=f,!1;u.shift()}return!0}function um(l,u,f){ah(l)&&f.delete(u)}function A0(){Ll=!1,Yn!==null&&ah(Yn)&&(Yn=null),to!==null&&ah(to)&&(to=null),Sa!==null&&ah(Sa)&&(Sa=null),Et.forEach(um),Dc.forEach(um)}function Ro(l,u){l.blockedOn===u&&(l.blockedOn=null,Ll||(Ll=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,A0)))}function Aa(l){function u(k){return Ro(k,l)}if(0<Fc.length){Ro(Fc[0],l);for(var f=1;f<Fc.length;f++){var b=Fc[f];b.blockedOn===l&&(b.blockedOn=null)}}for(Yn!==null&&Ro(Yn,l),to!==null&&Ro(to,l),Sa!==null&&Ro(Sa,l),Et.forEach(u),Dc.forEach(u),f=0;f<no.length;f++)b=no[f],b.blockedOn===l&&(b.blockedOn=null);for(;0<no.length&&(f=no[0],f.blockedOn===null);)sh(f),f.blockedOn===null&&no.shift()}var ws=M.ReactCurrentBatchConfig,oh=!0;function jc(l,u,f,b){var k=dn,T=ws.transition;ws.transition=null;try{dn=1,Rl(l,u,f,b)}finally{dn=k,ws.transition=T}}function Yd(l,u,f,b){var k=dn,T=ws.transition;ws.transition=null;try{dn=4,Rl(l,u,f,b)}finally{dn=k,ws.transition=T}}function Rl(l,u,f,b){if(oh){var k=lh(l,u,f,b);if(k===null)of(l,u,b,Bc,f),Gd(l,b);else if(ih(k,l,u,f,b))b.stopPropagation();else if(Gd(l,b),u&4&&-1<ro.indexOf(l)){for(;k!==null;){var T=Ph(k);if(T!==null&&lm(T),T=lh(l,u,f,b),T===null&&of(l,u,b,Bc,f),T===k)break;k=T}k!==null&&b.stopPropagation()}else of(l,u,b,null,f)}}var Bc=null;function lh(l,u,f,b){if(Bc=null,l=Lo(b),l=ql(l),l!==null)if(u=Yr(l),u===null)l=null;else if(f=u.tag,f===13){if(l=xa(u),l!==null)return l;l=null}else if(f===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null);return Bc=l,null}function Xd(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(x0()){case El:return 1;case qd:return 4;case Zu:case Hd:return 16;case sm:return 536870912;default:return 16}default:return 16}}var Ca=null,Vs=null,Ws=null;function hm(){if(Ws)return Ws;var l,u=Vs,f=u.length,b,k="value"in Ca?Ca.value:Ca.textContent,T=k.length;for(l=0;l<f&&u[l]===k[l];l++);var H=f-l;for(b=1;b<=H&&u[f-b]===k[T-b];b++);return Ws=k.slice(l,1<b?1-b:void 0)}function ka(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function Vi(){return!0}function ch(){return!1}function kr(l){function u(f,b,k,T,H){this._reactName=f,this._targetInst=k,this.type=b,this.nativeEvent=T,this.target=H,this.currentTarget=null;for(var ce in l)l.hasOwnProperty(ce)&&(f=l[ce],this[ce]=f?f(T):T[ce]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Vi:ch,this.isPropagationStopped=ch,this}return me(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),u}var Il={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ml=kr(Il),zc=me({},Il,{view:0,detail:0}),Kd=kr(zc),Uc,uh,io,Ol=me({},zc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:at,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==io&&(io&&l.type==="mousemove"?(Uc=l.screenX-io.screenX,uh=l.screenY-io.screenY):uh=Uc=0,io=l),Uc)},movementY:function(l){return"movementY"in l?l.movementY:uh}}),hh=kr(Ol),dm=me({},Ol,{dataTransfer:0}),C0=kr(dm),dh=me({},zc,{relatedTarget:0}),Io=kr(dh),Jd=me({},Il,{animationName:0,elapsedTime:0,pseudoElement:0}),Fl=kr(Jd),Qd=me({},Il,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),A=kr(Qd),B=me({},Il,{data:0}),ae=kr(B),ve={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},De={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $e(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=De[l])?!!u[l]:!1}function at(){return $e}var bt=me({},zc,{key:function(l){if(l.key){var u=ve[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=ka(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Ee[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:at,charCode:function(l){return l.type==="keypress"?ka(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?ka(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Dt=kr(bt),Ft=me({},Ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),en=kr(Ft),Xn=me({},zc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:at}),tr=kr(Xn),gr=me({},Il,{propertyName:0,elapsedTime:0,pseudoElement:0}),ci=kr(gr),zr=me({},Ol,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Ea=kr(zr),xs=[9,13,27,32],Gs=o&&"CompositionEvent"in window,Dl=null;o&&"documentMode"in document&&(Dl=document.documentMode);var Zd=o&&"TextEvent"in window&&!Dl,fh=o&&(!Gs||Dl&&8<Dl&&11>=Dl),qc=" ",ph=!1;function mh(l,u){switch(l){case"keyup":return xs.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hc(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var nr=!1;function gh(l,u){switch(l){case"compositionend":return Hc(u);case"keypress":return u.which!==32?null:(ph=!0,qc);case"textInput":return l=u.data,l===qc&&ph?null:l;default:return null}}function yh(l,u){if(nr)return l==="compositionend"||!Gs&&mh(l,u)?(l=hm(),Ws=Vs=Ca=null,nr=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return fh&&u.locale!=="ko"?null:u.data;default:return null}}var vh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bh(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!vh[l.type]:u==="textarea"}function ki(l,u,f,b){It(b),u=gm(u,"onChange"),0<u.length&&(f=new Ml("onChange","change",null,f,b),l.push({event:f,listeners:u}))}var $c=null,Mo=null;function fm(l){sf(l,0)}function Ei(l){var u=Zc(l);if(Ge(u))return l}function _h(l,u){if(l==="change")return u}var ef=!1;if(o){var wh;if(o){var so="oninput"in document;if(!so){var jl=document.createElement("div");jl.setAttribute("oninput","return;"),so=typeof jl.oninput=="function"}wh=so}else wh=!1;ef=wh&&(!document.documentMode||9<document.documentMode)}function Pi(){$c&&($c.detachEvent("onpropertychange",ui),Mo=$c=null)}function ui(l){if(l.propertyName==="value"&&Ei(Mo)){var u=[];ki(u,Mo,l,Lo(l)),ba(fm,u)}}function Bl(l,u,f){l==="focusin"?(Pi(),$c=u,Mo=f,$c.attachEvent("onpropertychange",ui)):l==="focusout"&&Pi()}function Oo(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Ei(Mo)}function Fo(l,u){if(l==="click")return Ei(u)}function xh(l,u){if(l==="input"||l==="change")return Ei(u)}function Do(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var fn=typeof Object.is=="function"?Object.is:Do;function jo(l,u){if(fn(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var f=Object.keys(l),b=Object.keys(u);if(f.length!==b.length)return!1;for(b=0;b<f.length;b++){var k=f[b];if(!c.call(u,k)||!fn(l[k],u[k]))return!1}return!0}function hi(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Ss(l,u){var f=hi(l);l=0;for(var b;f;){if(f.nodeType===3){if(b=l+f.textContent.length,l<=u&&b>=u)return{node:f,offset:u-l};l=b}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=hi(f)}}function Vc(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?Vc(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function tf(){for(var l=window,u=He();u instanceof l.HTMLIFrameElement;){try{var f=typeof u.contentWindow.location.href=="string"}catch{f=!1}if(f)l=u.contentWindow;else break;u=He(l.document)}return u}function Wc(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}function Gc(l){var u=tf(),f=l.focusedElem,b=l.selectionRange;if(u!==f&&f&&f.ownerDocument&&Vc(f.ownerDocument.documentElement,f)){if(b!==null&&Wc(f)){if(u=b.start,l=b.end,l===void 0&&(l=u),"selectionStart"in f)f.selectionStart=u,f.selectionEnd=Math.min(l,f.value.length);else if(l=(u=f.ownerDocument||document)&&u.defaultView||window,l.getSelection){l=l.getSelection();var k=f.textContent.length,T=Math.min(b.start,k);b=b.end===void 0?T:Math.min(b.end,k),!l.extend&&T>b&&(k=b,b=T,T=k),k=Ss(f,T);var H=Ss(f,b);k&&H&&(l.rangeCount!==1||l.anchorNode!==k.node||l.anchorOffset!==k.offset||l.focusNode!==H.node||l.focusOffset!==H.offset)&&(u=u.createRange(),u.setStart(k.node,k.offset),l.removeAllRanges(),T>b?(l.addRange(u),l.extend(H.node,H.offset)):(u.setEnd(H.node,H.offset),l.addRange(u)))}}for(u=[],l=f;l=l.parentNode;)l.nodeType===1&&u.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<u.length;f++)l=u[f],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var Yc=o&&"documentMode"in document&&11>=document.documentMode,As=null,Bo=null,ao=null,zo=!1;function Uo(l,u,f){var b=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;zo||As==null||As!==He(b)||(b=As,"selectionStart"in b&&Wc(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),ao&&jo(ao,b)||(ao=b,b=gm(Bo,"onSelect"),0<b.length&&(u=new Ml("onSelect","select",null,u,f),l.push({event:u,listeners:b}),u.target=As)))}function zl(l,u){var f={};return f[l.toLowerCase()]=u.toLowerCase(),f["Webkit"+l]="webkit"+u,f["Moz"+l]="moz"+u,f}var Xr={animationend:zl("Animation","AnimationEnd"),animationiteration:zl("Animation","AnimationIteration"),animationstart:zl("Animation","AnimationStart"),transitionend:zl("Transition","TransitionEnd")},Wi={},En={};o&&(En=document.createElement("div").style,"AnimationEvent"in window||(delete Xr.animationend.animation,delete Xr.animationiteration.animation,delete Xr.animationstart.animation),"TransitionEvent"in window||delete Xr.transitionend.transition);function vn(l){if(Wi[l])return Wi[l];if(!Xr[l])return l;var u=Xr[l],f;for(f in u)if(u.hasOwnProperty(f)&&f in En)return Wi[l]=u[f];return l}var rr=vn("animationend"),yr=vn("animationiteration"),oo=vn("animationstart"),Sh=vn("transitionend"),Xc=new Map,nf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lo(l,u){Xc.set(l,u),s(u,[l])}for(var Ah=0;Ah<nf.length;Ah++){var Ti=nf[Ah],Ys=Ti.toLowerCase(),pm=Ti[0].toUpperCase()+Ti.slice(1);lo(Ys,"on"+pm)}lo(rr,"onAnimationEnd"),lo(yr,"onAnimationIteration"),lo(oo,"onAnimationStart"),lo("dblclick","onDoubleClick"),lo("focusin","onFocus"),lo("focusout","onBlur"),lo(Sh,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ul));function rf(l,u,f){var b=l.type||"unknown-event";l.currentTarget=f,wa(b,u,void 0,l),l.currentTarget=null}function sf(l,u){u=(u&4)!==0;for(var f=0;f<l.length;f++){var b=l[f],k=b.event;b=b.listeners;e:{var T=void 0;if(u)for(var H=b.length-1;0<=H;H--){var ce=b[H],_e=ce.instance,Ie=ce.currentTarget;if(ce=ce.listener,_e!==T&&k.isPropagationStopped())break e;rf(k,ce,Ie),T=_e}else for(H=0;H<b.length;H++){if(ce=b[H],_e=ce.instance,Ie=ce.currentTarget,ce=ce.listener,_e!==T&&k.isPropagationStopped())break e;rf(k,ce,Ie),T=_e}}}if(li)throw l=Cl,li=!1,Cl=null,l}function Pn(l,u){var f=u[Yi];f===void 0&&(f=u[Yi]=new Set);var b=l+"__bubble";f.has(b)||(af(u,l,2,!1),f.add(b))}function mm(l,u,f){var b=0;u&&(b|=4),af(f,l,b,u)}var Ch="_reactListening"+Math.random().toString(36).slice(2);function Kc(l){if(!l[Ch]){l[Ch]=!0,n.forEach(function(f){f!=="selectionchange"&&(yv.has(f)||mm(f,!1,l),mm(f,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[Ch]||(u[Ch]=!0,mm("selectionchange",!1,u))}}function af(l,u,f,b){switch(Xd(u)){case 1:var k=jc;break;case 4:k=Yd;break;default:k=Rl}f=k.bind(null,u,f,l),k=void 0,!vs||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(k=!0),b?k!==void 0?l.addEventListener(u,f,{capture:!0,passive:k}):l.addEventListener(u,f,!0):k!==void 0?l.addEventListener(u,f,{passive:k}):l.addEventListener(u,f,!1)}function of(l,u,f,b,k){var T=b;if((u&1)===0&&(u&2)===0&&b!==null)e:for(;;){if(b===null)return;var H=b.tag;if(H===3||H===4){var ce=b.stateNode.containerInfo;if(ce===k||ce.nodeType===8&&ce.parentNode===k)break;if(H===4)for(H=b.return;H!==null;){var _e=H.tag;if((_e===3||_e===4)&&(_e=H.stateNode.containerInfo,_e===k||_e.nodeType===8&&_e.parentNode===k))return;H=H.return}for(;ce!==null;){if(H=ql(ce),H===null)return;if(_e=H.tag,_e===5||_e===6){b=T=H;continue e}ce=ce.parentNode}}b=b.return}ba(function(){var Ie=T,We=Lo(f),Xe=[];e:{var Ve=Xc.get(l);if(Ve!==void 0){var lt=Ml,dt=l;switch(l){case"keypress":if(ka(f)===0)break e;case"keydown":case"keyup":lt=Dt;break;case"focusin":dt="focus",lt=Io;break;case"focusout":dt="blur",lt=Io;break;case"beforeblur":case"afterblur":lt=Io;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":lt=hh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":lt=C0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":lt=tr;break;case rr:case yr:case oo:lt=Fl;break;case Sh:lt=ci;break;case"scroll":lt=Kd;break;case"wheel":lt=Ea;break;case"copy":case"cut":case"paste":lt=A;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":lt=en}var mt=(u&4)!==0,Lr=!mt&&l==="scroll",Le=mt?Ve!==null?Ve+"Capture":null:Ve;mt=[];for(var Se=Ie,Ne;Se!==null;){Ne=Se;var Ke=Ne.stateNode;if(Ne.tag===5&&Ke!==null&&(Ne=Ke,Le!==null&&(Ke=_t(Se,Le),Ke!=null&&mt.push(lf(Se,Ke,Ne)))),Lr)break;Se=Se.return}0<mt.length&&(Ve=new lt(Ve,dt,null,f,We),Xe.push({event:Ve,listeners:mt}))}}if((u&7)===0){e:{if(Ve=l==="mouseover"||l==="pointerover",lt=l==="mouseout"||l==="pointerout",Ve&&f!==ln&&(dt=f.relatedTarget||f.fromElement)&&(ql(dt)||dt[di]))break e;if((lt||Ve)&&(Ve=We.window===We?We:(Ve=We.ownerDocument)?Ve.defaultView||Ve.parentWindow:window,lt?(dt=f.relatedTarget||f.toElement,lt=Ie,dt=dt?ql(dt):null,dt!==null&&(Lr=Yr(dt),dt!==Lr||dt.tag!==5&&dt.tag!==6)&&(dt=null)):(lt=null,dt=Ie),lt!==dt)){if(mt=hh,Ke="onMouseLeave",Le="onMouseEnter",Se="mouse",(l==="pointerout"||l==="pointerover")&&(mt=en,Ke="onPointerLeave",Le="onPointerEnter",Se="pointer"),Lr=lt==null?Ve:Zc(lt),Ne=dt==null?Ve:Zc(dt),Ve=new mt(Ke,Se+"leave",lt,f,We),Ve.target=Lr,Ve.relatedTarget=Ne,Ke=null,ql(We)===Ie&&(mt=new mt(Le,Se+"enter",dt,f,We),mt.target=Ne,mt.relatedTarget=Lr,Ke=mt),Lr=Ke,lt&&dt)t:{for(mt=lt,Le=dt,Se=0,Ne=mt;Ne;Ne=Jc(Ne))Se++;for(Ne=0,Ke=Le;Ke;Ke=Jc(Ke))Ne++;for(;0<Se-Ne;)mt=Jc(mt),Se--;for(;0<Ne-Se;)Le=Jc(Le),Ne--;for(;Se--;){if(mt===Le||Le!==null&&mt===Le.alternate)break t;mt=Jc(mt),Le=Jc(Le)}mt=null}else mt=null;lt!==null&&vv(Xe,Ve,lt,mt,!1),dt!==null&&Lr!==null&&vv(Xe,Lr,dt,mt,!0)}}e:{if(Ve=Ie?Zc(Ie):window,lt=Ve.nodeName&&Ve.nodeName.toLowerCase(),lt==="select"||lt==="input"&&Ve.type==="file")var yt=_h;else if(bh(Ve))if(ef)yt=xh;else{yt=Oo;var Ct=Bl}else(lt=Ve.nodeName)&&lt.toLowerCase()==="input"&&(Ve.type==="checkbox"||Ve.type==="radio")&&(yt=Fo);if(yt&&(yt=yt(l,Ie))){ki(Xe,yt,f,We);break e}Ct&&Ct(l,Ve,Ie),l==="focusout"&&(Ct=Ve._wrapperState)&&Ct.controlled&&Ve.type==="number"&&Ye(Ve,"number",Ve.value)}switch(Ct=Ie?Zc(Ie):window,l){case"focusin":(bh(Ct)||Ct.contentEditable==="true")&&(As=Ct,Bo=Ie,ao=null);break;case"focusout":ao=Bo=As=null;break;case"mousedown":zo=!0;break;case"contextmenu":case"mouseup":case"dragend":zo=!1,Uo(Xe,f,We);break;case"selectionchange":if(Yc)break;case"keydown":case"keyup":Uo(Xe,f,We)}var kt;if(Gs)e:{switch(l){case"compositionstart":var Mt="onCompositionStart";break e;case"compositionend":Mt="onCompositionEnd";break e;case"compositionupdate":Mt="onCompositionUpdate";break e}Mt=void 0}else nr?mh(l,f)&&(Mt="onCompositionEnd"):l==="keydown"&&f.keyCode===229&&(Mt="onCompositionStart");Mt&&(fh&&f.locale!=="ko"&&(nr||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&nr&&(kt=hm()):(Ca=We,Vs="value"in Ca?Ca.value:Ca.textContent,nr=!0)),Ct=gm(Ie,Mt),0<Ct.length&&(Mt=new ae(Mt,l,null,f,We),Xe.push({event:Mt,listeners:Ct}),kt?Mt.data=kt:(kt=Hc(f),kt!==null&&(Mt.data=kt)))),(kt=Zd?gh(l,f):yh(l,f))&&(Ie=gm(Ie,"onBeforeInput"),0<Ie.length&&(We=new ae("onBeforeInput","beforeinput",null,f,We),Xe.push({event:We,listeners:Ie}),We.data=kt))}sf(Xe,u)})}function lf(l,u,f){return{instance:l,listener:u,currentTarget:f}}function gm(l,u){for(var f=u+"Capture",b=[];l!==null;){var k=l,T=k.stateNode;k.tag===5&&T!==null&&(k=T,T=_t(l,f),T!=null&&b.unshift(lf(l,T,k)),T=_t(l,u),T!=null&&b.push(lf(l,T,k))),l=l.return}return b}function Jc(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function vv(l,u,f,b,k){for(var T=u._reactName,H=[];f!==null&&f!==b;){var ce=f,_e=ce.alternate,Ie=ce.stateNode;if(_e!==null&&_e===b)break;ce.tag===5&&Ie!==null&&(ce=Ie,k?(_e=_t(f,T),_e!=null&&H.unshift(lf(f,_e,ce))):k||(_e=_t(f,T),_e!=null&&H.push(lf(f,_e,ce)))),f=f.return}H.length!==0&&l.push({event:u,listeners:H})}var N_=/\r\n?/g,R_=/\u0000|\uFFFD/g;function bv(l){return(typeof l=="string"?l:""+l).replace(N_,`
`).replace(R_,"")}function ym(l,u,f){if(u=bv(u),bv(l)!==u&&f)throw Error(t(425))}function kh(){}var cf=null,Qc=null;function k0(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var E0=typeof setTimeout=="function"?setTimeout:void 0,_v=typeof clearTimeout=="function"?clearTimeout:void 0,wv=typeof Promise=="function"?Promise:void 0,I_=typeof queueMicrotask=="function"?queueMicrotask:typeof wv<"u"?function(l){return wv.resolve(null).then(l).catch(M_)}:E0;function M_(l){setTimeout(function(){throw l})}function P0(l,u){var f=u,b=0;do{var k=f.nextSibling;if(l.removeChild(f),k&&k.nodeType===8)if(f=k.data,f==="/$"){if(b===0){l.removeChild(k),Aa(u);return}b--}else f!=="$"&&f!=="$?"&&f!=="$!"||b++;f=k}while(f);Aa(u)}function Li(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return l}function Xs(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var f=l.data;if(f==="$"||f==="$!"||f==="$?"){if(u===0)return l;u--}else f==="/$"&&u++}l=l.previousSibling}return null}var Gi=Math.random().toString(36).slice(2),co="__reactFiber$"+Gi,Eh="__reactProps$"+Gi,di="__reactContainer$"+Gi,Yi="__reactEvents$"+Gi,O_="__reactListeners$"+Gi,F_="__reactHandles$"+Gi;function ql(l){var u=l[co];if(u)return u;for(var f=l.parentNode;f;){if(u=f[di]||f[co]){if(f=u.alternate,u.child!==null||f!==null&&f.child!==null)for(l=Xs(l);l!==null;){if(f=l[co])return f;l=Xs(l)}return u}l=f,f=l.parentNode}return null}function Ph(l){return l=l[co]||l[di],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Zc(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(t(33))}function uf(l){return l[Eh]||null}var T0=[],qo=-1;function Pa(l){return{current:l}}function bn(l){0>qo||(l.current=T0[qo],T0[qo]=null,qo--)}function xn(l,u){qo++,T0[qo]=l.current,l.current=u}var Hl={},Kr=Pa(Hl),Xi=Pa(!1),eu=Hl;function Th(l,u){var f=l.type.contextTypes;if(!f)return Hl;var b=l.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===u)return b.__reactInternalMemoizedMaskedChildContext;var k={},T;for(T in f)k[T]=u[T];return b&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=k),k}function Ki(l){return l=l.childContextTypes,l!=null}function vm(){bn(Xi),bn(Kr)}function xv(l,u,f){if(Kr.current!==Hl)throw Error(t(168));xn(Kr,u),xn(Xi,f)}function L0(l,u,f){var b=l.stateNode;if(u=u.childContextTypes,typeof b.getChildContext!="function")return f;b=b.getChildContext();for(var k in b)if(!(k in u))throw Error(t(108,ge(l)||"Unknown",k));return me({},f,b)}function tu(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Hl,eu=Kr.current,xn(Kr,l),xn(Xi,Xi.current),!0}function Sv(l,u,f){var b=l.stateNode;if(!b)throw Error(t(169));f?(l=L0(l,u,eu),b.__reactInternalMemoizedMergedChildContext=l,bn(Xi),bn(Kr),xn(Kr,l)):bn(Xi),xn(Xi,f)}var Ho=null,hf=!1,m=!1;function _(l){Ho===null?Ho=[l]:Ho.push(l)}function E(l){hf=!0,_(l)}function N(){if(!m&&Ho!==null){m=!0;var l=0,u=dn;try{var f=Ho;for(dn=1;l<f.length;l++){var b=f[l];do b=b(!0);while(b!==null)}Ho=null,hf=!1}catch(k){throw Ho!==null&&(Ho=Ho.slice(l+1)),Tc(El,N),k}finally{dn=u,m=!1}}return null}var F=[],q=0,G=null,Y=0,X=[],ie=0,be=null,Pe=1,Te="";function Ae(l,u){F[q++]=Y,F[q++]=G,G=l,Y=u}function qe(l,u,f){X[ie++]=Pe,X[ie++]=Te,X[ie++]=be,be=l;var b=Pe;l=Te;var k=32-_s(b)-1;b&=~(1<<k),f+=1;var T=32-_s(u)+k;if(30<T){var H=k-k%5;T=(b&(1<<H)-1).toString(32),b>>=H,k-=H,Pe=1<<32-_s(u)+k|f<<k|b,Te=T+l}else Pe=1<<T|f<<k|b,Te=l}function Oe(l){l.return!==null&&(Ae(l,1),qe(l,1,0))}function we(l){for(;l===G;)G=F[--q],F[q]=null,Y=F[--q],F[q]=null;for(;l===be;)be=X[--ie],X[ie]=null,Te=X[--ie],X[ie]=null,Pe=X[--ie],X[ie]=null}var xe=null,Be=null,je=!1,Ue=null;function ot(l,u){var f=go(5,null,null,0);f.elementType="DELETED",f.stateNode=u,f.return=l,u=l.deletions,u===null?(l.deletions=[f],l.flags|=16):u.push(f)}function Ze(l,u){switch(l.tag){case 5:var f=l.type;return u=u.nodeType!==1||f.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(l.stateNode=u,xe=l,Be=Li(u.firstChild),!0):!1;case 6:return u=l.pendingProps===""||u.nodeType!==3?null:u,u!==null?(l.stateNode=u,xe=l,Be=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(f=be!==null?{id:Pe,overflow:Te}:null,l.memoizedState={dehydrated:u,treeContext:f,retryLane:1073741824},f=go(18,null,null,0),f.stateNode=u,f.return=l,l.child=f,xe=l,Be=null,!0):!1;default:return!1}}function wt(l){return(l.mode&1)!==0&&(l.flags&128)===0}function tt(l){if(je){var u=Be;if(u){var f=u;if(!Ze(l,u)){if(wt(l))throw Error(t(418));u=Li(f.nextSibling);var b=xe;u&&Ze(l,u)?ot(b,f):(l.flags=l.flags&-4097|2,je=!1,xe=l)}}else{if(wt(l))throw Error(t(418));l.flags=l.flags&-4097|2,je=!1,xe=l}}}function cn(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;xe=l}function un(l){if(l!==xe)return!1;if(!je)return cn(l),je=!0,!1;var u;if((u=l.tag!==3)&&!(u=l.tag!==5)&&(u=l.type,u=u!=="head"&&u!=="body"&&!k0(l.type,l.memoizedProps)),u&&(u=Be)){if(wt(l))throw tn(),Error(t(418));for(;u;)ot(l,u),u=Li(u.nextSibling)}if(cn(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(t(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8){var f=l.data;if(f==="/$"){if(u===0){Be=Li(l.nextSibling);break e}u--}else f!=="$"&&f!=="$!"&&f!=="$?"||u++}l=l.nextSibling}Be=null}}else Be=xe?Li(l.stateNode.nextSibling):null;return!0}function tn(){for(var l=Be;l;)l=Li(l.nextSibling)}function $t(){Be=xe=null,je=!1}function _n(l){Ue===null?Ue=[l]:Ue.push(l)}var Sn=M.ReactCurrentBatchConfig;function Nt(l,u,f){if(l=f.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(t(309));var b=f.stateNode}if(!b)throw Error(t(147,l));var k=b,T=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===T?u.ref:(u=function(H){var ce=k.refs;H===null?delete ce[T]:ce[T]=H},u._stringRef=T,u)}if(typeof l!="string")throw Error(t(284));if(!f._owner)throw Error(t(290,l))}return l}function Kn(l,u){throw l=Object.prototype.toString.call(u),Error(t(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function Ni(l){var u=l._init;return u(l._payload)}function lr(l){function u(Le,Se){if(l){var Ne=Le.deletions;Ne===null?(Le.deletions=[Se],Le.flags|=16):Ne.push(Se)}}function f(Le,Se){if(!l)return null;for(;Se!==null;)u(Le,Se),Se=Se.sibling;return null}function b(Le,Se){for(Le=new Map;Se!==null;)Se.key!==null?Le.set(Se.key,Se):Le.set(Se.index,Se),Se=Se.sibling;return Le}function k(Le,Se){return Le=Uh(Le,Se),Le.index=0,Le.sibling=null,Le}function T(Le,Se,Ne){return Le.index=Ne,l?(Ne=Le.alternate,Ne!==null?(Ne=Ne.index,Ne<Se?(Le.flags|=2,Se):Ne):(Le.flags|=2,Se)):(Le.flags|=1048576,Se)}function H(Le){return l&&Le.alternate===null&&(Le.flags|=2),Le}function ce(Le,Se,Ne,Ke){return Se===null||Se.tag!==6?(Se=hw(Ne,Le.mode,Ke),Se.return=Le,Se):(Se=k(Se,Ne),Se.return=Le,Se)}function _e(Le,Se,Ne,Ke){var yt=Ne.type;return yt===U?We(Le,Se,Ne.props.children,Ke,Ne.key):Se!==null&&(Se.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===fe&&Ni(yt)===Se.type)?(Ke=k(Se,Ne.props),Ke.ref=Nt(Le,Se,Ne),Ke.return=Le,Ke):(Ke=Hv(Ne.type,Ne.key,Ne.props,null,Le.mode,Ke),Ke.ref=Nt(Le,Se,Ne),Ke.return=Le,Ke)}function Ie(Le,Se,Ne,Ke){return Se===null||Se.tag!==4||Se.stateNode.containerInfo!==Ne.containerInfo||Se.stateNode.implementation!==Ne.implementation?(Se=dw(Ne,Le.mode,Ke),Se.return=Le,Se):(Se=k(Se,Ne.children||[]),Se.return=Le,Se)}function We(Le,Se,Ne,Ke,yt){return Se===null||Se.tag!==7?(Se=bf(Ne,Le.mode,Ke,yt),Se.return=Le,Se):(Se=k(Se,Ne),Se.return=Le,Se)}function Xe(Le,Se,Ne){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return Se=hw(""+Se,Le.mode,Ne),Se.return=Le,Se;if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case O:return Ne=Hv(Se.type,Se.key,Se.props,null,Le.mode,Ne),Ne.ref=Nt(Le,null,Se),Ne.return=Le,Ne;case $:return Se=dw(Se,Le.mode,Ne),Se.return=Le,Se;case fe:var Ke=Se._init;return Xe(Le,Ke(Se._payload),Ne)}if(Je(Se)||ye(Se))return Se=bf(Se,Le.mode,Ne,null),Se.return=Le,Se;Kn(Le,Se)}return null}function Ve(Le,Se,Ne,Ke){var yt=Se!==null?Se.key:null;if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return yt!==null?null:ce(Le,Se,""+Ne,Ke);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case O:return Ne.key===yt?_e(Le,Se,Ne,Ke):null;case $:return Ne.key===yt?Ie(Le,Se,Ne,Ke):null;case fe:return yt=Ne._init,Ve(Le,Se,yt(Ne._payload),Ke)}if(Je(Ne)||ye(Ne))return yt!==null?null:We(Le,Se,Ne,Ke,null);Kn(Le,Ne)}return null}function lt(Le,Se,Ne,Ke,yt){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return Le=Le.get(Ne)||null,ce(Se,Le,""+Ke,yt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case O:return Le=Le.get(Ke.key===null?Ne:Ke.key)||null,_e(Se,Le,Ke,yt);case $:return Le=Le.get(Ke.key===null?Ne:Ke.key)||null,Ie(Se,Le,Ke,yt);case fe:var Ct=Ke._init;return lt(Le,Se,Ne,Ct(Ke._payload),yt)}if(Je(Ke)||ye(Ke))return Le=Le.get(Ne)||null,We(Se,Le,Ke,yt,null);Kn(Se,Ke)}return null}function dt(Le,Se,Ne,Ke){for(var yt=null,Ct=null,kt=Se,Mt=Se=0,gi=null;kt!==null&&Mt<Ne.length;Mt++){kt.index>Mt?(gi=kt,kt=null):gi=kt.sibling;var yn=Ve(Le,kt,Ne[Mt],Ke);if(yn===null){kt===null&&(kt=gi);break}l&&kt&&yn.alternate===null&&u(Le,kt),Se=T(yn,Se,Mt),Ct===null?yt=yn:Ct.sibling=yn,Ct=yn,kt=gi}if(Mt===Ne.length)return f(Le,kt),je&&Ae(Le,Mt),yt;if(kt===null){for(;Mt<Ne.length;Mt++)kt=Xe(Le,Ne[Mt],Ke),kt!==null&&(Se=T(kt,Se,Mt),Ct===null?yt=kt:Ct.sibling=kt,Ct=kt);return je&&Ae(Le,Mt),yt}for(kt=b(Le,kt);Mt<Ne.length;Mt++)gi=lt(kt,Le,Mt,Ne[Mt],Ke),gi!==null&&(l&&gi.alternate!==null&&kt.delete(gi.key===null?Mt:gi.key),Se=T(gi,Se,Mt),Ct===null?yt=gi:Ct.sibling=gi,Ct=gi);return l&&kt.forEach(function(qh){return u(Le,qh)}),je&&Ae(Le,Mt),yt}function mt(Le,Se,Ne,Ke){var yt=ye(Ne);if(typeof yt!="function")throw Error(t(150));if(Ne=yt.call(Ne),Ne==null)throw Error(t(151));for(var Ct=yt=null,kt=Se,Mt=Se=0,gi=null,yn=Ne.next();kt!==null&&!yn.done;Mt++,yn=Ne.next()){kt.index>Mt?(gi=kt,kt=null):gi=kt.sibling;var qh=Ve(Le,kt,yn.value,Ke);if(qh===null){kt===null&&(kt=gi);break}l&&kt&&qh.alternate===null&&u(Le,kt),Se=T(qh,Se,Mt),Ct===null?yt=qh:Ct.sibling=qh,Ct=qh,kt=gi}if(yn.done)return f(Le,kt),je&&Ae(Le,Mt),yt;if(kt===null){for(;!yn.done;Mt++,yn=Ne.next())yn=Xe(Le,yn.value,Ke),yn!==null&&(Se=T(yn,Se,Mt),Ct===null?yt=yn:Ct.sibling=yn,Ct=yn);return je&&Ae(Le,Mt),yt}for(kt=b(Le,kt);!yn.done;Mt++,yn=Ne.next())yn=lt(kt,Le,Mt,yn.value,Ke),yn!==null&&(l&&yn.alternate!==null&&kt.delete(yn.key===null?Mt:yn.key),Se=T(yn,Se,Mt),Ct===null?yt=yn:Ct.sibling=yn,Ct=yn);return l&&kt.forEach(function(x8){return u(Le,x8)}),je&&Ae(Le,Mt),yt}function Lr(Le,Se,Ne,Ke){if(typeof Ne=="object"&&Ne!==null&&Ne.type===U&&Ne.key===null&&(Ne=Ne.props.children),typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case O:e:{for(var yt=Ne.key,Ct=Se;Ct!==null;){if(Ct.key===yt){if(yt=Ne.type,yt===U){if(Ct.tag===7){f(Le,Ct.sibling),Se=k(Ct,Ne.props.children),Se.return=Le,Le=Se;break e}}else if(Ct.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===fe&&Ni(yt)===Ct.type){f(Le,Ct.sibling),Se=k(Ct,Ne.props),Se.ref=Nt(Le,Ct,Ne),Se.return=Le,Le=Se;break e}f(Le,Ct);break}else u(Le,Ct);Ct=Ct.sibling}Ne.type===U?(Se=bf(Ne.props.children,Le.mode,Ke,Ne.key),Se.return=Le,Le=Se):(Ke=Hv(Ne.type,Ne.key,Ne.props,null,Le.mode,Ke),Ke.ref=Nt(Le,Se,Ne),Ke.return=Le,Le=Ke)}return H(Le);case $:e:{for(Ct=Ne.key;Se!==null;){if(Se.key===Ct)if(Se.tag===4&&Se.stateNode.containerInfo===Ne.containerInfo&&Se.stateNode.implementation===Ne.implementation){f(Le,Se.sibling),Se=k(Se,Ne.children||[]),Se.return=Le,Le=Se;break e}else{f(Le,Se);break}else u(Le,Se);Se=Se.sibling}Se=dw(Ne,Le.mode,Ke),Se.return=Le,Le=Se}return H(Le);case fe:return Ct=Ne._init,Lr(Le,Se,Ct(Ne._payload),Ke)}if(Je(Ne))return dt(Le,Se,Ne,Ke);if(ye(Ne))return mt(Le,Se,Ne,Ke);Kn(Le,Ne)}return typeof Ne=="string"&&Ne!==""||typeof Ne=="number"?(Ne=""+Ne,Se!==null&&Se.tag===6?(f(Le,Se.sibling),Se=k(Se,Ne),Se.return=Le,Le=Se):(f(Le,Se),Se=hw(Ne,Le.mode,Ke),Se.return=Le,Le=Se),H(Le)):f(Le,Se)}return Lr}var Er=lr(!0),mn=lr(!1),fi=Pa(null),pi=null,Jn=null,Pr=null;function Jr(){Pr=Jn=pi=null}function Ji(l){var u=fi.current;bn(fi),l._currentValue=u}function Ks(l,u,f){for(;l!==null;){var b=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,b!==null&&(b.childLanes|=u)):b!==null&&(b.childLanes&u)!==u&&(b.childLanes|=u),l===f)break;l=l.return}}function Qn(l,u){pi=l,Pr=Jn=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&u)!==0&&(ea=!0),l.firstContext=null)}function vr(l){var u=l._currentValue;if(Pr!==l)if(l={context:l,memoizedValue:u,next:null},Jn===null){if(pi===null)throw Error(t(308));Jn=l,pi.dependencies={lanes:0,firstContext:l}}else Jn=Jn.next=l;return u}var Cs=null;function $l(l){Cs===null?Cs=[l]:Cs.push(l)}function $o(l,u,f,b){var k=u.interleaved;return k===null?(f.next=f,$l(u)):(f.next=k.next,k.next=f),u.interleaved=f,gn(l,b)}function gn(l,u){l.lanes|=u;var f=l.alternate;for(f!==null&&(f.lanes|=u),f=l,l=l.return;l!==null;)l.childLanes|=u,f=l.alternate,f!==null&&(f.childLanes|=u),f=l,l=l.return;return f.tag===3?f.stateNode:null}var uo=!1;function bm(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function N0(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Js(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function Qs(l,u,f){var b=l.updateQueue;if(b===null)return null;if(b=b.shared,(pn&2)!==0){var k=b.pending;return k===null?u.next=u:(u.next=k.next,k.next=u),b.pending=u,gn(l,f)}return k=b.interleaved,k===null?(u.next=u,$l(b)):(u.next=k.next,k.next=u),b.interleaved=u,gn(l,f)}function nu(l,u,f){if(u=u.updateQueue,u!==null&&(u=u.shared,(f&4194240)!==0)){var b=u.lanes;b&=l.pendingLanes,f|=b,u.lanes=f,nh(l,f)}}function Zs(l,u){var f=l.updateQueue,b=l.alternate;if(b!==null&&(b=b.updateQueue,f===b)){var k=null,T=null;if(f=f.firstBaseUpdate,f!==null){do{var H={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};T===null?k=T=H:T=T.next=H,f=f.next}while(f!==null);T===null?k=T=u:T=T.next=u}else k=T=u;f={baseState:b.baseState,firstBaseUpdate:k,lastBaseUpdate:T,shared:b.shared,effects:b.effects},l.updateQueue=f;return}l=f.lastBaseUpdate,l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=u}function Vo(l,u,f,b){var k=l.updateQueue;uo=!1;var T=k.firstBaseUpdate,H=k.lastBaseUpdate,ce=k.shared.pending;if(ce!==null){k.shared.pending=null;var _e=ce,Ie=_e.next;_e.next=null,H===null?T=Ie:H.next=Ie,H=_e;var We=l.alternate;We!==null&&(We=We.updateQueue,ce=We.lastBaseUpdate,ce!==H&&(ce===null?We.firstBaseUpdate=Ie:ce.next=Ie,We.lastBaseUpdate=_e))}if(T!==null){var Xe=k.baseState;H=0,We=Ie=_e=null,ce=T;do{var Ve=ce.lane,lt=ce.eventTime;if((b&Ve)===Ve){We!==null&&(We=We.next={eventTime:lt,lane:0,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null});e:{var dt=l,mt=ce;switch(Ve=u,lt=f,mt.tag){case 1:if(dt=mt.payload,typeof dt=="function"){Xe=dt.call(lt,Xe,Ve);break e}Xe=dt;break e;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=mt.payload,Ve=typeof dt=="function"?dt.call(lt,Xe,Ve):dt,Ve==null)break e;Xe=me({},Xe,Ve);break e;case 2:uo=!0}}ce.callback!==null&&ce.lane!==0&&(l.flags|=64,Ve=k.effects,Ve===null?k.effects=[ce]:Ve.push(ce))}else lt={eventTime:lt,lane:Ve,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},We===null?(Ie=We=lt,_e=Xe):We=We.next=lt,H|=Ve;if(ce=ce.next,ce===null){if(ce=k.shared.pending,ce===null)break;Ve=ce,ce=Ve.next,Ve.next=null,k.lastBaseUpdate=Ve,k.shared.pending=null}}while(!0);if(We===null&&(_e=Xe),k.baseState=_e,k.firstBaseUpdate=Ie,k.lastBaseUpdate=We,u=k.shared.interleaved,u!==null){k=u;do H|=k.lane,k=k.next;while(k!==u)}else T===null&&(k.shared.lanes=0);mf|=H,l.lanes=H,l.memoizedState=Xe}}function ru(l,u,f){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var b=l[u],k=b.callback;if(k!==null){if(b.callback=null,b=f,typeof k!="function")throw Error(t(191,k));k.call(b)}}}var Lh={},ks=Pa(Lh),Nh=Pa(Lh),Vl=Pa(Lh);function Wo(l){if(l===Lh)throw Error(t(174));return l}function Rh(l,u){switch(xn(Vl,u),xn(Nh,l),xn(ks,Lh),l=u.nodeType,l){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:zt(null,"");break;default:l=l===8?u.parentNode:u,u=l.namespaceURI||null,l=l.tagName,u=zt(u,l)}bn(ks),xn(ks,u)}function ho(){bn(ks),bn(Nh),bn(Vl)}function Av(l){Wo(Vl.current);var u=Wo(ks.current),f=zt(u,l.type);u!==f&&(xn(Nh,l),xn(ks,f))}function R0(l){Nh.current===l&&(bn(ks),bn(Nh))}var Fn=Pa(0);function Ta(l){for(var u=l;u!==null;){if(u.tag===13){var f=u.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var I0=[];function M0(){for(var l=0;l<I0.length;l++)I0[l]._workInProgressVersionPrimary=null;I0.length=0}var _m=M.ReactCurrentDispatcher,wm=M.ReactCurrentBatchConfig,fo=0,qn=null,br=null,cr=null,Ih=!1,Go=!1,Mh=0,D_=0;function Tr(){throw Error(t(321))}function xm(l,u){if(u===null)return!1;for(var f=0;f<u.length&&f<l.length;f++)if(!fn(l[f],u[f]))return!1;return!0}function df(l,u,f,b,k,T){if(fo=T,qn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,_m.current=l===null||l.memoizedState===null?Y6:X6,l=f(b,k),Go){T=0;do{if(Go=!1,Mh=0,25<=T)throw Error(t(301));T+=1,cr=br=null,u.updateQueue=null,_m.current=K6,l=f(b,k)}while(Go)}if(_m.current=Tv,u=br!==null&&br.next!==null,fo=0,cr=br=qn=null,Ih=!1,u)throw Error(t(300));return l}function po(){var l=Mh!==0;return Mh=0,l}function La(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cr===null?qn.memoizedState=cr=l:cr=cr.next=l,cr}function Es(){if(br===null){var l=qn.alternate;l=l!==null?l.memoizedState:null}else l=br.next;var u=cr===null?qn.memoizedState:cr.next;if(u!==null)cr=u,br=l;else{if(l===null)throw Error(t(310));br=l,l={memoizedState:br.memoizedState,baseState:br.baseState,baseQueue:br.baseQueue,queue:br.queue,next:null},cr===null?qn.memoizedState=cr=l:cr=cr.next=l}return cr}function ff(l,u){return typeof u=="function"?u(l):u}function Sm(l){var u=Es(),f=u.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=l;var b=br,k=b.baseQueue,T=f.pending;if(T!==null){if(k!==null){var H=k.next;k.next=T.next,T.next=H}b.baseQueue=k=T,f.pending=null}if(k!==null){T=k.next,b=b.baseState;var ce=H=null,_e=null,Ie=T;do{var We=Ie.lane;if((fo&We)===We)_e!==null&&(_e=_e.next={lane:0,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),b=Ie.hasEagerState?Ie.eagerState:l(b,Ie.action);else{var Xe={lane:We,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null};_e===null?(ce=_e=Xe,H=b):_e=_e.next=Xe,qn.lanes|=We,mf|=We}Ie=Ie.next}while(Ie!==null&&Ie!==T);_e===null?H=b:_e.next=ce,fn(b,u.memoizedState)||(ea=!0),u.memoizedState=b,u.baseState=H,u.baseQueue=_e,f.lastRenderedState=b}if(l=f.interleaved,l!==null){k=l;do T=k.lane,qn.lanes|=T,mf|=T,k=k.next;while(k!==l)}else k===null&&(f.lanes=0);return[u.memoizedState,f.dispatch]}function Wl(l){var u=Es(),f=u.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=l;var b=f.dispatch,k=f.pending,T=u.memoizedState;if(k!==null){f.pending=null;var H=k=k.next;do T=l(T,H.action),H=H.next;while(H!==k);fn(T,u.memoizedState)||(ea=!0),u.memoizedState=T,u.baseQueue===null&&(u.baseState=T),f.lastRenderedState=T}return[T,b]}function Cv(){}function O0(l,u){var f=qn,b=Es(),k=u(),T=!fn(b.memoizedState,k);if(T&&(b.memoizedState=k,ea=!0),b=b.queue,km(Ev.bind(null,f,b,l),[l]),b.getSnapshot!==u||T||cr!==null&&cr.memoizedState.tag&1){if(f.flags|=2048,Ps(9,F0.bind(null,f,b,k,u),void 0,null),mi===null)throw Error(t(349));(fo&30)!==0||kv(f,u,k)}return k}function kv(l,u,f){l.flags|=16384,l={getSnapshot:u,value:f},u=qn.updateQueue,u===null?(u={lastEffect:null,stores:null},qn.updateQueue=u,u.stores=[l]):(f=u.stores,f===null?u.stores=[l]:f.push(l))}function F0(l,u,f,b){u.value=f,u.getSnapshot=b,Oh(u)&&Am(l)}function Ev(l,u,f){return f(function(){Oh(u)&&Am(l)})}function Oh(l){var u=l.getSnapshot;l=l.value;try{var f=u();return!fn(l,f)}catch{return!0}}function Am(l){var u=gn(l,1);u!==null&&Qo(u,l,1,-1)}function pf(l){var u=La();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ff,lastRenderedState:l},u.queue=l,l=l.dispatch=G6.bind(null,qn,l),[u.memoizedState,l]}function Ps(l,u,f,b){return l={tag:l,create:u,destroy:f,deps:b,next:null},u=qn.updateQueue,u===null?(u={lastEffect:null,stores:null},qn.updateQueue=u,u.lastEffect=l.next=l):(f=u.lastEffect,f===null?u.lastEffect=l.next=l:(b=f.next,f.next=l,l.next=b,u.lastEffect=l)),l}function Yo(){return Es().memoizedState}function Na(l,u,f,b){var k=La();qn.flags|=l,k.memoizedState=Ps(1|u,f,void 0,b===void 0?null:b)}function iu(l,u,f,b){var k=Es();b=b===void 0?null:b;var T=void 0;if(br!==null){var H=br.memoizedState;if(T=H.destroy,b!==null&&xm(b,H.deps)){k.memoizedState=Ps(u,f,T,b);return}}qn.flags|=l,k.memoizedState=Ps(1|u,f,T,b)}function Cm(l,u){return Na(8390656,8,l,u)}function km(l,u){return iu(2048,8,l,u)}function Pv(l,u){return iu(4,2,l,u)}function Em(l,u){return iu(4,4,l,u)}function Pm(l,u){if(typeof u=="function")return l=l(),u(l),function(){u(null)};if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function FA(l,u,f){return f=f!=null?f.concat([l]):null,iu(4,4,Pm.bind(null,u,l),f)}function j_(){}function DA(l,u){var f=Es();u=u===void 0?null:u;var b=f.memoizedState;return b!==null&&u!==null&&xm(u,b[1])?b[0]:(f.memoizedState=[l,u],l)}function jA(l,u){var f=Es();u=u===void 0?null:u;var b=f.memoizedState;return b!==null&&u!==null&&xm(u,b[1])?b[0]:(l=l(),f.memoizedState=[l,u],l)}function BA(l,u,f){return(fo&21)===0?(l.baseState&&(l.baseState=!1,ea=!0),l.memoizedState=f):(fn(f,u)||(f=$d(),qn.lanes|=f,mf|=f,l.baseState=!0),u)}function V6(l,u){var f=dn;dn=f!==0&&4>f?f:4,l(!0);var b=wm.transition;wm.transition={};try{l(!1),u()}finally{dn=f,wm.transition=b}}function zA(){return Es().memoizedState}function W6(l,u,f){var b=Bh(l);if(f={lane:b,action:f,hasEagerState:!1,eagerState:null,next:null},UA(l))qA(u,f);else if(f=$o(l,u,f,b),f!==null){var k=Ls();Qo(f,l,b,k),HA(f,u,b)}}function G6(l,u,f){var b=Bh(l),k={lane:b,action:f,hasEagerState:!1,eagerState:null,next:null};if(UA(l))qA(u,k);else{var T=l.alternate;if(l.lanes===0&&(T===null||T.lanes===0)&&(T=u.lastRenderedReducer,T!==null))try{var H=u.lastRenderedState,ce=T(H,f);if(k.hasEagerState=!0,k.eagerState=ce,fn(ce,H)){var _e=u.interleaved;_e===null?(k.next=k,$l(u)):(k.next=_e.next,_e.next=k),u.interleaved=k;return}}catch{}finally{}f=$o(l,u,k,b),f!==null&&(k=Ls(),Qo(f,l,b,k),HA(f,u,b))}}function UA(l){var u=l.alternate;return l===qn||u!==null&&u===qn}function qA(l,u){Go=Ih=!0;var f=l.pending;f===null?u.next=u:(u.next=f.next,f.next=u),l.pending=u}function HA(l,u,f){if((f&4194240)!==0){var b=u.lanes;b&=l.pendingLanes,f|=b,u.lanes=f,nh(l,f)}}var Tv={readContext:vr,useCallback:Tr,useContext:Tr,useEffect:Tr,useImperativeHandle:Tr,useInsertionEffect:Tr,useLayoutEffect:Tr,useMemo:Tr,useReducer:Tr,useRef:Tr,useState:Tr,useDebugValue:Tr,useDeferredValue:Tr,useTransition:Tr,useMutableSource:Tr,useSyncExternalStore:Tr,useId:Tr,unstable_isNewReconciler:!1},Y6={readContext:vr,useCallback:function(l,u){return La().memoizedState=[l,u===void 0?null:u],l},useContext:vr,useEffect:Cm,useImperativeHandle:function(l,u,f){return f=f!=null?f.concat([l]):null,Na(4194308,4,Pm.bind(null,u,l),f)},useLayoutEffect:function(l,u){return Na(4194308,4,l,u)},useInsertionEffect:function(l,u){return Na(4,2,l,u)},useMemo:function(l,u){var f=La();return u=u===void 0?null:u,l=l(),f.memoizedState=[l,u],l},useReducer:function(l,u,f){var b=La();return u=f!==void 0?f(u):u,b.memoizedState=b.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},b.queue=l,l=l.dispatch=W6.bind(null,qn,l),[b.memoizedState,l]},useRef:function(l){var u=La();return l={current:l},u.memoizedState=l},useState:pf,useDebugValue:j_,useDeferredValue:function(l){return La().memoizedState=l},useTransition:function(){var l=pf(!1),u=l[0];return l=V6.bind(null,l[1]),La().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,f){var b=qn,k=La();if(je){if(f===void 0)throw Error(t(407));f=f()}else{if(f=u(),mi===null)throw Error(t(349));(fo&30)!==0||kv(b,u,f)}k.memoizedState=f;var T={value:f,getSnapshot:u};return k.queue=T,Cm(Ev.bind(null,b,T,l),[l]),b.flags|=2048,Ps(9,F0.bind(null,b,T,f,u),void 0,null),f},useId:function(){var l=La(),u=mi.identifierPrefix;if(je){var f=Te,b=Pe;f=(b&~(1<<32-_s(b)-1)).toString(32)+f,u=":"+u+"R"+f,f=Mh++,0<f&&(u+="H"+f.toString(32)),u+=":"}else f=D_++,u=":"+u+"r"+f.toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},X6={readContext:vr,useCallback:DA,useContext:vr,useEffect:km,useImperativeHandle:FA,useInsertionEffect:Pv,useLayoutEffect:Em,useMemo:jA,useReducer:Sm,useRef:Yo,useState:function(){return Sm(ff)},useDebugValue:j_,useDeferredValue:function(l){var u=Es();return BA(u,br.memoizedState,l)},useTransition:function(){var l=Sm(ff)[0],u=Es().memoizedState;return[l,u]},useMutableSource:Cv,useSyncExternalStore:O0,useId:zA,unstable_isNewReconciler:!1},K6={readContext:vr,useCallback:DA,useContext:vr,useEffect:km,useImperativeHandle:FA,useInsertionEffect:Pv,useLayoutEffect:Em,useMemo:jA,useReducer:Wl,useRef:Yo,useState:function(){return Wl(ff)},useDebugValue:j_,useDeferredValue:function(l){var u=Es();return br===null?u.memoizedState=l:BA(u,br.memoizedState,l)},useTransition:function(){var l=Wl(ff)[0],u=Es().memoizedState;return[l,u]},useMutableSource:Cv,useSyncExternalStore:O0,useId:zA,unstable_isNewReconciler:!1};function Xo(l,u){if(l&&l.defaultProps){u=me({},u),l=l.defaultProps;for(var f in l)u[f]===void 0&&(u[f]=l[f]);return u}return u}function B_(l,u,f,b){u=l.memoizedState,f=f(b,u),f=f==null?u:me({},u,f),l.memoizedState=f,l.lanes===0&&(l.updateQueue.baseState=f)}var Lv={isMounted:function(l){return(l=l._reactInternals)?Yr(l)===l:!1},enqueueSetState:function(l,u,f){l=l._reactInternals;var b=Ls(),k=Bh(l),T=Js(b,k);T.payload=u,f!=null&&(T.callback=f),u=Qs(l,T,k),u!==null&&(Qo(u,l,k,b),nu(u,l,k))},enqueueReplaceState:function(l,u,f){l=l._reactInternals;var b=Ls(),k=Bh(l),T=Js(b,k);T.tag=1,T.payload=u,f!=null&&(T.callback=f),u=Qs(l,T,k),u!==null&&(Qo(u,l,k,b),nu(u,l,k))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var f=Ls(),b=Bh(l),k=Js(f,b);k.tag=2,u!=null&&(k.callback=u),u=Qs(l,k,b),u!==null&&(Qo(u,l,b,f),nu(u,l,b))}};function $A(l,u,f,b,k,T,H){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(b,T,H):u.prototype&&u.prototype.isPureReactComponent?!jo(f,b)||!jo(k,T):!0}function VA(l,u,f){var b=!1,k=Hl,T=u.contextType;return typeof T=="object"&&T!==null?T=vr(T):(k=Ki(u)?eu:Kr.current,b=u.contextTypes,T=(b=b!=null)?Th(l,k):Hl),u=new u(f,T),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Lv,l.stateNode=u,u._reactInternals=l,b&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=k,l.__reactInternalMemoizedMaskedChildContext=T),u}function WA(l,u,f,b){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(f,b),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(f,b),u.state!==l&&Lv.enqueueReplaceState(u,u.state,null)}function z_(l,u,f,b){var k=l.stateNode;k.props=f,k.state=l.memoizedState,k.refs={},bm(l);var T=u.contextType;typeof T=="object"&&T!==null?k.context=vr(T):(T=Ki(u)?eu:Kr.current,k.context=Th(l,T)),k.state=l.memoizedState,T=u.getDerivedStateFromProps,typeof T=="function"&&(B_(l,u,T,f),k.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(u=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),u!==k.state&&Lv.enqueueReplaceState(k,k.state,null),Vo(l,f,k,b),k.state=l.memoizedState),typeof k.componentDidMount=="function"&&(l.flags|=4194308)}function Tm(l,u){try{var f="",b=u;do f+=oe(b),b=b.return;while(b);var k=f}catch(T){k=`
Error generating stack: `+T.message+`
`+T.stack}return{value:l,source:u,stack:k,digest:null}}function U_(l,u,f){return{value:l,source:null,stack:f??null,digest:u??null}}function q_(l,u){try{console.error(u.value)}catch(f){setTimeout(function(){throw f})}}var J6=typeof WeakMap=="function"?WeakMap:Map;function GA(l,u,f){f=Js(-1,f),f.tag=3,f.payload={element:null};var b=u.value;return f.callback=function(){Dv||(Dv=!0,rw=b),q_(l,u)},f}function YA(l,u,f){f=Js(-1,f),f.tag=3;var b=l.type.getDerivedStateFromError;if(typeof b=="function"){var k=u.value;f.payload=function(){return b(k)},f.callback=function(){q_(l,u)}}var T=l.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(f.callback=function(){q_(l,u),typeof b!="function"&&(Dh===null?Dh=new Set([this]):Dh.add(this));var H=u.stack;this.componentDidCatch(u.value,{componentStack:H!==null?H:""})}),f}function XA(l,u,f){var b=l.pingCache;if(b===null){b=l.pingCache=new J6;var k=new Set;b.set(u,k)}else k=b.get(u),k===void 0&&(k=new Set,b.set(u,k));k.has(f)||(k.add(f),l=h8.bind(null,l,u,f),u.then(l,l))}function KA(l){do{var u;if((u=l.tag===13)&&(u=l.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return l;l=l.return}while(l!==null);return null}function JA(l,u,f,b,k){return(l.mode&1)===0?(l===u?l.flags|=65536:(l.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(u=Js(-1,1),u.tag=2,Qs(f,u,1))),f.lanes|=1),l):(l.flags|=65536,l.lanes=k,l)}var Q6=M.ReactCurrentOwner,ea=!1;function Ts(l,u,f,b){u.child=l===null?mn(u,null,f,b):Er(u,l.child,f,b)}function QA(l,u,f,b,k){f=f.render;var T=u.ref;return Qn(u,k),b=df(l,u,f,b,T,k),f=po(),l!==null&&!ea?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~k,su(l,u,k)):(je&&f&&Oe(u),u.flags|=1,Ts(l,u,b,k),u.child)}function ZA(l,u,f,b,k){if(l===null){var T=f.type;return typeof T=="function"&&!uw(T)&&T.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(u.tag=15,u.type=T,eC(l,u,T,b,k)):(l=Hv(f.type,null,b,u,u.mode,k),l.ref=u.ref,l.return=u,u.child=l)}if(T=l.child,(l.lanes&k)===0){var H=T.memoizedProps;if(f=f.compare,f=f!==null?f:jo,f(H,b)&&l.ref===u.ref)return su(l,u,k)}return u.flags|=1,l=Uh(T,b),l.ref=u.ref,l.return=u,u.child=l}function eC(l,u,f,b,k){if(l!==null){var T=l.memoizedProps;if(jo(T,b)&&l.ref===u.ref)if(ea=!1,u.pendingProps=b=T,(l.lanes&k)!==0)(l.flags&131072)!==0&&(ea=!0);else return u.lanes=l.lanes,su(l,u,k)}return H_(l,u,f,b,k)}function tC(l,u,f){var b=u.pendingProps,k=b.children,T=l!==null?l.memoizedState:null;if(b.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},xn(Nm,Ra),Ra|=f;else{if((f&1073741824)===0)return l=T!==null?T.baseLanes|f:f,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,xn(Nm,Ra),Ra|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=T!==null?T.baseLanes:f,xn(Nm,Ra),Ra|=b}else T!==null?(b=T.baseLanes|f,u.memoizedState=null):b=f,xn(Nm,Ra),Ra|=b;return Ts(l,u,k,f),u.child}function nC(l,u){var f=u.ref;(l===null&&f!==null||l!==null&&l.ref!==f)&&(u.flags|=512,u.flags|=2097152)}function H_(l,u,f,b,k){var T=Ki(f)?eu:Kr.current;return T=Th(u,T),Qn(u,k),f=df(l,u,f,b,T,k),b=po(),l!==null&&!ea?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~k,su(l,u,k)):(je&&b&&Oe(u),u.flags|=1,Ts(l,u,f,k),u.child)}function rC(l,u,f,b,k){if(Ki(f)){var T=!0;tu(u)}else T=!1;if(Qn(u,k),u.stateNode===null)Rv(l,u),VA(u,f,b),z_(u,f,b,k),b=!0;else if(l===null){var H=u.stateNode,ce=u.memoizedProps;H.props=ce;var _e=H.context,Ie=f.contextType;typeof Ie=="object"&&Ie!==null?Ie=vr(Ie):(Ie=Ki(f)?eu:Kr.current,Ie=Th(u,Ie));var We=f.getDerivedStateFromProps,Xe=typeof We=="function"||typeof H.getSnapshotBeforeUpdate=="function";Xe||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(ce!==b||_e!==Ie)&&WA(u,H,b,Ie),uo=!1;var Ve=u.memoizedState;H.state=Ve,Vo(u,b,H,k),_e=u.memoizedState,ce!==b||Ve!==_e||Xi.current||uo?(typeof We=="function"&&(B_(u,f,We,b),_e=u.memoizedState),(ce=uo||$A(u,f,ce,b,Ve,_e,Ie))?(Xe||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(u.flags|=4194308)):(typeof H.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=b,u.memoizedState=_e),H.props=b,H.state=_e,H.context=Ie,b=ce):(typeof H.componentDidMount=="function"&&(u.flags|=4194308),b=!1)}else{H=u.stateNode,N0(l,u),ce=u.memoizedProps,Ie=u.type===u.elementType?ce:Xo(u.type,ce),H.props=Ie,Xe=u.pendingProps,Ve=H.context,_e=f.contextType,typeof _e=="object"&&_e!==null?_e=vr(_e):(_e=Ki(f)?eu:Kr.current,_e=Th(u,_e));var lt=f.getDerivedStateFromProps;(We=typeof lt=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(ce!==Xe||Ve!==_e)&&WA(u,H,b,_e),uo=!1,Ve=u.memoizedState,H.state=Ve,Vo(u,b,H,k);var dt=u.memoizedState;ce!==Xe||Ve!==dt||Xi.current||uo?(typeof lt=="function"&&(B_(u,f,lt,b),dt=u.memoizedState),(Ie=uo||$A(u,f,Ie,b,Ve,dt,_e)||!1)?(We||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(b,dt,_e),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(b,dt,_e)),typeof H.componentDidUpdate=="function"&&(u.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof H.componentDidUpdate!="function"||ce===l.memoizedProps&&Ve===l.memoizedState||(u.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||ce===l.memoizedProps&&Ve===l.memoizedState||(u.flags|=1024),u.memoizedProps=b,u.memoizedState=dt),H.props=b,H.state=dt,H.context=_e,b=Ie):(typeof H.componentDidUpdate!="function"||ce===l.memoizedProps&&Ve===l.memoizedState||(u.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||ce===l.memoizedProps&&Ve===l.memoizedState||(u.flags|=1024),b=!1)}return $_(l,u,f,b,T,k)}function $_(l,u,f,b,k,T){nC(l,u);var H=(u.flags&128)!==0;if(!b&&!H)return k&&Sv(u,f,!1),su(l,u,T);b=u.stateNode,Q6.current=u;var ce=H&&typeof f.getDerivedStateFromError!="function"?null:b.render();return u.flags|=1,l!==null&&H?(u.child=Er(u,l.child,null,T),u.child=Er(u,null,ce,T)):Ts(l,u,ce,T),u.memoizedState=b.state,k&&Sv(u,f,!0),u.child}function iC(l){var u=l.stateNode;u.pendingContext?xv(l,u.pendingContext,u.pendingContext!==u.context):u.context&&xv(l,u.context,!1),Rh(l,u.containerInfo)}function sC(l,u,f,b,k){return $t(),_n(k),u.flags|=256,Ts(l,u,f,b),u.child}var V_={dehydrated:null,treeContext:null,retryLane:0};function W_(l){return{baseLanes:l,cachePool:null,transitions:null}}function aC(l,u,f){var b=u.pendingProps,k=Fn.current,T=!1,H=(u.flags&128)!==0,ce;if((ce=H)||(ce=l!==null&&l.memoizedState===null?!1:(k&2)!==0),ce?(T=!0,u.flags&=-129):(l===null||l.memoizedState!==null)&&(k|=1),xn(Fn,k&1),l===null)return tt(u),l=u.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((u.mode&1)===0?u.lanes=1:l.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(H=b.children,l=b.fallback,T?(b=u.mode,T=u.child,H={mode:"hidden",children:H},(b&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=H):T=$v(H,b,0,null),l=bf(l,b,f,null),T.return=u,l.return=u,T.sibling=l,u.child=T,u.child.memoizedState=W_(f),u.memoizedState=V_,l):G_(u,H));if(k=l.memoizedState,k!==null&&(ce=k.dehydrated,ce!==null))return Z6(l,u,H,b,ce,k,f);if(T){T=b.fallback,H=u.mode,k=l.child,ce=k.sibling;var _e={mode:"hidden",children:b.children};return(H&1)===0&&u.child!==k?(b=u.child,b.childLanes=0,b.pendingProps=_e,u.deletions=null):(b=Uh(k,_e),b.subtreeFlags=k.subtreeFlags&14680064),ce!==null?T=Uh(ce,T):(T=bf(T,H,f,null),T.flags|=2),T.return=u,b.return=u,b.sibling=T,u.child=b,b=T,T=u.child,H=l.child.memoizedState,H=H===null?W_(f):{baseLanes:H.baseLanes|f,cachePool:null,transitions:H.transitions},T.memoizedState=H,T.childLanes=l.childLanes&~f,u.memoizedState=V_,b}return T=l.child,l=T.sibling,b=Uh(T,{mode:"visible",children:b.children}),(u.mode&1)===0&&(b.lanes=f),b.return=u,b.sibling=null,l!==null&&(f=u.deletions,f===null?(u.deletions=[l],u.flags|=16):f.push(l)),u.child=b,u.memoizedState=null,b}function G_(l,u){return u=$v({mode:"visible",children:u},l.mode,0,null),u.return=l,l.child=u}function Nv(l,u,f,b){return b!==null&&_n(b),Er(u,l.child,null,f),l=G_(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function Z6(l,u,f,b,k,T,H){if(f)return u.flags&256?(u.flags&=-257,b=U_(Error(t(422))),Nv(l,u,H,b)):u.memoizedState!==null?(u.child=l.child,u.flags|=128,null):(T=b.fallback,k=u.mode,b=$v({mode:"visible",children:b.children},k,0,null),T=bf(T,k,H,null),T.flags|=2,b.return=u,T.return=u,b.sibling=T,u.child=b,(u.mode&1)!==0&&Er(u,l.child,null,H),u.child.memoizedState=W_(H),u.memoizedState=V_,T);if((u.mode&1)===0)return Nv(l,u,H,null);if(k.data==="$!"){if(b=k.nextSibling&&k.nextSibling.dataset,b)var ce=b.dgst;return b=ce,T=Error(t(419)),b=U_(T,b,void 0),Nv(l,u,H,b)}if(ce=(H&l.childLanes)!==0,ea||ce){if(b=mi,b!==null){switch(H&-H){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(b.suspendedLanes|H))!==0?0:k,k!==0&&k!==T.retryLane&&(T.retryLane=k,gn(l,k),Qo(b,l,k,-1))}return cw(),b=U_(Error(t(421))),Nv(l,u,H,b)}return k.data==="$?"?(u.flags|=128,u.child=l.child,u=d8.bind(null,l),k._reactRetry=u,null):(l=T.treeContext,Be=Li(k.nextSibling),xe=u,je=!0,Ue=null,l!==null&&(X[ie++]=Pe,X[ie++]=Te,X[ie++]=be,Pe=l.id,Te=l.overflow,be=u),u=G_(u,b.children),u.flags|=4096,u)}function oC(l,u,f){l.lanes|=u;var b=l.alternate;b!==null&&(b.lanes|=u),Ks(l.return,u,f)}function Y_(l,u,f,b,k){var T=l.memoizedState;T===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:b,tail:f,tailMode:k}:(T.isBackwards=u,T.rendering=null,T.renderingStartTime=0,T.last=b,T.tail=f,T.tailMode=k)}function lC(l,u,f){var b=u.pendingProps,k=b.revealOrder,T=b.tail;if(Ts(l,u,b.children,f),b=Fn.current,(b&2)!==0)b=b&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&oC(l,f,u);else if(l.tag===19)oC(l,f,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}b&=1}if(xn(Fn,b),(u.mode&1)===0)u.memoizedState=null;else switch(k){case"forwards":for(f=u.child,k=null;f!==null;)l=f.alternate,l!==null&&Ta(l)===null&&(k=f),f=f.sibling;f=k,f===null?(k=u.child,u.child=null):(k=f.sibling,f.sibling=null),Y_(u,!1,k,f,T);break;case"backwards":for(f=null,k=u.child,u.child=null;k!==null;){if(l=k.alternate,l!==null&&Ta(l)===null){u.child=k;break}l=k.sibling,k.sibling=f,f=k,k=l}Y_(u,!0,f,null,T);break;case"together":Y_(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Rv(l,u){(u.mode&1)===0&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function su(l,u,f){if(l!==null&&(u.dependencies=l.dependencies),mf|=u.lanes,(f&u.childLanes)===0)return null;if(l!==null&&u.child!==l.child)throw Error(t(153));if(u.child!==null){for(l=u.child,f=Uh(l,l.pendingProps),u.child=f,f.return=u;l.sibling!==null;)l=l.sibling,f=f.sibling=Uh(l,l.pendingProps),f.return=u;f.sibling=null}return u.child}function e8(l,u,f){switch(u.tag){case 3:iC(u),$t();break;case 5:Av(u);break;case 1:Ki(u.type)&&tu(u);break;case 4:Rh(u,u.stateNode.containerInfo);break;case 10:var b=u.type._context,k=u.memoizedProps.value;xn(fi,b._currentValue),b._currentValue=k;break;case 13:if(b=u.memoizedState,b!==null)return b.dehydrated!==null?(xn(Fn,Fn.current&1),u.flags|=128,null):(f&u.child.childLanes)!==0?aC(l,u,f):(xn(Fn,Fn.current&1),l=su(l,u,f),l!==null?l.sibling:null);xn(Fn,Fn.current&1);break;case 19:if(b=(f&u.childLanes)!==0,(l.flags&128)!==0){if(b)return lC(l,u,f);u.flags|=128}if(k=u.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),xn(Fn,Fn.current),b)break;return null;case 22:case 23:return u.lanes=0,tC(l,u,f)}return su(l,u,f)}var cC,X_,uC,hC;cC=function(l,u){for(var f=u.child;f!==null;){if(f.tag===5||f.tag===6)l.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},X_=function(){},uC=function(l,u,f,b){var k=l.memoizedProps;if(k!==b){l=u.stateNode,Wo(ks.current);var T=null;switch(f){case"input":k=it(l,k),b=it(l,b),T=[];break;case"select":k=me({},k,{value:void 0}),b=me({},b,{value:void 0}),T=[];break;case"textarea":k=et(l,k),b=et(l,b),T=[];break;default:typeof k.onClick!="function"&&typeof b.onClick=="function"&&(l.onclick=kh)}In(f,b);var H;f=null;for(Ie in k)if(!b.hasOwnProperty(Ie)&&k.hasOwnProperty(Ie)&&k[Ie]!=null)if(Ie==="style"){var ce=k[Ie];for(H in ce)ce.hasOwnProperty(H)&&(f||(f={}),f[H]="")}else Ie!=="dangerouslySetInnerHTML"&&Ie!=="children"&&Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&Ie!=="autoFocus"&&(r.hasOwnProperty(Ie)?T||(T=[]):(T=T||[]).push(Ie,null));for(Ie in b){var _e=b[Ie];if(ce=k!=null?k[Ie]:void 0,b.hasOwnProperty(Ie)&&_e!==ce&&(_e!=null||ce!=null))if(Ie==="style")if(ce){for(H in ce)!ce.hasOwnProperty(H)||_e&&_e.hasOwnProperty(H)||(f||(f={}),f[H]="");for(H in _e)_e.hasOwnProperty(H)&&ce[H]!==_e[H]&&(f||(f={}),f[H]=_e[H])}else f||(T||(T=[]),T.push(Ie,f)),f=_e;else Ie==="dangerouslySetInnerHTML"?(_e=_e?_e.__html:void 0,ce=ce?ce.__html:void 0,_e!=null&&ce!==_e&&(T=T||[]).push(Ie,_e)):Ie==="children"?typeof _e!="string"&&typeof _e!="number"||(T=T||[]).push(Ie,""+_e):Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&(r.hasOwnProperty(Ie)?(_e!=null&&Ie==="onScroll"&&Pn("scroll",l),T||ce===_e||(T=[])):(T=T||[]).push(Ie,_e))}f&&(T=T||[]).push("style",f);var Ie=T;(u.updateQueue=Ie)&&(u.flags|=4)}},hC=function(l,u,f,b){f!==b&&(u.flags|=4)};function D0(l,u){if(!je)switch(l.tailMode){case"hidden":u=l.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?l.tail=null:f.sibling=null;break;case"collapsed":f=l.tail;for(var b=null;f!==null;)f.alternate!==null&&(b=f),f=f.sibling;b===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:b.sibling=null}}function Qi(l){var u=l.alternate!==null&&l.alternate.child===l.child,f=0,b=0;if(u)for(var k=l.child;k!==null;)f|=k.lanes|k.childLanes,b|=k.subtreeFlags&14680064,b|=k.flags&14680064,k.return=l,k=k.sibling;else for(k=l.child;k!==null;)f|=k.lanes|k.childLanes,b|=k.subtreeFlags,b|=k.flags,k.return=l,k=k.sibling;return l.subtreeFlags|=b,l.childLanes=f,u}function t8(l,u,f){var b=u.pendingProps;switch(we(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qi(u),null;case 1:return Ki(u.type)&&vm(),Qi(u),null;case 3:return b=u.stateNode,ho(),bn(Xi),bn(Kr),M0(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(l===null||l.child===null)&&(un(u)?u.flags|=4:l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Ue!==null&&(aw(Ue),Ue=null))),X_(l,u),Qi(u),null;case 5:R0(u);var k=Wo(Vl.current);if(f=u.type,l!==null&&u.stateNode!=null)uC(l,u,f,b,k),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!b){if(u.stateNode===null)throw Error(t(166));return Qi(u),null}if(l=Wo(ks.current),un(u)){b=u.stateNode,f=u.type;var T=u.memoizedProps;switch(b[co]=u,b[Eh]=T,l=(u.mode&1)!==0,f){case"dialog":Pn("cancel",b),Pn("close",b);break;case"iframe":case"object":case"embed":Pn("load",b);break;case"video":case"audio":for(k=0;k<Ul.length;k++)Pn(Ul[k],b);break;case"source":Pn("error",b);break;case"img":case"image":case"link":Pn("error",b),Pn("load",b);break;case"details":Pn("toggle",b);break;case"input":Re(b,T),Pn("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!T.multiple},Pn("invalid",b);break;case"textarea":gt(b,T),Pn("invalid",b)}In(f,T),k=null;for(var H in T)if(T.hasOwnProperty(H)){var ce=T[H];H==="children"?typeof ce=="string"?b.textContent!==ce&&(T.suppressHydrationWarning!==!0&&ym(b.textContent,ce,l),k=["children",ce]):typeof ce=="number"&&b.textContent!==""+ce&&(T.suppressHydrationWarning!==!0&&ym(b.textContent,ce,l),k=["children",""+ce]):r.hasOwnProperty(H)&&ce!=null&&H==="onScroll"&&Pn("scroll",b)}switch(f){case"input":Me(b),ct(b,T,!0);break;case"textarea":Me(b),Ot(b);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(b.onclick=kh)}b=k,u.updateQueue=b,b!==null&&(u.flags|=4)}else{H=k.nodeType===9?k:k.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=Ht(f)),l==="http://www.w3.org/1999/xhtml"?f==="script"?(l=H.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof b.is=="string"?l=H.createElement(f,{is:b.is}):(l=H.createElement(f),f==="select"&&(H=l,b.multiple?H.multiple=!0:b.size&&(H.size=b.size))):l=H.createElementNS(l,f),l[co]=u,l[Eh]=b,cC(l,u,!1,!1),u.stateNode=l;e:{switch(H=qs(f,b),f){case"dialog":Pn("cancel",l),Pn("close",l),k=b;break;case"iframe":case"object":case"embed":Pn("load",l),k=b;break;case"video":case"audio":for(k=0;k<Ul.length;k++)Pn(Ul[k],l);k=b;break;case"source":Pn("error",l),k=b;break;case"img":case"image":case"link":Pn("error",l),Pn("load",l),k=b;break;case"details":Pn("toggle",l),k=b;break;case"input":Re(l,b),k=it(l,b),Pn("invalid",l);break;case"option":k=b;break;case"select":l._wrapperState={wasMultiple:!!b.multiple},k=me({},b,{value:void 0}),Pn("invalid",l);break;case"textarea":gt(l,b),k=et(l,b),Pn("invalid",l);break;default:k=b}In(f,k),ce=k;for(T in ce)if(ce.hasOwnProperty(T)){var _e=ce[T];T==="style"?Us(l,_e):T==="dangerouslySetInnerHTML"?(_e=_e?_e.__html:void 0,_e!=null&&xt(l,_e)):T==="children"?typeof _e=="string"?(f!=="textarea"||_e!=="")&&Rt(l,_e):typeof _e=="number"&&Rt(l,""+_e):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(r.hasOwnProperty(T)?_e!=null&&T==="onScroll"&&Pn("scroll",l):_e!=null&&R(l,T,_e,H))}switch(f){case"input":Me(l),ct(l,b,!1);break;case"textarea":Me(l),Ot(l);break;case"option":b.value!=null&&l.setAttribute("value",""+Ce(b.value));break;case"select":l.multiple=!!b.multiple,T=b.value,T!=null?Qe(l,!!b.multiple,T,!1):b.defaultValue!=null&&Qe(l,!!b.multiple,b.defaultValue,!0);break;default:typeof k.onClick=="function"&&(l.onclick=kh)}switch(f){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Qi(u),null;case 6:if(l&&u.stateNode!=null)hC(l,u,l.memoizedProps,b);else{if(typeof b!="string"&&u.stateNode===null)throw Error(t(166));if(f=Wo(Vl.current),Wo(ks.current),un(u)){if(b=u.stateNode,f=u.memoizedProps,b[co]=u,(T=b.nodeValue!==f)&&(l=xe,l!==null))switch(l.tag){case 3:ym(b.nodeValue,f,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&ym(b.nodeValue,f,(l.mode&1)!==0)}T&&(u.flags|=4)}else b=(f.nodeType===9?f:f.ownerDocument).createTextNode(b),b[co]=u,u.stateNode=b}return Qi(u),null;case 13:if(bn(Fn),b=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(je&&Be!==null&&(u.mode&1)!==0&&(u.flags&128)===0)tn(),$t(),u.flags|=98560,T=!1;else if(T=un(u),b!==null&&b.dehydrated!==null){if(l===null){if(!T)throw Error(t(318));if(T=u.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(t(317));T[co]=u}else $t(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Qi(u),T=!1}else Ue!==null&&(aw(Ue),Ue=null),T=!0;if(!T)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=f,u):(b=b!==null,b!==(l!==null&&l.memoizedState!==null)&&b&&(u.child.flags|=8192,(u.mode&1)!==0&&(l===null||(Fn.current&1)!==0?Qr===0&&(Qr=3):cw())),u.updateQueue!==null&&(u.flags|=4),Qi(u),null);case 4:return ho(),X_(l,u),l===null&&Kc(u.stateNode.containerInfo),Qi(u),null;case 10:return Ji(u.type._context),Qi(u),null;case 17:return Ki(u.type)&&vm(),Qi(u),null;case 19:if(bn(Fn),T=u.memoizedState,T===null)return Qi(u),null;if(b=(u.flags&128)!==0,H=T.rendering,H===null)if(b)D0(T,!1);else{if(Qr!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(H=Ta(l),H!==null){for(u.flags|=128,D0(T,!1),b=H.updateQueue,b!==null&&(u.updateQueue=b,u.flags|=4),u.subtreeFlags=0,b=f,f=u.child;f!==null;)T=f,l=b,T.flags&=14680066,H=T.alternate,H===null?(T.childLanes=0,T.lanes=l,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=H.childLanes,T.lanes=H.lanes,T.child=H.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=H.memoizedProps,T.memoizedState=H.memoizedState,T.updateQueue=H.updateQueue,T.type=H.type,l=H.dependencies,T.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),f=f.sibling;return xn(Fn,Fn.current&1|2),u.child}l=l.sibling}T.tail!==null&&Gn()>Rm&&(u.flags|=128,b=!0,D0(T,!1),u.lanes=4194304)}else{if(!b)if(l=Ta(H),l!==null){if(u.flags|=128,b=!0,f=l.updateQueue,f!==null&&(u.updateQueue=f,u.flags|=4),D0(T,!0),T.tail===null&&T.tailMode==="hidden"&&!H.alternate&&!je)return Qi(u),null}else 2*Gn()-T.renderingStartTime>Rm&&f!==1073741824&&(u.flags|=128,b=!0,D0(T,!1),u.lanes=4194304);T.isBackwards?(H.sibling=u.child,u.child=H):(f=T.last,f!==null?f.sibling=H:u.child=H,T.last=H)}return T.tail!==null?(u=T.tail,T.rendering=u,T.tail=u.sibling,T.renderingStartTime=Gn(),u.sibling=null,f=Fn.current,xn(Fn,b?f&1|2:f&1),u):(Qi(u),null);case 22:case 23:return lw(),b=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==b&&(u.flags|=8192),b&&(u.mode&1)!==0?(Ra&1073741824)!==0&&(Qi(u),u.subtreeFlags&6&&(u.flags|=8192)):Qi(u),null;case 24:return null;case 25:return null}throw Error(t(156,u.tag))}function n8(l,u){switch(we(u),u.tag){case 1:return Ki(u.type)&&vm(),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return ho(),bn(Xi),bn(Kr),M0(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 5:return R0(u),null;case 13:if(bn(Fn),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(t(340));$t()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return bn(Fn),null;case 4:return ho(),null;case 10:return Ji(u.type._context),null;case 22:case 23:return lw(),null;case 24:return null;default:return null}}var Iv=!1,Zi=!1,r8=typeof WeakSet=="function"?WeakSet:Set,ht=null;function Lm(l,u){var f=l.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(b){_r(l,u,b)}else f.current=null}function K_(l,u,f){try{f()}catch(b){_r(l,u,b)}}var dC=!1;function i8(l,u){if(cf=oh,l=tf(),Wc(l)){if("selectionStart"in l)var f={start:l.selectionStart,end:l.selectionEnd};else e:{f=(f=l.ownerDocument)&&f.defaultView||window;var b=f.getSelection&&f.getSelection();if(b&&b.rangeCount!==0){f=b.anchorNode;var k=b.anchorOffset,T=b.focusNode;b=b.focusOffset;try{f.nodeType,T.nodeType}catch{f=null;break e}var H=0,ce=-1,_e=-1,Ie=0,We=0,Xe=l,Ve=null;t:for(;;){for(var lt;Xe!==f||k!==0&&Xe.nodeType!==3||(ce=H+k),Xe!==T||b!==0&&Xe.nodeType!==3||(_e=H+b),Xe.nodeType===3&&(H+=Xe.nodeValue.length),(lt=Xe.firstChild)!==null;)Ve=Xe,Xe=lt;for(;;){if(Xe===l)break t;if(Ve===f&&++Ie===k&&(ce=H),Ve===T&&++We===b&&(_e=H),(lt=Xe.nextSibling)!==null)break;Xe=Ve,Ve=Xe.parentNode}Xe=lt}f=ce===-1||_e===-1?null:{start:ce,end:_e}}else f=null}f=f||{start:0,end:0}}else f=null;for(Qc={focusedElem:l,selectionRange:f},oh=!1,ht=u;ht!==null;)if(u=ht,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,ht=l;else for(;ht!==null;){u=ht;try{var dt=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(dt!==null){var mt=dt.memoizedProps,Lr=dt.memoizedState,Le=u.stateNode,Se=Le.getSnapshotBeforeUpdate(u.elementType===u.type?mt:Xo(u.type,mt),Lr);Le.__reactInternalSnapshotBeforeUpdate=Se}break;case 3:var Ne=u.stateNode.containerInfo;Ne.nodeType===1?Ne.textContent="":Ne.nodeType===9&&Ne.documentElement&&Ne.removeChild(Ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Ke){_r(u,u.return,Ke)}if(l=u.sibling,l!==null){l.return=u.return,ht=l;break}ht=u.return}return dt=dC,dC=!1,dt}function j0(l,u,f){var b=u.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var k=b=b.next;do{if((k.tag&l)===l){var T=k.destroy;k.destroy=void 0,T!==void 0&&K_(u,f,T)}k=k.next}while(k!==b)}}function Mv(l,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var f=u=u.next;do{if((f.tag&l)===l){var b=f.create;f.destroy=b()}f=f.next}while(f!==u)}}function J_(l){var u=l.ref;if(u!==null){var f=l.stateNode;switch(l.tag){case 5:l=f;break;default:l=f}typeof u=="function"?u(l):u.current=l}}function fC(l){var u=l.alternate;u!==null&&(l.alternate=null,fC(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&(delete u[co],delete u[Eh],delete u[Yi],delete u[O_],delete u[F_])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function pC(l){return l.tag===5||l.tag===3||l.tag===4}function mC(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||pC(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Q_(l,u,f){var b=l.tag;if(b===5||b===6)l=l.stateNode,u?f.nodeType===8?f.parentNode.insertBefore(l,u):f.insertBefore(l,u):(f.nodeType===8?(u=f.parentNode,u.insertBefore(l,f)):(u=f,u.appendChild(l)),f=f._reactRootContainer,f!=null||u.onclick!==null||(u.onclick=kh));else if(b!==4&&(l=l.child,l!==null))for(Q_(l,u,f),l=l.sibling;l!==null;)Q_(l,u,f),l=l.sibling}function Z_(l,u,f){var b=l.tag;if(b===5||b===6)l=l.stateNode,u?f.insertBefore(l,u):f.appendChild(l);else if(b!==4&&(l=l.child,l!==null))for(Z_(l,u,f),l=l.sibling;l!==null;)Z_(l,u,f),l=l.sibling}var Ri=null,Ko=!1;function Fh(l,u,f){for(f=f.child;f!==null;)gC(l,u,f),f=f.sibling}function gC(l,u,f){if($s&&typeof $s.onCommitFiberUnmount=="function")try{$s.onCommitFiberUnmount(Nc,f)}catch{}switch(f.tag){case 5:Zi||Lm(f,u);case 6:var b=Ri,k=Ko;Ri=null,Fh(l,u,f),Ri=b,Ko=k,Ri!==null&&(Ko?(l=Ri,f=f.stateNode,l.nodeType===8?l.parentNode.removeChild(f):l.removeChild(f)):Ri.removeChild(f.stateNode));break;case 18:Ri!==null&&(Ko?(l=Ri,f=f.stateNode,l.nodeType===8?P0(l.parentNode,f):l.nodeType===1&&P0(l,f),Aa(l)):P0(Ri,f.stateNode));break;case 4:b=Ri,k=Ko,Ri=f.stateNode.containerInfo,Ko=!0,Fh(l,u,f),Ri=b,Ko=k;break;case 0:case 11:case 14:case 15:if(!Zi&&(b=f.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){k=b=b.next;do{var T=k,H=T.destroy;T=T.tag,H!==void 0&&((T&2)!==0||(T&4)!==0)&&K_(f,u,H),k=k.next}while(k!==b)}Fh(l,u,f);break;case 1:if(!Zi&&(Lm(f,u),b=f.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=f.memoizedProps,b.state=f.memoizedState,b.componentWillUnmount()}catch(ce){_r(f,u,ce)}Fh(l,u,f);break;case 21:Fh(l,u,f);break;case 22:f.mode&1?(Zi=(b=Zi)||f.memoizedState!==null,Fh(l,u,f),Zi=b):Fh(l,u,f);break;default:Fh(l,u,f)}}function yC(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var f=l.stateNode;f===null&&(f=l.stateNode=new r8),u.forEach(function(b){var k=f8.bind(null,l,b);f.has(b)||(f.add(b),b.then(k,k))})}}function Jo(l,u){var f=u.deletions;if(f!==null)for(var b=0;b<f.length;b++){var k=f[b];try{var T=l,H=u,ce=H;e:for(;ce!==null;){switch(ce.tag){case 5:Ri=ce.stateNode,Ko=!1;break e;case 3:Ri=ce.stateNode.containerInfo,Ko=!0;break e;case 4:Ri=ce.stateNode.containerInfo,Ko=!0;break e}ce=ce.return}if(Ri===null)throw Error(t(160));gC(T,H,k),Ri=null,Ko=!1;var _e=k.alternate;_e!==null&&(_e.return=null),k.return=null}catch(Ie){_r(k,u,Ie)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)vC(u,l),u=u.sibling}function vC(l,u){var f=l.alternate,b=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Jo(u,l),Gl(l),b&4){try{j0(3,l,l.return),Mv(3,l)}catch(mt){_r(l,l.return,mt)}try{j0(5,l,l.return)}catch(mt){_r(l,l.return,mt)}}break;case 1:Jo(u,l),Gl(l),b&512&&f!==null&&Lm(f,f.return);break;case 5:if(Jo(u,l),Gl(l),b&512&&f!==null&&Lm(f,f.return),l.flags&32){var k=l.stateNode;try{Rt(k,"")}catch(mt){_r(l,l.return,mt)}}if(b&4&&(k=l.stateNode,k!=null)){var T=l.memoizedProps,H=f!==null?f.memoizedProps:T,ce=l.type,_e=l.updateQueue;if(l.updateQueue=null,_e!==null)try{ce==="input"&&T.type==="radio"&&T.name!=null&&le(k,T),qs(ce,H);var Ie=qs(ce,T);for(H=0;H<_e.length;H+=2){var We=_e[H],Xe=_e[H+1];We==="style"?Us(k,Xe):We==="dangerouslySetInnerHTML"?xt(k,Xe):We==="children"?Rt(k,Xe):R(k,We,Xe,Ie)}switch(ce){case"input":St(k,T);break;case"textarea":Tt(k,T);break;case"select":var Ve=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!T.multiple;var lt=T.value;lt!=null?Qe(k,!!T.multiple,lt,!1):Ve!==!!T.multiple&&(T.defaultValue!=null?Qe(k,!!T.multiple,T.defaultValue,!0):Qe(k,!!T.multiple,T.multiple?[]:"",!1))}k[Eh]=T}catch(mt){_r(l,l.return,mt)}}break;case 6:if(Jo(u,l),Gl(l),b&4){if(l.stateNode===null)throw Error(t(162));k=l.stateNode,T=l.memoizedProps;try{k.nodeValue=T}catch(mt){_r(l,l.return,mt)}}break;case 3:if(Jo(u,l),Gl(l),b&4&&f!==null&&f.memoizedState.isDehydrated)try{Aa(u.containerInfo)}catch(mt){_r(l,l.return,mt)}break;case 4:Jo(u,l),Gl(l);break;case 13:Jo(u,l),Gl(l),k=l.child,k.flags&8192&&(T=k.memoizedState!==null,k.stateNode.isHidden=T,!T||k.alternate!==null&&k.alternate.memoizedState!==null||(nw=Gn())),b&4&&yC(l);break;case 22:if(We=f!==null&&f.memoizedState!==null,l.mode&1?(Zi=(Ie=Zi)||We,Jo(u,l),Zi=Ie):Jo(u,l),Gl(l),b&8192){if(Ie=l.memoizedState!==null,(l.stateNode.isHidden=Ie)&&!We&&(l.mode&1)!==0)for(ht=l,We=l.child;We!==null;){for(Xe=ht=We;ht!==null;){switch(Ve=ht,lt=Ve.child,Ve.tag){case 0:case 11:case 14:case 15:j0(4,Ve,Ve.return);break;case 1:Lm(Ve,Ve.return);var dt=Ve.stateNode;if(typeof dt.componentWillUnmount=="function"){b=Ve,f=Ve.return;try{u=b,dt.props=u.memoizedProps,dt.state=u.memoizedState,dt.componentWillUnmount()}catch(mt){_r(b,f,mt)}}break;case 5:Lm(Ve,Ve.return);break;case 22:if(Ve.memoizedState!==null){wC(Xe);continue}}lt!==null?(lt.return=Ve,ht=lt):wC(Xe)}We=We.sibling}e:for(We=null,Xe=l;;){if(Xe.tag===5){if(We===null){We=Xe;try{k=Xe.stateNode,Ie?(T=k.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(ce=Xe.stateNode,_e=Xe.memoizedProps.style,H=_e!=null&&_e.hasOwnProperty("display")?_e.display:null,ce.style.display=rn("display",H))}catch(mt){_r(l,l.return,mt)}}}else if(Xe.tag===6){if(We===null)try{Xe.stateNode.nodeValue=Ie?"":Xe.memoizedProps}catch(mt){_r(l,l.return,mt)}}else if((Xe.tag!==22&&Xe.tag!==23||Xe.memoizedState===null||Xe===l)&&Xe.child!==null){Xe.child.return=Xe,Xe=Xe.child;continue}if(Xe===l)break e;for(;Xe.sibling===null;){if(Xe.return===null||Xe.return===l)break e;We===Xe&&(We=null),Xe=Xe.return}We===Xe&&(We=null),Xe.sibling.return=Xe.return,Xe=Xe.sibling}}break;case 19:Jo(u,l),Gl(l),b&4&&yC(l);break;case 21:break;default:Jo(u,l),Gl(l)}}function Gl(l){var u=l.flags;if(u&2){try{e:{for(var f=l.return;f!==null;){if(pC(f)){var b=f;break e}f=f.return}throw Error(t(160))}switch(b.tag){case 5:var k=b.stateNode;b.flags&32&&(Rt(k,""),b.flags&=-33);var T=mC(l);Z_(l,T,k);break;case 3:case 4:var H=b.stateNode.containerInfo,ce=mC(l);Q_(l,ce,H);break;default:throw Error(t(161))}}catch(_e){_r(l,l.return,_e)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function s8(l,u,f){ht=l,bC(l)}function bC(l,u,f){for(var b=(l.mode&1)!==0;ht!==null;){var k=ht,T=k.child;if(k.tag===22&&b){var H=k.memoizedState!==null||Iv;if(!H){var ce=k.alternate,_e=ce!==null&&ce.memoizedState!==null||Zi;ce=Iv;var Ie=Zi;if(Iv=H,(Zi=_e)&&!Ie)for(ht=k;ht!==null;)H=ht,_e=H.child,H.tag===22&&H.memoizedState!==null?xC(k):_e!==null?(_e.return=H,ht=_e):xC(k);for(;T!==null;)ht=T,bC(T),T=T.sibling;ht=k,Iv=ce,Zi=Ie}_C(l)}else(k.subtreeFlags&8772)!==0&&T!==null?(T.return=k,ht=T):_C(l)}}function _C(l){for(;ht!==null;){var u=ht;if((u.flags&8772)!==0){var f=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Zi||Mv(5,u);break;case 1:var b=u.stateNode;if(u.flags&4&&!Zi)if(f===null)b.componentDidMount();else{var k=u.elementType===u.type?f.memoizedProps:Xo(u.type,f.memoizedProps);b.componentDidUpdate(k,f.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var T=u.updateQueue;T!==null&&ru(u,T,b);break;case 3:var H=u.updateQueue;if(H!==null){if(f=null,u.child!==null)switch(u.child.tag){case 5:f=u.child.stateNode;break;case 1:f=u.child.stateNode}ru(u,H,f)}break;case 5:var ce=u.stateNode;if(f===null&&u.flags&4){f=ce;var _e=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":_e.autoFocus&&f.focus();break;case"img":_e.src&&(f.src=_e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var Ie=u.alternate;if(Ie!==null){var We=Ie.memoizedState;if(We!==null){var Xe=We.dehydrated;Xe!==null&&Aa(Xe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Zi||u.flags&512&&J_(u)}catch(Ve){_r(u,u.return,Ve)}}if(u===l){ht=null;break}if(f=u.sibling,f!==null){f.return=u.return,ht=f;break}ht=u.return}}function wC(l){for(;ht!==null;){var u=ht;if(u===l){ht=null;break}var f=u.sibling;if(f!==null){f.return=u.return,ht=f;break}ht=u.return}}function xC(l){for(;ht!==null;){var u=ht;try{switch(u.tag){case 0:case 11:case 15:var f=u.return;try{Mv(4,u)}catch(_e){_r(u,f,_e)}break;case 1:var b=u.stateNode;if(typeof b.componentDidMount=="function"){var k=u.return;try{b.componentDidMount()}catch(_e){_r(u,k,_e)}}var T=u.return;try{J_(u)}catch(_e){_r(u,T,_e)}break;case 5:var H=u.return;try{J_(u)}catch(_e){_r(u,H,_e)}}}catch(_e){_r(u,u.return,_e)}if(u===l){ht=null;break}var ce=u.sibling;if(ce!==null){ce.return=u.return,ht=ce;break}ht=u.return}}var a8=Math.ceil,Ov=M.ReactCurrentDispatcher,ew=M.ReactCurrentOwner,mo=M.ReactCurrentBatchConfig,pn=0,mi=null,Ur=null,Ii=0,Ra=0,Nm=Pa(0),Qr=0,B0=null,mf=0,Fv=0,tw=0,z0=null,ta=null,nw=0,Rm=1/0,au=null,Dv=!1,rw=null,Dh=null,jv=!1,jh=null,Bv=0,U0=0,iw=null,zv=-1,Uv=0;function Ls(){return(pn&6)!==0?Gn():zv!==-1?zv:zv=Gn()}function Bh(l){return(l.mode&1)===0?1:(pn&2)!==0&&Ii!==0?Ii&-Ii:Sn.transition!==null?(Uv===0&&(Uv=$d()),Uv):(l=dn,l!==0||(l=window.event,l=l===void 0?16:Xd(l.type)),l)}function Qo(l,u,f,b){if(50<U0)throw U0=0,iw=null,Error(t(185));Tl(l,f,b),((pn&2)===0||l!==mi)&&(l===mi&&((pn&2)===0&&(Fv|=f),Qr===4&&zh(l,Ii)),na(l,b),f===1&&pn===0&&(u.mode&1)===0&&(Rm=Gn()+500,hf&&N()))}function na(l,u){var f=l.callbackNode;$i(l,u);var b=Hi(l,l===mi?Ii:0);if(b===0)f!==null&&Lc(f),l.callbackNode=null,l.callbackPriority=0;else if(u=b&-b,l.callbackPriority!==u){if(f!=null&&Lc(f),u===1)l.tag===0?E(AC.bind(null,l)):_(AC.bind(null,l)),I_(function(){(pn&6)===0&&N()}),f=null;else{switch(rh(b)){case 1:f=El;break;case 4:f=qd;break;case 16:f=Zu;break;case 536870912:f=sm;break;default:f=Zu}f=RC(f,SC.bind(null,l))}l.callbackPriority=u,l.callbackNode=f}}function SC(l,u){if(zv=-1,Uv=0,(pn&6)!==0)throw Error(t(327));var f=l.callbackNode;if(Im()&&l.callbackNode!==f)return null;var b=Hi(l,l===mi?Ii:0);if(b===0)return null;if((b&30)!==0||(b&l.expiredLanes)!==0||u)u=qv(l,b);else{u=b;var k=pn;pn|=2;var T=kC();(mi!==l||Ii!==u)&&(au=null,Rm=Gn()+500,yf(l,u));do try{c8();break}catch(ce){CC(l,ce)}while(!0);Jr(),Ov.current=T,pn=k,Ur!==null?u=0:(mi=null,Ii=0,u=Qr)}if(u!==0){if(u===2&&(k=Mc(l),k!==0&&(b=k,u=sw(l,k))),u===1)throw f=B0,yf(l,0),zh(l,b),na(l,Gn()),f;if(u===6)zh(l,b);else{if(k=l.current.alternate,(b&30)===0&&!o8(k)&&(u=qv(l,b),u===2&&(T=Mc(l),T!==0&&(b=T,u=sw(l,T))),u===1))throw f=B0,yf(l,0),zh(l,b),na(l,Gn()),f;switch(l.finishedWork=k,l.finishedLanes=b,u){case 0:case 1:throw Error(t(345));case 2:vf(l,ta,au);break;case 3:if(zh(l,b),(b&130023424)===b&&(u=nw+500-Gn(),10<u)){if(Hi(l,0)!==0)break;if(k=l.suspendedLanes,(k&b)!==b){Ls(),l.pingedLanes|=l.suspendedLanes&k;break}l.timeoutHandle=E0(vf.bind(null,l,ta,au),u);break}vf(l,ta,au);break;case 4:if(zh(l,b),(b&4194240)===b)break;for(u=l.eventTimes,k=-1;0<b;){var H=31-_s(b);T=1<<H,H=u[H],H>k&&(k=H),b&=~T}if(b=k,b=Gn()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*a8(b/1960))-b,10<b){l.timeoutHandle=E0(vf.bind(null,l,ta,au),b);break}vf(l,ta,au);break;case 5:vf(l,ta,au);break;default:throw Error(t(329))}}}return na(l,Gn()),l.callbackNode===f?SC.bind(null,l):null}function sw(l,u){var f=z0;return l.current.memoizedState.isDehydrated&&(yf(l,u).flags|=256),l=qv(l,u),l!==2&&(u=ta,ta=f,u!==null&&aw(u)),l}function aw(l){ta===null?ta=l:ta.push.apply(ta,l)}function o8(l){for(var u=l;;){if(u.flags&16384){var f=u.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var b=0;b<f.length;b++){var k=f[b],T=k.getSnapshot;k=k.value;try{if(!fn(T(),k))return!1}catch{return!1}}}if(f=u.child,u.subtreeFlags&16384&&f!==null)f.return=u,u=f;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function zh(l,u){for(u&=~tw,u&=~Fv,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var f=31-_s(u),b=1<<f;l[f]=-1,u&=~b}}function AC(l){if((pn&6)!==0)throw Error(t(327));Im();var u=Hi(l,0);if((u&1)===0)return na(l,Gn()),null;var f=qv(l,u);if(l.tag!==0&&f===2){var b=Mc(l);b!==0&&(u=b,f=sw(l,b))}if(f===1)throw f=B0,yf(l,0),zh(l,u),na(l,Gn()),f;if(f===6)throw Error(t(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,vf(l,ta,au),na(l,Gn()),null}function ow(l,u){var f=pn;pn|=1;try{return l(u)}finally{pn=f,pn===0&&(Rm=Gn()+500,hf&&N())}}function gf(l){jh!==null&&jh.tag===0&&(pn&6)===0&&Im();var u=pn;pn|=1;var f=mo.transition,b=dn;try{if(mo.transition=null,dn=1,l)return l()}finally{dn=b,mo.transition=f,pn=u,(pn&6)===0&&N()}}function lw(){Ra=Nm.current,bn(Nm)}function yf(l,u){l.finishedWork=null,l.finishedLanes=0;var f=l.timeoutHandle;if(f!==-1&&(l.timeoutHandle=-1,_v(f)),Ur!==null)for(f=Ur.return;f!==null;){var b=f;switch(we(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&vm();break;case 3:ho(),bn(Xi),bn(Kr),M0();break;case 5:R0(b);break;case 4:ho();break;case 13:bn(Fn);break;case 19:bn(Fn);break;case 10:Ji(b.type._context);break;case 22:case 23:lw()}f=f.return}if(mi=l,Ur=l=Uh(l.current,null),Ii=Ra=u,Qr=0,B0=null,tw=Fv=mf=0,ta=z0=null,Cs!==null){for(u=0;u<Cs.length;u++)if(f=Cs[u],b=f.interleaved,b!==null){f.interleaved=null;var k=b.next,T=f.pending;if(T!==null){var H=T.next;T.next=k,b.next=H}f.pending=b}Cs=null}return l}function CC(l,u){do{var f=Ur;try{if(Jr(),_m.current=Tv,Ih){for(var b=qn.memoizedState;b!==null;){var k=b.queue;k!==null&&(k.pending=null),b=b.next}Ih=!1}if(fo=0,cr=br=qn=null,Go=!1,Mh=0,ew.current=null,f===null||f.return===null){Qr=1,B0=u,Ur=null;break}e:{var T=l,H=f.return,ce=f,_e=u;if(u=Ii,ce.flags|=32768,_e!==null&&typeof _e=="object"&&typeof _e.then=="function"){var Ie=_e,We=ce,Xe=We.tag;if((We.mode&1)===0&&(Xe===0||Xe===11||Xe===15)){var Ve=We.alternate;Ve?(We.updateQueue=Ve.updateQueue,We.memoizedState=Ve.memoizedState,We.lanes=Ve.lanes):(We.updateQueue=null,We.memoizedState=null)}var lt=KA(H);if(lt!==null){lt.flags&=-257,JA(lt,H,ce,T,u),lt.mode&1&&XA(T,Ie,u),u=lt,_e=Ie;var dt=u.updateQueue;if(dt===null){var mt=new Set;mt.add(_e),u.updateQueue=mt}else dt.add(_e);break e}else{if((u&1)===0){XA(T,Ie,u),cw();break e}_e=Error(t(426))}}else if(je&&ce.mode&1){var Lr=KA(H);if(Lr!==null){(Lr.flags&65536)===0&&(Lr.flags|=256),JA(Lr,H,ce,T,u),_n(Tm(_e,ce));break e}}T=_e=Tm(_e,ce),Qr!==4&&(Qr=2),z0===null?z0=[T]:z0.push(T),T=H;do{switch(T.tag){case 3:T.flags|=65536,u&=-u,T.lanes|=u;var Le=GA(T,_e,u);Zs(T,Le);break e;case 1:ce=_e;var Se=T.type,Ne=T.stateNode;if((T.flags&128)===0&&(typeof Se.getDerivedStateFromError=="function"||Ne!==null&&typeof Ne.componentDidCatch=="function"&&(Dh===null||!Dh.has(Ne)))){T.flags|=65536,u&=-u,T.lanes|=u;var Ke=YA(T,ce,u);Zs(T,Ke);break e}}T=T.return}while(T!==null)}PC(f)}catch(yt){u=yt,Ur===f&&f!==null&&(Ur=f=f.return);continue}break}while(!0)}function kC(){var l=Ov.current;return Ov.current=Tv,l===null?Tv:l}function cw(){(Qr===0||Qr===3||Qr===2)&&(Qr=4),mi===null||(mf&268435455)===0&&(Fv&268435455)===0||zh(mi,Ii)}function qv(l,u){var f=pn;pn|=2;var b=kC();(mi!==l||Ii!==u)&&(au=null,yf(l,u));do try{l8();break}catch(k){CC(l,k)}while(!0);if(Jr(),pn=f,Ov.current=b,Ur!==null)throw Error(t(261));return mi=null,Ii=0,Qr}function l8(){for(;Ur!==null;)EC(Ur)}function c8(){for(;Ur!==null&&!Qu();)EC(Ur)}function EC(l){var u=NC(l.alternate,l,Ra);l.memoizedProps=l.pendingProps,u===null?PC(l):Ur=u,ew.current=null}function PC(l){var u=l;do{var f=u.alternate;if(l=u.return,(u.flags&32768)===0){if(f=t8(f,u,Ra),f!==null){Ur=f;return}}else{if(f=n8(f,u),f!==null){f.flags&=32767,Ur=f;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{Qr=6,Ur=null;return}}if(u=u.sibling,u!==null){Ur=u;return}Ur=u=l}while(u!==null);Qr===0&&(Qr=5)}function vf(l,u,f){var b=dn,k=mo.transition;try{mo.transition=null,dn=1,u8(l,u,f,b)}finally{mo.transition=k,dn=b}return null}function u8(l,u,f,b){do Im();while(jh!==null);if((pn&6)!==0)throw Error(t(327));f=l.finishedWork;var k=l.finishedLanes;if(f===null)return null;if(l.finishedWork=null,l.finishedLanes=0,f===l.current)throw Error(t(177));l.callbackNode=null,l.callbackPriority=0;var T=f.lanes|f.childLanes;if(S0(l,T),l===mi&&(Ur=mi=null,Ii=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||jv||(jv=!0,RC(Zu,function(){return Im(),null})),T=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||T){T=mo.transition,mo.transition=null;var H=dn;dn=1;var ce=pn;pn|=4,ew.current=null,i8(l,f),vC(f,l),Gc(Qc),oh=!!cf,Qc=cf=null,l.current=f,s8(f),im(),pn=ce,dn=H,mo.transition=T}else l.current=f;if(jv&&(jv=!1,jh=l,Bv=k),T=l.pendingLanes,T===0&&(Dh=null),eh(f.stateNode),na(l,Gn()),u!==null)for(b=l.onRecoverableError,f=0;f<u.length;f++)k=u[f],b(k.value,{componentStack:k.stack,digest:k.digest});if(Dv)throw Dv=!1,l=rw,rw=null,l;return(Bv&1)!==0&&l.tag!==0&&Im(),T=l.pendingLanes,(T&1)!==0?l===iw?U0++:(U0=0,iw=l):U0=0,N(),null}function Im(){if(jh!==null){var l=rh(Bv),u=mo.transition,f=dn;try{if(mo.transition=null,dn=16>l?16:l,jh===null)var b=!1;else{if(l=jh,jh=null,Bv=0,(pn&6)!==0)throw Error(t(331));var k=pn;for(pn|=4,ht=l.current;ht!==null;){var T=ht,H=T.child;if((ht.flags&16)!==0){var ce=T.deletions;if(ce!==null){for(var _e=0;_e<ce.length;_e++){var Ie=ce[_e];for(ht=Ie;ht!==null;){var We=ht;switch(We.tag){case 0:case 11:case 15:j0(8,We,T)}var Xe=We.child;if(Xe!==null)Xe.return=We,ht=Xe;else for(;ht!==null;){We=ht;var Ve=We.sibling,lt=We.return;if(fC(We),We===Ie){ht=null;break}if(Ve!==null){Ve.return=lt,ht=Ve;break}ht=lt}}}var dt=T.alternate;if(dt!==null){var mt=dt.child;if(mt!==null){dt.child=null;do{var Lr=mt.sibling;mt.sibling=null,mt=Lr}while(mt!==null)}}ht=T}}if((T.subtreeFlags&2064)!==0&&H!==null)H.return=T,ht=H;else e:for(;ht!==null;){if(T=ht,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:j0(9,T,T.return)}var Le=T.sibling;if(Le!==null){Le.return=T.return,ht=Le;break e}ht=T.return}}var Se=l.current;for(ht=Se;ht!==null;){H=ht;var Ne=H.child;if((H.subtreeFlags&2064)!==0&&Ne!==null)Ne.return=H,ht=Ne;else e:for(H=Se;ht!==null;){if(ce=ht,(ce.flags&2048)!==0)try{switch(ce.tag){case 0:case 11:case 15:Mv(9,ce)}}catch(yt){_r(ce,ce.return,yt)}if(ce===H){ht=null;break e}var Ke=ce.sibling;if(Ke!==null){Ke.return=ce.return,ht=Ke;break e}ht=ce.return}}if(pn=k,N(),$s&&typeof $s.onPostCommitFiberRoot=="function")try{$s.onPostCommitFiberRoot(Nc,l)}catch{}b=!0}return b}finally{dn=f,mo.transition=u}}return!1}function TC(l,u,f){u=Tm(f,u),u=GA(l,u,1),l=Qs(l,u,1),u=Ls(),l!==null&&(Tl(l,1,u),na(l,u))}function _r(l,u,f){if(l.tag===3)TC(l,l,f);else for(;u!==null;){if(u.tag===3){TC(u,l,f);break}else if(u.tag===1){var b=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Dh===null||!Dh.has(b))){l=Tm(f,l),l=YA(u,l,1),u=Qs(u,l,1),l=Ls(),u!==null&&(Tl(u,1,l),na(u,l));break}}u=u.return}}function h8(l,u,f){var b=l.pingCache;b!==null&&b.delete(u),u=Ls(),l.pingedLanes|=l.suspendedLanes&f,mi===l&&(Ii&f)===f&&(Qr===4||Qr===3&&(Ii&130023424)===Ii&&500>Gn()-nw?yf(l,0):tw|=f),na(l,u)}function LC(l,u){u===0&&((l.mode&1)===0?u=1:(u=Pl,Pl<<=1,(Pl&130023424)===0&&(Pl=4194304)));var f=Ls();l=gn(l,u),l!==null&&(Tl(l,u,f),na(l,f))}function d8(l){var u=l.memoizedState,f=0;u!==null&&(f=u.retryLane),LC(l,f)}function f8(l,u){var f=0;switch(l.tag){case 13:var b=l.stateNode,k=l.memoizedState;k!==null&&(f=k.retryLane);break;case 19:b=l.stateNode;break;default:throw Error(t(314))}b!==null&&b.delete(u),LC(l,f)}var NC;NC=function(l,u,f){if(l!==null)if(l.memoizedProps!==u.pendingProps||Xi.current)ea=!0;else{if((l.lanes&f)===0&&(u.flags&128)===0)return ea=!1,e8(l,u,f);ea=(l.flags&131072)!==0}else ea=!1,je&&(u.flags&1048576)!==0&&qe(u,Y,u.index);switch(u.lanes=0,u.tag){case 2:var b=u.type;Rv(l,u),l=u.pendingProps;var k=Th(u,Kr.current);Qn(u,f),k=df(null,u,b,l,k,f);var T=po();return u.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Ki(b)?(T=!0,tu(u)):T=!1,u.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,bm(u),k.updater=Lv,u.stateNode=k,k._reactInternals=u,z_(u,b,l,f),u=$_(null,u,b,!0,T,f)):(u.tag=0,je&&T&&Oe(u),Ts(null,u,k,f),u=u.child),u;case 16:b=u.elementType;e:{switch(Rv(l,u),l=u.pendingProps,k=b._init,b=k(b._payload),u.type=b,k=u.tag=m8(b),l=Xo(b,l),k){case 0:u=H_(null,u,b,l,f);break e;case 1:u=rC(null,u,b,l,f);break e;case 11:u=QA(null,u,b,l,f);break e;case 14:u=ZA(null,u,b,Xo(b.type,l),f);break e}throw Error(t(306,b,""))}return u;case 0:return b=u.type,k=u.pendingProps,k=u.elementType===b?k:Xo(b,k),H_(l,u,b,k,f);case 1:return b=u.type,k=u.pendingProps,k=u.elementType===b?k:Xo(b,k),rC(l,u,b,k,f);case 3:e:{if(iC(u),l===null)throw Error(t(387));b=u.pendingProps,T=u.memoizedState,k=T.element,N0(l,u),Vo(u,b,null,f);var H=u.memoizedState;if(b=H.element,T.isDehydrated)if(T={element:b,isDehydrated:!1,cache:H.cache,pendingSuspenseBoundaries:H.pendingSuspenseBoundaries,transitions:H.transitions},u.updateQueue.baseState=T,u.memoizedState=T,u.flags&256){k=Tm(Error(t(423)),u),u=sC(l,u,b,f,k);break e}else if(b!==k){k=Tm(Error(t(424)),u),u=sC(l,u,b,f,k);break e}else for(Be=Li(u.stateNode.containerInfo.firstChild),xe=u,je=!0,Ue=null,f=mn(u,null,b,f),u.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if($t(),b===k){u=su(l,u,f);break e}Ts(l,u,b,f)}u=u.child}return u;case 5:return Av(u),l===null&&tt(u),b=u.type,k=u.pendingProps,T=l!==null?l.memoizedProps:null,H=k.children,k0(b,k)?H=null:T!==null&&k0(b,T)&&(u.flags|=32),nC(l,u),Ts(l,u,H,f),u.child;case 6:return l===null&&tt(u),null;case 13:return aC(l,u,f);case 4:return Rh(u,u.stateNode.containerInfo),b=u.pendingProps,l===null?u.child=Er(u,null,b,f):Ts(l,u,b,f),u.child;case 11:return b=u.type,k=u.pendingProps,k=u.elementType===b?k:Xo(b,k),QA(l,u,b,k,f);case 7:return Ts(l,u,u.pendingProps,f),u.child;case 8:return Ts(l,u,u.pendingProps.children,f),u.child;case 12:return Ts(l,u,u.pendingProps.children,f),u.child;case 10:e:{if(b=u.type._context,k=u.pendingProps,T=u.memoizedProps,H=k.value,xn(fi,b._currentValue),b._currentValue=H,T!==null)if(fn(T.value,H)){if(T.children===k.children&&!Xi.current){u=su(l,u,f);break e}}else for(T=u.child,T!==null&&(T.return=u);T!==null;){var ce=T.dependencies;if(ce!==null){H=T.child;for(var _e=ce.firstContext;_e!==null;){if(_e.context===b){if(T.tag===1){_e=Js(-1,f&-f),_e.tag=2;var Ie=T.updateQueue;if(Ie!==null){Ie=Ie.shared;var We=Ie.pending;We===null?_e.next=_e:(_e.next=We.next,We.next=_e),Ie.pending=_e}}T.lanes|=f,_e=T.alternate,_e!==null&&(_e.lanes|=f),Ks(T.return,f,u),ce.lanes|=f;break}_e=_e.next}}else if(T.tag===10)H=T.type===u.type?null:T.child;else if(T.tag===18){if(H=T.return,H===null)throw Error(t(341));H.lanes|=f,ce=H.alternate,ce!==null&&(ce.lanes|=f),Ks(H,f,u),H=T.sibling}else H=T.child;if(H!==null)H.return=T;else for(H=T;H!==null;){if(H===u){H=null;break}if(T=H.sibling,T!==null){T.return=H.return,H=T;break}H=H.return}T=H}Ts(l,u,k.children,f),u=u.child}return u;case 9:return k=u.type,b=u.pendingProps.children,Qn(u,f),k=vr(k),b=b(k),u.flags|=1,Ts(l,u,b,f),u.child;case 14:return b=u.type,k=Xo(b,u.pendingProps),k=Xo(b.type,k),ZA(l,u,b,k,f);case 15:return eC(l,u,u.type,u.pendingProps,f);case 17:return b=u.type,k=u.pendingProps,k=u.elementType===b?k:Xo(b,k),Rv(l,u),u.tag=1,Ki(b)?(l=!0,tu(u)):l=!1,Qn(u,f),VA(u,b,k),z_(u,b,k,f),$_(null,u,b,!0,l,f);case 19:return lC(l,u,f);case 22:return tC(l,u,f)}throw Error(t(156,u.tag))};function RC(l,u){return Tc(l,u)}function p8(l,u,f,b){this.tag=l,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function go(l,u,f,b){return new p8(l,u,f,b)}function uw(l){return l=l.prototype,!(!l||!l.isReactComponent)}function m8(l){if(typeof l=="function")return uw(l)?1:0;if(l!=null){if(l=l.$$typeof,l===V)return 11;if(l===pe)return 14}return 2}function Uh(l,u){var f=l.alternate;return f===null?(f=go(l.tag,u,l.key,l.mode),f.elementType=l.elementType,f.type=l.type,f.stateNode=l.stateNode,f.alternate=l,l.alternate=f):(f.pendingProps=u,f.type=l.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=l.flags&14680064,f.childLanes=l.childLanes,f.lanes=l.lanes,f.child=l.child,f.memoizedProps=l.memoizedProps,f.memoizedState=l.memoizedState,f.updateQueue=l.updateQueue,u=l.dependencies,f.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},f.sibling=l.sibling,f.index=l.index,f.ref=l.ref,f}function Hv(l,u,f,b,k,T){var H=2;if(b=l,typeof l=="function")uw(l)&&(H=1);else if(typeof l=="string")H=5;else e:switch(l){case U:return bf(f.children,k,T,u);case D:H=8,k|=8;break;case Q:return l=go(12,f,u,k|2),l.elementType=Q,l.lanes=T,l;case ee:return l=go(13,f,u,k),l.elementType=ee,l.lanes=T,l;case re:return l=go(19,f,u,k),l.elementType=re,l.lanes=T,l;case he:return $v(f,k,T,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case ue:H=10;break e;case j:H=9;break e;case V:H=11;break e;case pe:H=14;break e;case fe:H=16,b=null;break e}throw Error(t(130,l==null?l:typeof l,""))}return u=go(H,f,u,k),u.elementType=l,u.type=b,u.lanes=T,u}function bf(l,u,f,b){return l=go(7,l,b,u),l.lanes=f,l}function $v(l,u,f,b){return l=go(22,l,b,u),l.elementType=he,l.lanes=f,l.stateNode={isHidden:!1},l}function hw(l,u,f){return l=go(6,l,null,u),l.lanes=f,l}function dw(l,u,f){return u=go(4,l.children!==null?l.children:[],l.key,u),u.lanes=f,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function g8(l,u,f,b,k){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vd(0),this.expirationTimes=Vd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vd(0),this.identifierPrefix=b,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function fw(l,u,f,b,k,T,H,ce,_e){return l=new g8(l,u,f,ce,_e),u===1?(u=1,T===!0&&(u|=8)):u=0,T=go(3,null,null,u),l.current=T,T.stateNode=l,T.memoizedState={element:b,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},bm(T),l}function y8(l,u,f){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:b==null?null:""+b,children:l,containerInfo:u,implementation:f}}function IC(l){if(!l)return Hl;l=l._reactInternals;e:{if(Yr(l)!==l||l.tag!==1)throw Error(t(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Ki(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(t(171))}if(l.tag===1){var f=l.type;if(Ki(f))return L0(l,f,u)}return u}function MC(l,u,f,b,k,T,H,ce,_e){return l=fw(f,b,!0,l,k,T,H,ce,_e),l.context=IC(null),f=l.current,b=Ls(),k=Bh(f),T=Js(b,k),T.callback=u??null,Qs(f,T,k),l.current.lanes=k,Tl(l,k,b),na(l,b),l}function Vv(l,u,f,b){var k=u.current,T=Ls(),H=Bh(k);return f=IC(f),u.context===null?u.context=f:u.pendingContext=f,u=Js(T,H),u.payload={element:l},b=b===void 0?null:b,b!==null&&(u.callback=b),l=Qs(k,u,H),l!==null&&(Qo(l,k,H,T),nu(l,k,H)),H}function Wv(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function OC(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var f=l.retryLane;l.retryLane=f!==0&&f<u?f:u}}function pw(l,u){OC(l,u),(l=l.alternate)&&OC(l,u)}function v8(){return null}var FC=typeof reportError=="function"?reportError:function(l){console.error(l)};function mw(l){this._internalRoot=l}Gv.prototype.render=mw.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(t(409));Vv(l,u,null,null)},Gv.prototype.unmount=mw.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;gf(function(){Vv(null,l,null,null)}),u[di]=null}};function Gv(l){this._internalRoot=l}Gv.prototype.unstable_scheduleHydration=function(l){if(l){var u=eo();l={blockedOn:null,target:l,priority:u};for(var f=0;f<no.length&&u!==0&&u<no[f].priority;f++);no.splice(f,0,l),f===0&&sh(l)}};function gw(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function Yv(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function DC(){}function b8(l,u,f,b,k){if(k){if(typeof b=="function"){var T=b;b=function(){var Ie=Wv(H);T.call(Ie)}}var H=MC(u,b,l,0,null,!1,!1,"",DC);return l._reactRootContainer=H,l[di]=H.current,Kc(l.nodeType===8?l.parentNode:l),gf(),H}for(;k=l.lastChild;)l.removeChild(k);if(typeof b=="function"){var ce=b;b=function(){var Ie=Wv(_e);ce.call(Ie)}}var _e=fw(l,0,!1,null,null,!1,!1,"",DC);return l._reactRootContainer=_e,l[di]=_e.current,Kc(l.nodeType===8?l.parentNode:l),gf(function(){Vv(u,_e,f,b)}),_e}function Xv(l,u,f,b,k){var T=f._reactRootContainer;if(T){var H=T;if(typeof k=="function"){var ce=k;k=function(){var _e=Wv(H);ce.call(_e)}}Vv(u,H,l,k)}else H=b8(f,u,l,k,b);return Wv(H)}lm=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var f=Ic(u.pendingLanes);f!==0&&(nh(u,f|1),na(u,Gn()),(pn&6)===0&&(Rm=Gn()+500,N()))}break;case 13:gf(function(){var b=gn(l,1);if(b!==null){var k=Ls();Qo(b,l,1,k)}}),pw(l,1)}},Wd=function(l){if(l.tag===13){var u=gn(l,134217728);if(u!==null){var f=Ls();Qo(u,l,134217728,f)}pw(l,134217728)}},cm=function(l){if(l.tag===13){var u=Bh(l),f=gn(l,u);if(f!==null){var b=Ls();Qo(f,l,u,b)}pw(l,u)}},eo=function(){return dn},Oc=function(l,u){var f=dn;try{return dn=l,u()}finally{dn=f}},Un=function(l,u,f){switch(u){case"input":if(St(l,f),u=f.name,f.type==="radio"&&u!=null){for(f=l;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<f.length;u++){var b=f[u];if(b!==l&&b.form===l.form){var k=uf(b);if(!k)throw Error(t(90));Ge(b),St(b,k)}}}break;case"textarea":Tt(l,f);break;case"select":u=f.value,u!=null&&Qe(l,!!f.multiple,u,!1)}},Al=ow,Br=gf;var _8={usingClientEntryPoint:!1,Events:[Ph,Zc,uf,It,hn,ow]},q0={findFiberByHostInstance:ql,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w8={bundleType:q0.bundleType,version:q0.version,rendererPackageName:q0.rendererPackageName,rendererConfig:q0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=kl(l),l===null?null:l.stateNode},findFiberByHostInstance:q0.findFiberByHostInstance||v8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kv.isDisabled&&Kv.supportsFiber)try{Nc=Kv.inject(w8),$s=Kv}catch{}}return ra.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_8,ra.createPortal=function(l,u){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gw(u))throw Error(t(200));return y8(l,u,null,f)},ra.createRoot=function(l,u){if(!gw(l))throw Error(t(299));var f=!1,b="",k=FC;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onRecoverableError!==void 0&&(k=u.onRecoverableError)),u=fw(l,1,!1,null,null,f,!1,b,k),l[di]=u.current,Kc(l.nodeType===8?l.parentNode:l),new mw(u)},ra.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(t(188)):(l=Object.keys(l).join(","),Error(t(268,l)));return l=kl(u),l=l===null?null:l.stateNode,l},ra.flushSync=function(l){return gf(l)},ra.hydrate=function(l,u,f){if(!Yv(u))throw Error(t(200));return Xv(null,l,u,!0,f)},ra.hydrateRoot=function(l,u,f){if(!gw(l))throw Error(t(405));var b=f!=null&&f.hydratedSources||null,k=!1,T="",H=FC;if(f!=null&&(f.unstable_strictMode===!0&&(k=!0),f.identifierPrefix!==void 0&&(T=f.identifierPrefix),f.onRecoverableError!==void 0&&(H=f.onRecoverableError)),u=MC(u,null,l,1,f??null,k,!1,T,H),l[di]=u.current,Kc(l),b)for(l=0;l<b.length;l++)f=b[l],k=f._getVersion,k=k(f._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[f,k]:u.mutableSourceEagerHydrationData.push(f,k);return new Gv(u)},ra.render=function(l,u,f){if(!Yv(u))throw Error(t(200));return Xv(null,l,u,!1,f)},ra.unmountComponentAtNode=function(l){if(!Yv(l))throw Error(t(40));return l._reactRootContainer?(gf(function(){Xv(null,null,l,!1,function(){l._reactRootContainer=null,l[di]=null})}),!0):!1},ra.unstable_batchedUpdates=ow,ra.unstable_renderSubtreeIntoContainer=function(l,u,f,b){if(!Yv(f))throw Error(t(200));if(l==null||l._reactInternals===void 0)throw Error(t(38));return Xv(l,u,f,!1,b)},ra.version="18.3.1-next-f1338f8080-20240426",ra}var WC;function R8(){if(WC)return _w.exports;WC=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),_w.exports=N8(),_w.exports}var GC;function I8(){if(GC)return Jv;GC=1;var i=R8();return Jv.createRoot=i.createRoot,Jv.hydrateRoot=i.hydrateRoot,Jv}var M8=I8(),te=ES();const YC=e_(te);var $0={},XC;function O8(){if(XC)return $0;XC=1,Object.defineProperty($0,"__esModule",{value:!0}),$0.parse=a,$0.serialize=h;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,s=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function a(y,v){const x=new s,w=y.length;if(w<2)return x;const C=(v==null?void 0:v.decode)||d;let S=0;do{const P=y.indexOf("=",S);if(P===-1)break;const R=y.indexOf(";",S),M=R===-1?w:R;if(P>M){S=y.lastIndexOf(";",P-1)+1;continue}const O=o(y,S,P),$=c(y,P,O),U=y.slice(O,$);if(x[U]===void 0){let D=o(y,P+1,M),Q=c(y,M,D);const ue=C(y.slice(D,Q));x[U]=ue}S=M+1}while(S<w);return x}function o(y,v,x){do{const w=y.charCodeAt(v);if(w!==32&&w!==9)return v}while(++v<x);return x}function c(y,v,x){for(;v>x;){const w=y.charCodeAt(--v);if(w!==32&&w!==9)return v+1}return x}function h(y,v,x){const w=(x==null?void 0:x.encode)||encodeURIComponent;if(!i.test(y))throw new TypeError(`argument name is invalid: ${y}`);const C=w(v);if(!e.test(C))throw new TypeError(`argument val is invalid: ${v}`);let S=y+"="+C;if(!x)return S;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);S+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);S+="; Domain="+x.domain}if(x.path){if(!n.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);S+="; Path="+x.path}if(x.expires){if(!p(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);S+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(S+="; HttpOnly"),x.secure&&(S+="; Secure"),x.partitioned&&(S+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":S+="; Priority=Low";break;case"medium":S+="; Priority=Medium";break;case"high":S+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":S+="; SameSite=Strict";break;case"lax":S+="; SameSite=Lax";break;case"none":S+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return S}function d(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function p(y){return r.call(y)==="[object Date]"}return $0}O8();var KC="popstate";function F8(i={}){function e(n,r){let{pathname:s,search:a,hash:o}=n.location;return ox("",{pathname:s,search:a,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(n,r){return typeof r=="string"?r:N1(r)}return j8(e,t,null,i)}function ar(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function bl(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function D8(){return Math.random().toString(36).substring(2,10)}function JC(i,e){return{usr:i.state,key:i.key,idx:e}}function ox(i,e,t=null,n){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?g0(e):e,state:t,key:e&&e.key||n||D8()}}function N1({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function g0(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let n=i.indexOf("?");n>=0&&(e.search=i.substring(n),i=i.substring(0,n)),i&&(e.pathname=i)}return e}function j8(i,e,t,n={}){let{window:r=document.defaultView,v5Compat:s=!1}=n,a=r.history,o="POP",c=null,h=d();h==null&&(h=0,a.replaceState({...a.state,idx:h},""));function d(){return(a.state||{idx:null}).idx}function p(){o="POP";let C=d(),S=C==null?null:C-h;h=C,c&&c({action:o,location:w.location,delta:S})}function y(C,S){o="PUSH";let P=ox(w.location,C,S);h=d()+1;let R=JC(P,h),M=w.createHref(P);try{a.pushState(R,"",M)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;r.location.assign(M)}s&&c&&c({action:o,location:w.location,delta:1})}function v(C,S){o="REPLACE";let P=ox(w.location,C,S);h=d();let R=JC(P,h),M=w.createHref(P);a.replaceState(R,"",M),s&&c&&c({action:o,location:w.location,delta:0})}function x(C){let S=r.location.origin!=="null"?r.location.origin:r.location.href,P=typeof C=="string"?C:N1(C);return P=P.replace(/ $/,"%20"),ar(S,`No window.location.(origin|href) available to create URL for href: ${P}`),new URL(P,S)}let w={get action(){return o},get location(){return i(r,a)},listen(C){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(KC,p),c=C,()=>{r.removeEventListener(KC,p),c=null}},createHref(C){return e(r,C)},createURL:x,encodeLocation(C){let S=x(C);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:y,replace:v,go(C){return a.go(C)}};return w}function nP(i,e,t="/"){return B8(i,e,t,!1)}function B8(i,e,t,n){let r=typeof e=="string"?g0(e):e,s=Vu(r.pathname||"/",t);if(s==null)return null;let a=rP(i);z8(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let h=J8(s);o=X8(a[c],h,n)}return o}function rP(i,e=[],t=[],n=""){let r=(s,a,o)=>{let c={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(ar(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length));let h=Uu([n,c.relativePath]),d=t.concat(c);s.children&&s.children.length>0&&(ar(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),rP(s.children,e,d,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:G8(h,s.index),routesMeta:d})};return i.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))r(s,a);else for(let c of iP(s.path))r(s,a,c)}),e}function iP(i){let e=i.split("/");if(e.length===0)return[];let[t,...n]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(n.length===0)return r?[s,""]:[s];let a=iP(n.join("/")),o=[];return o.push(...a.map(c=>c===""?s:[s,c].join("/"))),r&&o.push(...a),o.map(c=>i.startsWith("/")&&c===""?"/":c)}function z8(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:Y8(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var U8=/^:[\w-]+$/,q8=3,H8=2,$8=1,V8=10,W8=-2,QC=i=>i==="*";function G8(i,e){let t=i.split("/"),n=t.length;return t.some(QC)&&(n+=W8),e&&(n+=H8),t.filter(r=>!QC(r)).reduce((r,s)=>r+(U8.test(s)?q8:s===""?$8:V8),n)}function Y8(i,e){return i.length===e.length&&i.slice(0,-1).every((n,r)=>n===e[r])?i[i.length-1]-e[e.length-1]:0}function X8(i,e,t=!1){let{routesMeta:n}=i,r={},s="/",a=[];for(let o=0;o<n.length;++o){let c=n[o],h=o===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",p=yb({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},d),y=c.route;if(!p&&h&&t&&!n[n.length-1].route.index&&(p=yb({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!p)return null;Object.assign(r,p.params),a.push({params:r,pathname:Uu([s,p.pathname]),pathnameBase:tI(Uu([s,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(s=Uu([s,p.pathnameBase]))}return a}function yb(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,n]=K8(i.path,i.caseSensitive,i.end),r=e.match(t);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:n.reduce((h,{paramName:d,isOptional:p},y)=>{if(d==="*"){let x=o[y]||"";a=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const v=o[y];return p&&!v?h[d]=void 0:h[d]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:a,pattern:i}}function K8(i,e=!1,t=!0){bl(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let n=[],r="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(n.push({paramName:"*"}),r+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":i!==""&&i!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),n]}function J8(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bl(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Vu(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=i.charAt(t);return n&&n!=="/"?null:i.slice(t)||"/"}function Q8(i,e="/"){let{pathname:t,search:n="",hash:r=""}=typeof i=="string"?g0(i):i;return{pathname:t?t.startsWith("/")?t:Z8(t,e):e,search:nI(n),hash:rI(r)}}function Z8(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Sw(i,e,t,n){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eI(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function PS(i){let e=eI(i);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function TS(i,e,t,n=!1){let r;typeof i=="string"?r=g0(i):(r={...i},ar(!r.pathname||!r.pathname.includes("?"),Sw("?","pathname","search",r)),ar(!r.pathname||!r.pathname.includes("#"),Sw("#","pathname","hash",r)),ar(!r.search||!r.search.includes("#"),Sw("#","search","hash",r)));let s=i===""||r.pathname==="",a=s?"/":r.pathname,o;if(a==null)o=t;else{let p=e.length-1;if(!n&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),p-=1;r.pathname=y.join("/")}o=p>=0?e[p]:"/"}let c=Q8(r,o),h=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(h||d)&&(c.pathname+="/"),c}var Uu=i=>i.join("/").replace(/\/\/+/g,"/"),tI=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),nI=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,rI=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function iI(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var sP=["POST","PUT","PATCH","DELETE"];new Set(sP);var sI=["GET",...sP];new Set(sI);var y0=te.createContext(null);y0.displayName="DataRouter";var t_=te.createContext(null);t_.displayName="DataRouterState";var aP=te.createContext({isTransitioning:!1});aP.displayName="ViewTransition";var aI=te.createContext(new Map);aI.displayName="Fetchers";var oI=te.createContext(null);oI.displayName="Await";var _l=te.createContext(null);_l.displayName="Navigation";var av=te.createContext(null);av.displayName="Location";var kc=te.createContext({outlet:null,matches:[],isDataRoute:!1});kc.displayName="Route";var LS=te.createContext(null);LS.displayName="RouteError";function lI(i,{relative:e}={}){ar(v0(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=te.useContext(_l),{hash:r,pathname:s,search:a}=ov(i,{relative:e}),o=s;return t!=="/"&&(o=s==="/"?t:Uu([t,s])),n.createHref({pathname:o,search:a,hash:r})}function v0(){return te.useContext(av)!=null}function jd(){return ar(v0(),"useLocation() may be used only in the context of a <Router> component."),te.useContext(av).location}var oP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lP(i){te.useContext(_l).static||te.useLayoutEffect(i)}function cP(){let{isDataRoute:i}=te.useContext(kc);return i?wI():cI()}function cI(){ar(v0(),"useNavigate() may be used only in the context of a <Router> component.");let i=te.useContext(y0),{basename:e,navigator:t}=te.useContext(_l),{matches:n}=te.useContext(kc),{pathname:r}=jd(),s=JSON.stringify(PS(n)),a=te.useRef(!1);return lP(()=>{a.current=!0}),te.useCallback((c,h={})=>{if(bl(a.current,oP),!a.current)return;if(typeof c=="number"){t.go(c);return}let d=TS(c,JSON.parse(s),r,h.relative==="path");i==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Uu([e,d.pathname])),(h.replace?t.replace:t.push)(d,h.state,h)},[e,t,s,r,i])}te.createContext(null);function ov(i,{relative:e}={}){let{matches:t}=te.useContext(kc),{pathname:n}=jd(),r=JSON.stringify(PS(t));return te.useMemo(()=>TS(i,JSON.parse(r),n,e==="path"),[i,r,n,e])}function uI(i,e){return uP(i,e)}function uP(i,e,t,n){var P;ar(v0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:s}=te.useContext(_l),{matches:a}=te.useContext(kc),o=a[a.length-1],c=o?o.params:{},h=o?o.pathname:"/",d=o?o.pathnameBase:"/",p=o&&o.route;{let R=p&&p.path||"";hP(h,!p||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let y=jd(),v;if(e){let R=typeof e=="string"?g0(e):e;ar(d==="/"||((P=R.pathname)==null?void 0:P.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${R.pathname}" was given in the \`location\` prop.`),v=R}else v=y;let x=v.pathname||"/",w=x;if(d!=="/"){let R=d.replace(/^\//,"").split("/");w="/"+x.replace(/^\//,"").split("/").slice(R.length).join("/")}let C=!s&&t&&t.matches&&t.matches.length>0?t.matches:nP(i,{pathname:w});bl(p||C!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),bl(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=mI(C&&C.map(R=>Object.assign({},R,{params:Object.assign({},c,R.params),pathname:Uu([d,r.encodeLocation?r.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?d:Uu([d,r.encodeLocation?r.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),a,t,n);return e&&S?te.createElement(av.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function hI(){let i=_I(),e=iI(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",i),a=te.createElement(te.Fragment,null,te.createElement("p",null,"💿 Hey developer 👋"),te.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",te.createElement("code",{style:s},"ErrorBoundary")," or"," ",te.createElement("code",{style:s},"errorElement")," prop on your route.")),te.createElement(te.Fragment,null,te.createElement("h2",null,"Unexpected Application Error!"),te.createElement("h3",{style:{fontStyle:"italic"}},e),t?te.createElement("pre",{style:r},t):null,a)}var dI=te.createElement(hI,null),fI=class extends te.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?te.createElement(kc.Provider,{value:this.props.routeContext},te.createElement(LS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pI({routeContext:i,match:e,children:t}){let n=te.useContext(y0);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),te.createElement(kc.Provider,{value:i},t)}function mI(i,e=[],t=null,n=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let r=i,s=t==null?void 0:t.errors;if(s!=null){let c=r.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);ar(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,c+1))}let a=!1,o=-1;if(t)for(let c=0;c<r.length;c++){let h=r[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(o=c),h.route.id){let{loaderData:d,errors:p}=t,y=h.route.loader&&!d.hasOwnProperty(h.route.id)&&(!p||p[h.route.id]===void 0);if(h.route.lazy||y){a=!0,o>=0?r=r.slice(0,o+1):r=[r[0]];break}}}return r.reduceRight((c,h,d)=>{let p,y=!1,v=null,x=null;t&&(p=s&&h.route.id?s[h.route.id]:void 0,v=h.route.errorElement||dI,a&&(o<0&&d===0?(hP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,x=null):o===d&&(y=!0,x=h.route.hydrateFallbackElement||null)));let w=e.concat(r.slice(0,d+1)),C=()=>{let S;return p?S=v:y?S=x:h.route.Component?S=te.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=c,te.createElement(pI,{match:h,routeContext:{outlet:c,matches:w,isDataRoute:t!=null},children:S})};return t&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?te.createElement(fI,{location:t.location,revalidation:t.revalidation,component:v,error:p,children:C(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):C()},null)}function NS(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gI(i){let e=te.useContext(y0);return ar(e,NS(i)),e}function yI(i){let e=te.useContext(t_);return ar(e,NS(i)),e}function vI(i){let e=te.useContext(kc);return ar(e,NS(i)),e}function RS(i){let e=vI(i),t=e.matches[e.matches.length-1];return ar(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function bI(){return RS("useRouteId")}function _I(){var n;let i=te.useContext(LS),e=yI("useRouteError"),t=RS("useRouteError");return i!==void 0?i:(n=e.errors)==null?void 0:n[t]}function wI(){let{router:i}=gI("useNavigate"),e=RS("useNavigate"),t=te.useRef(!1);return lP(()=>{t.current=!0}),te.useCallback(async(r,s={})=>{bl(t.current,oP),t.current&&(typeof r=="number"?i.navigate(r):await i.navigate(r,{fromRouteId:e,...s}))},[i,e])}var ZC={};function hP(i,e,t){!e&&!ZC[i]&&(ZC[i]=!0,bl(!1,t))}te.memo(xI);function xI({routes:i,future:e,state:t}){return uP(i,void 0,t,e)}function V0({to:i,replace:e,state:t,relative:n}){ar(v0(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=te.useContext(_l);bl(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=te.useContext(kc),{pathname:a}=jd(),o=cP(),c=TS(i,PS(s),a,n==="path"),h=JSON.stringify(c);return te.useEffect(()=>{o(JSON.parse(h),{replace:e,state:t,relative:n})},[o,h,n,e,t]),null}function Sf(i){ar(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function SI({basename:i="/",children:e=null,location:t,navigationType:n="POP",navigator:r,static:s=!1}){ar(!v0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=i.replace(/^\/*/,"/"),o=te.useMemo(()=>({basename:a,navigator:r,static:s,future:{}}),[a,r,s]);typeof t=="string"&&(t=g0(t));let{pathname:c="/",search:h="",hash:d="",state:p=null,key:y="default"}=t,v=te.useMemo(()=>{let x=Vu(c,a);return x==null?null:{location:{pathname:x,search:h,hash:d,state:p,key:y},navigationType:n}},[a,c,h,d,p,y,n]);return bl(v!=null,`<Router basename="${a}"> is not able to match the URL "${c}${h}${d}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:te.createElement(_l.Provider,{value:o},te.createElement(av.Provider,{children:e,value:v}))}function AI({children:i,location:e}){return uI(lx(i),e)}function lx(i,e=[]){let t=[];return te.Children.forEach(i,(n,r)=>{if(!te.isValidElement(n))return;let s=[...e,r];if(n.type===te.Fragment){t.push.apply(t,lx(n.props.children,s));return}ar(n.type===Sf,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ar(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=lx(n.props.children,s)),t.push(a)}),t}var m2="get",g2="application/x-www-form-urlencoded";function n_(i){return i!=null&&typeof i.tagName=="string"}function CI(i){return n_(i)&&i.tagName.toLowerCase()==="button"}function kI(i){return n_(i)&&i.tagName.toLowerCase()==="form"}function EI(i){return n_(i)&&i.tagName.toLowerCase()==="input"}function PI(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function TI(i,e){return i.button===0&&(!e||e==="_self")&&!PI(i)}var Qv=null;function LI(){if(Qv===null)try{new FormData(document.createElement("form"),0),Qv=!1}catch{Qv=!0}return Qv}var NI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Aw(i){return i!=null&&!NI.has(i)?(bl(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${g2}"`),null):i}function RI(i,e){let t,n,r,s,a;if(kI(i)){let o=i.getAttribute("action");n=o?Vu(o,e):null,t=i.getAttribute("method")||m2,r=Aw(i.getAttribute("enctype"))||g2,s=new FormData(i)}else if(CI(i)||EI(i)&&(i.type==="submit"||i.type==="image")){let o=i.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=i.getAttribute("formaction")||o.getAttribute("action");if(n=c?Vu(c,e):null,t=i.getAttribute("formmethod")||o.getAttribute("method")||m2,r=Aw(i.getAttribute("formenctype"))||Aw(o.getAttribute("enctype"))||g2,s=new FormData(o,i),!LI()){let{name:h,type:d,value:p}=i;if(d==="image"){let y=h?`${h}.`:"";s.append(`${y}x`,"0"),s.append(`${y}y`,"0")}else h&&s.append(h,p)}}else{if(n_(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=m2,n=null,r=g2,a=i}return s&&r==="text/plain"&&(a=s,s=void 0),{action:n,method:t.toLowerCase(),encType:r,formData:s,body:a}}function IS(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function II(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MI(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function OI(i,e,t){let n=await Promise.all(i.map(async r=>{let s=e.routes[r.route.id];if(s){let a=await II(s,t);return a.links?a.links():[]}return[]}));return BI(n.flat(1).filter(MI).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function ek(i,e,t,n,r,s){let a=(c,h)=>t[h]?c.route.id!==t[h].route.id:!0,o=(c,h)=>{var d;return t[h].pathname!==c.pathname||((d=t[h].route.path)==null?void 0:d.endsWith("*"))&&t[h].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,h)=>a(c,h)||o(c,h)):s==="data"?e.filter((c,h)=>{var p;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,h)||o(c,h))return!0;if(c.route.shouldRevalidate){let y=c.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((p=t[0])==null?void 0:p.params)||{},nextUrl:new URL(i,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function FI(i,e,{includeHydrateFallback:t}={}){return DI(i.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function DI(i){return[...new Set(i)]}function jI(i){let e={},t=Object.keys(i).sort();for(let n of t)e[n]=i[n];return e}function BI(i,e){let t=new Set;return new Set(e),i.reduce((n,r)=>{let s=JSON.stringify(jI(r));return t.has(s)||(t.add(s),n.push({key:s,link:r})),n},[])}var zI=new Set([100,101,204,205]);function UI(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&Vu(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function dP(){let i=te.useContext(y0);return IS(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function qI(){let i=te.useContext(t_);return IS(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var MS=te.createContext(void 0);MS.displayName="FrameworkContext";function fP(){let i=te.useContext(MS);return IS(i,"You must render this element inside a <HydratedRouter> element"),i}function HI(i,e){let t=te.useContext(MS),[n,r]=te.useState(!1),[s,a]=te.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:h,onMouseLeave:d,onTouchStart:p}=e,y=te.useRef(null);te.useEffect(()=>{if(i==="render"&&a(!0),i==="viewport"){let w=S=>{S.forEach(P=>{a(P.isIntersecting)})},C=new IntersectionObserver(w,{threshold:.5});return y.current&&C.observe(y.current),()=>{C.disconnect()}}},[i]),te.useEffect(()=>{if(n){let w=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(w)}}},[n]);let v=()=>{r(!0)},x=()=>{r(!1),a(!1)};return t?i!=="intent"?[s,y,{}]:[s,y,{onFocus:W0(o,v),onBlur:W0(c,x),onMouseEnter:W0(h,v),onMouseLeave:W0(d,x),onTouchStart:W0(p,v)}]:[!1,y,{}]}function W0(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function $I({page:i,...e}){let{router:t}=dP(),n=te.useMemo(()=>nP(t.routes,i,t.basename),[t.routes,i,t.basename]);return n?te.createElement(WI,{page:i,matches:n,...e}):null}function VI(i){let{manifest:e,routeModules:t}=fP(),[n,r]=te.useState([]);return te.useEffect(()=>{let s=!1;return OI(i,e,t).then(a=>{s||r(a)}),()=>{s=!0}},[i,e,t]),n}function WI({page:i,matches:e,...t}){let n=jd(),{manifest:r,routeModules:s}=fP(),{basename:a}=dP(),{loaderData:o,matches:c}=qI(),h=te.useMemo(()=>ek(i,e,c,r,n,"data"),[i,e,c,r,n]),d=te.useMemo(()=>ek(i,e,c,r,n,"assets"),[i,e,c,r,n]),p=te.useMemo(()=>{if(i===n.pathname+n.search+n.hash)return[];let x=new Set,w=!1;if(e.forEach(S=>{var R;let P=r.routes[S.route.id];!P||!P.hasLoader||(!h.some(M=>M.route.id===S.route.id)&&S.route.id in o&&((R=s[S.route.id])!=null&&R.shouldRevalidate)||P.hasClientLoader?w=!0:x.add(S.route.id))}),x.size===0)return[];let C=UI(i,a);return w&&x.size>0&&C.searchParams.set("_routes",e.filter(S=>x.has(S.route.id)).map(S=>S.route.id).join(",")),[C.pathname+C.search]},[a,o,n,r,h,e,i,s]),y=te.useMemo(()=>FI(d,r),[d,r]),v=VI(d);return te.createElement(te.Fragment,null,p.map(x=>te.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),y.map(x=>te.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),v.map(({key:x,link:w})=>te.createElement("link",{key:x,...w})))}function GI(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var pP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pP&&(window.__reactRouterVersion="7.5.2")}catch{}function YI({basename:i,children:e,window:t}){let n=te.useRef();n.current==null&&(n.current=F8({window:t,v5Compat:!0}));let r=n.current,[s,a]=te.useState({action:r.action,location:r.location}),o=te.useCallback(c=>{te.startTransition(()=>a(c))},[a]);return te.useLayoutEffect(()=>r.listen(o),[r,o]),te.createElement(SI,{basename:i,children:e,location:s.location,navigationType:s.action,navigator:r})}var mP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kd=te.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:r,reloadDocument:s,replace:a,state:o,target:c,to:h,preventScrollReset:d,viewTransition:p,...y},v){let{basename:x}=te.useContext(_l),w=typeof h=="string"&&mP.test(h),C,S=!1;if(typeof h=="string"&&w&&(C=h,pP))try{let Q=new URL(window.location.href),ue=h.startsWith("//")?new URL(Q.protocol+h):new URL(h),j=Vu(ue.pathname,x);ue.origin===Q.origin&&j!=null?h=j+ue.search+ue.hash:S=!0}catch{bl(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=lI(h,{relative:r}),[R,M,O]=HI(n,y),$=QI(h,{replace:a,state:o,target:c,preventScrollReset:d,relative:r,viewTransition:p});function U(Q){e&&e(Q),Q.defaultPrevented||$(Q)}let D=te.createElement("a",{...y,...O,href:C||P,onClick:S||s?e:U,ref:GI(v,M),target:c,"data-discover":!w&&t==="render"?"true":void 0});return R&&!w?te.createElement(te.Fragment,null,D,te.createElement($I,{page:P})):D});kd.displayName="Link";var XI=te.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:r=!1,style:s,to:a,viewTransition:o,children:c,...h},d){let p=ov(a,{relative:h.relative}),y=jd(),v=te.useContext(t_),{navigator:x,basename:w}=te.useContext(_l),C=v!=null&&rM(p)&&o===!0,S=x.encodeLocation?x.encodeLocation(p).pathname:p.pathname,P=y.pathname,R=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(P=P.toLowerCase(),R=R?R.toLowerCase():null,S=S.toLowerCase()),R&&w&&(R=Vu(R,w)||R);const M=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let O=P===S||!r&&P.startsWith(S)&&P.charAt(M)==="/",$=R!=null&&(R===S||!r&&R.startsWith(S)&&R.charAt(S.length)==="/"),U={isActive:O,isPending:$,isTransitioning:C},D=O?e:void 0,Q;typeof n=="function"?Q=n(U):Q=[n,O?"active":null,$?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let ue=typeof s=="function"?s(U):s;return te.createElement(kd,{...h,"aria-current":D,className:Q,ref:d,style:ue,to:a,viewTransition:o},typeof c=="function"?c(U):c)});XI.displayName="NavLink";var KI=te.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:r,state:s,method:a=m2,action:o,onSubmit:c,relative:h,preventScrollReset:d,viewTransition:p,...y},v)=>{let x=tM(),w=nM(o,{relative:h}),C=a.toLowerCase()==="get"?"get":"post",S=typeof o=="string"&&mP.test(o),P=R=>{if(c&&c(R),R.defaultPrevented)return;R.preventDefault();let M=R.nativeEvent.submitter,O=(M==null?void 0:M.getAttribute("formmethod"))||a;x(M||R.currentTarget,{fetcherKey:e,method:O,navigate:t,replace:r,state:s,relative:h,preventScrollReset:d,viewTransition:p})};return te.createElement("form",{ref:v,method:C,action:w,onSubmit:n?c:P,...y,"data-discover":!S&&i==="render"?"true":void 0})});KI.displayName="Form";function JI(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gP(i){let e=te.useContext(y0);return ar(e,JI(i)),e}function QI(i,{target:e,replace:t,state:n,preventScrollReset:r,relative:s,viewTransition:a}={}){let o=cP(),c=jd(),h=ov(i,{relative:s});return te.useCallback(d=>{if(TI(d,e)){d.preventDefault();let p=t!==void 0?t:N1(c)===N1(h);o(i,{replace:p,state:n,preventScrollReset:r,relative:s,viewTransition:a})}},[c,o,h,t,n,e,i,r,s,a])}var ZI=0,eM=()=>`__${String(++ZI)}__`;function tM(){let{router:i}=gP("useSubmit"),{basename:e}=te.useContext(_l),t=bI();return te.useCallback(async(n,r={})=>{let{action:s,method:a,encType:o,formData:c,body:h}=RI(n,e);if(r.navigate===!1){let d=r.fetcherKey||eM();await i.fetch(d,t,r.action||s,{preventScrollReset:r.preventScrollReset,formData:c,body:h,formMethod:r.method||a,formEncType:r.encType||o,flushSync:r.flushSync})}else await i.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:c,body:h,formMethod:r.method||a,formEncType:r.encType||o,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[i,e,t])}function nM(i,{relative:e}={}){let{basename:t}=te.useContext(_l),n=te.useContext(kc);ar(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),s={...ov(i||".",{relative:e})},a=jd();if(i==null){s.search=a.search;let o=new URLSearchParams(s.search),c=o.getAll("index");if(c.some(d=>d==="")){o.delete("index"),c.filter(p=>p).forEach(p=>o.append("index",p));let d=o.toString();s.search=d?`?${d}`:""}}return(!i||i===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Uu([t,s.pathname])),N1(s)}function rM(i,e={}){let t=te.useContext(aP);ar(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=gP("useViewTransitionState"),r=ov(i,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Vu(t.currentLocation.pathname,n)||t.currentLocation.pathname,a=Vu(t.nextLocation.pathname,n)||t.nextLocation.pathname;return yb(r.pathname,a)!=null||yb(r.pathname,s)!=null}new TextEncoder;[...zI];/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yP=(...i)=>i.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=te.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:r="",children:s,iconNode:a,...o},c)=>te.createElement("svg",{ref:c,...sM,width:e,height:e,stroke:i,strokeWidth:n?Number(t)*24/Number(e):t,className:yP("lucide",r),...o},[...a.map(([h,d])=>te.createElement(h,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=(i,e)=>{const t=te.forwardRef(({className:n,...r},s)=>te.createElement(aM,{ref:s,iconNode:e,className:yP(`lucide-${iM(i)}`,n),...r}));return t.displayName=`${i}`,t};/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],lM=Cn("Book",oM);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"M12 6V2H8",key:"1155em"}],["path",{d:"m8 18-4 4V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2Z",key:"w2lp3e"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M9 11v2",key:"1ueba0"}],["path",{d:"M15 11v2",key:"i11awn"}],["path",{d:"M20 12h2",key:"1q8mjw"}]],zp=Cn("BotMessageSquare",cM);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],tk=Cn("BrainCircuit",uM);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],vP=Cn("Camera",hM);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],fM=Cn("ChevronRight",dM);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],mM=Cn("Download",pM);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],bP=Cn("EyeOff",gM);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_P=Cn("Eye",yM);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],bM=Cn("Globe",vM);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],wM=Cn("Image",_M);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],wP=Cn("LoaderCircle",xM);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],AM=Cn("Loader",SM);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],xP=Cn("Lock",CM);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],EM=Cn("LogOut",kM);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],OS=Cn("Mail",PM);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],LM=Cn("Maximize",TM);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],RM=Cn("Menu",NM);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],FS=Cn("MessageSquare",IM);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["path",{d:"M6 8L2 12L6 16",key:"kyvwex"}],["path",{d:"M2 12H22",key:"1m8cig"}]],Zv=Cn("MoveLeft",MM);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]],SP=Cn("PhoneOff",OM);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],AP=Cn("Phone",FM);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],CP=Cn("Send",DM);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],BM=Cn("Settings",jM);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],UM=Cn("Sun",zM);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["path",{d:"M10 7.75a.75.75 0 0 1 1.142-.638l3.664 2.249a.75.75 0 0 1 0 1.278l-3.664 2.25a.75.75 0 0 1-1.142-.64z",key:"1pctta"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}]],HM=Cn("TvMinimalPlay",qM);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],DS=Cn("User",$M);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],jS=Cn("Users",VM);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],GM=Cn("Video",WM);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],lv=Cn("X",YM);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],KM=Cn("Youtube",XM);function du(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function kP(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}/*!
 * GSAP 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Ya={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},l0={duration:.5,overwrite:!1,delay:0},BS,ji,sr,_c=1e8,ps=1/_c,cx=Math.PI*2,JM=cx/4,QM=0,EP=Math.sqrt,ZM=Math.cos,eO=Math.sin,Ci=function(e){return typeof e=="string"},Cr=function(e){return typeof e=="function"},Wu=function(e){return typeof e=="number"},zS=function(e){return typeof e>"u"},Ac=function(e){return typeof e=="object"},da=function(e){return e!==!1},US=function(){return typeof window<"u"},e2=function(e){return Cr(e)||Ci(e)},PP=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},gs=Array.isArray,ux=/(?:-?\.?\d|\.)+/gi,TP=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Gm=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Cw=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,LP=/[+-]=-?[.\d]+/,NP=/[^,'"\[\]\s]+/gi,tO=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,pr,Jl,hx,qS,Ja={},vb={},RP,IP=function(e){return(vb=c0(e,Ja))&&ya},HS=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},R1=function(e,t){return!t&&console.warn(e)},MP=function(e,t){return e&&(Ja[e]=t)&&vb&&(vb[e]=t)||Ja},I1=function(){return 0},nO={suppressEvents:!0,isStart:!0,kill:!1},y2={suppressEvents:!0,kill:!1},rO={suppressEvents:!0},$S={},Ed=[],dx={},OP,Ha={},kw={},nk=30,v2=[],VS="",WS=function(e){var t=e[0],n,r;if(Ac(t)||Cr(t)||(e=[e]),!(n=(t._gsap||{}).harness)){for(r=v2.length;r--&&!v2[r].targetTest(t););n=v2[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new sT(e[r],n)))||e.splice(r,1);return e},Mp=function(e){return e._gsap||WS(Eo(e))[0]._gsap},FP=function(e,t,n){return(n=e[t])&&Cr(n)?e[t]():zS(n)&&e.getAttribute&&e.getAttribute(t)||n},fa=function(e,t){return(e=e.split(",")).forEach(t)||e},Rr=function(e){return Math.round(e*1e5)/1e5||0},Vr=function(e){return Math.round(e*1e7)/1e7||0},Jm=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),n==="+"?e+r:n==="-"?e-r:n==="*"?e*r:e/r},iO=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},bb=function(){var e=Ed.length,t=Ed.slice(0),n,r;for(dx={},Ed.length=0,n=0;n<e;n++)r=t[n],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},DP=function(e,t,n,r){Ed.length&&!ji&&bb(),e.render(t,n,ji&&t<0&&(e._initted||e._startAt)),Ed.length&&!ji&&bb()},jP=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(NP).length<2?t:Ci(e)?e.trim():e},BP=function(e){return e},Qa=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},sO=function(e){return function(t,n){for(var r in n)r in t||r==="duration"&&e||r==="ease"||(t[r]=n[r])}},c0=function(e,t){for(var n in t)e[n]=t[n];return e},rk=function i(e,t){for(var n in t)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=Ac(t[n])?i(e[n]||(e[n]={}),t[n]):t[n]);return e},_b=function(e,t){var n={},r;for(r in e)r in t||(n[r]=e[r]);return n},w1=function(e){var t=e.parent||pr,n=e.keyframes?sO(gs(e.keyframes)):Qa;if(da(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},aO=function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0},zP=function(e,t,n,r,s){var a=e[r],o;if(s)for(o=t[s];a&&a[s]>o;)a=a._prev;return a?(t._next=a._next,a._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=a,t.parent=t._dp=e,t},r_=function(e,t,n,r){n===void 0&&(n="_first"),r===void 0&&(r="_last");var s=t._prev,a=t._next;s?s._next=a:e[n]===t&&(e[n]=a),a?a._prev=s:e[r]===t&&(e[r]=s),t._next=t._prev=t.parent=null},Ld=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Op=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},oO=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},fx=function(e,t,n,r){return e._startAt&&(ji?e._startAt.revert(y2):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},lO=function i(e){return!e||e._ts&&i(e.parent)},ik=function(e){return e._repeat?u0(e._tTime,e=e.duration()+e._rDelay)*e:0},u0=function(e,t){var n=Math.floor(e=Vr(e/t));return e&&n===e?n-1:n},wb=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},i_=function(e){return e._end=Vr(e._start+(e._tDur/Math.abs(e._ts||e._rts||ps)||0))},s_=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=Vr(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),i_(e),n._dirty||Op(n,e)),e},UP=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=wb(e.rawTime(),t),(!t._dur||cv(0,t.totalDuration(),n)-t._tTime>ps)&&t.render(n,!0)),Op(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},gc=function(e,t,n,r){return t.parent&&Ld(t),t._start=Vr((Wu(n)?n:n||e!==pr?vo(e,n,t):e._time)+t._delay),t._end=Vr(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),zP(e,t,"_first","_last",e._sort?"_start":0),px(t)||(e._recent=t),r||UP(e,t),e._ts<0&&s_(e,e._tTime),e},qP=function(e,t){return(Ja.ScrollTrigger||HS("scrollTrigger",t))&&Ja.ScrollTrigger.create(t,e)},HP=function(e,t,n,r,s){if(YS(e,t,s),!e._initted)return 1;if(!n&&e._pt&&!ji&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&OP!==Va.frame)return Ed.push(e),e._lazy=[s,r],1},cO=function i(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||i(t))},px=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},uO=function(e,t,n,r){var s=e.ratio,a=t<0||!t&&(!e._start&&cO(e)&&!(!e._initted&&px(e))||(e._ts<0||e._dp._ts<0)&&!px(e))?0:1,o=e._rDelay,c=0,h,d,p;if(o&&e._repeat&&(c=cv(0,e._tDur,t),d=u0(c,o),e._yoyo&&d&1&&(a=1-a),d!==u0(e._tTime,o)&&(s=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),a!==s||ji||r||e._zTime===ps||!t&&e._zTime){if(!e._initted&&HP(e,t,r,n,c))return;for(p=e._zTime,e._zTime=t||(n?ps:0),n||(n=t&&!p),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=c,h=e._pt;h;)h.r(a,h.d),h=h._next;t<0&&fx(e,t,n,!0),e._onUpdate&&!n&&Wa(e,"onUpdate"),c&&e._repeat&&!n&&e.parent&&Wa(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===a&&(a&&Ld(e,1),!n&&!ji&&(Wa(e,a?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},hO=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if(r.data==="isPause"&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if(r.data==="isPause"&&r._start<t)return r;r=r._prev}},h0=function(e,t,n,r){var s=e._repeat,a=Vr(t)||0,o=e._tTime/e._tDur;return o&&!r&&(e._time*=a/e._dur),e._dur=a,e._tDur=s?s<0?1e10:Vr(a*(s+1)+e._rDelay*s):a,o>0&&!r&&s_(e,e._tTime=e._tDur*o),e.parent&&i_(e),n||Op(e.parent,e),e},sk=function(e){return e instanceof Fs?Op(e):h0(e,e._dur)},dO={_start:0,endTime:I1,totalDuration:I1},vo=function i(e,t,n){var r=e.labels,s=e._recent||dO,a=e.duration()>=_c?s.endTime(!1):e._dur,o,c,h;return Ci(t)&&(isNaN(t)||t in r)?(c=t.charAt(0),h=t.substr(-1)==="%",o=t.indexOf("="),c==="<"||c===">"?(o>=0&&(t=t.replace(/=/,"")),(c==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(h?(o<0?s:n).totalDuration()/100:1)):o<0?(t in r||(r[t]=a),r[t]):(c=parseFloat(t.charAt(o-1)+t.substr(o+1)),h&&n&&(c=c/100*(gs(n)?n[0]:n).totalDuration()),o>1?i(e,t.substr(0,o-1),n)+c:a+c)):t==null?a:+t},x1=function(e,t,n){var r=Wu(t[1]),s=(r?2:1)+(e<2?0:1),a=t[s],o,c;if(r&&(a.duration=t[1]),a.parent=n,e){for(o=a,c=n;c&&!("immediateRender"in o);)o=c.vars.defaults||{},c=da(c.vars.inherit)&&c.parent;a.immediateRender=da(o.immediateRender),e<2?a.runBackwards=1:a.startAt=t[s-1]}return new $r(t[0],a,t[s+1])},Bd=function(e,t){return e||e===0?t(e):t},cv=function(e,t,n){return n<e?e:n>t?t:n},us=function(e,t){return!Ci(e)||!(t=tO.exec(e))?"":t[1]},fO=function(e,t,n){return Bd(n,function(r){return cv(e,t,r)})},mx=[].slice,$P=function(e,t){return e&&Ac(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Ac(e[0]))&&!e.nodeType&&e!==Jl},pO=function(e,t,n){return n===void 0&&(n=[]),e.forEach(function(r){var s;return Ci(r)&&!t||$P(r,1)?(s=n).push.apply(s,Eo(r)):n.push(r)})||n},Eo=function(e,t,n){return sr&&!t&&sr.selector?sr.selector(e):Ci(e)&&!n&&(hx||!d0())?mx.call((t||qS).querySelectorAll(e),0):gs(e)?pO(e,n):$P(e)?mx.call(e,0):e?[e]:[]},gx=function(e){return e=Eo(e)[0]||R1("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return Eo(t,n.querySelectorAll?n:n===e?R1("Invalid scope")||qS.createElement("div"):e)}},VP=function(e){return e.sort(function(){return .5-Math.random()})},WP=function(e){if(Cr(e))return e;var t=Ac(e)?e:{each:e},n=Fp(t.ease),r=t.from||0,s=parseFloat(t.base)||0,a={},o=r>0&&r<1,c=isNaN(r)||o,h=t.axis,d=r,p=r;return Ci(r)?d=p={center:.5,edges:.5,end:1}[r]||0:!o&&c&&(d=r[0],p=r[1]),function(y,v,x){var w=(x||t).length,C=a[w],S,P,R,M,O,$,U,D,Q;if(!C){if(Q=t.grid==="auto"?0:(t.grid||[1,_c])[1],!Q){for(U=-1e8;U<(U=x[Q++].getBoundingClientRect().left)&&Q<w;);Q<w&&Q--}for(C=a[w]=[],S=c?Math.min(Q,w)*d-.5:r%Q,P=Q===_c?0:c?w*p/Q-.5:r/Q|0,U=0,D=_c,$=0;$<w;$++)R=$%Q-S,M=P-($/Q|0),C[$]=O=h?Math.abs(h==="y"?M:R):EP(R*R+M*M),O>U&&(U=O),O<D&&(D=O);r==="random"&&VP(C),C.max=U-D,C.min=D,C.v=w=(parseFloat(t.amount)||parseFloat(t.each)*(Q>w?w-1:h?h==="y"?w/Q:Q:Math.max(Q,w/Q))||0)*(r==="edges"?-1:1),C.b=w<0?s-w:s,C.u=us(t.amount||t.each)||0,n=n&&w<0?nT(n):n}return w=(C[y]-C.min)/C.max||0,Vr(C.b+(n?n(w):w)*C.v)+C.u}},yx=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=Vr(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(Wu(n)?0:us(n))}},GP=function(e,t){var n=gs(e),r,s;return!n&&Ac(e)&&(r=n=e.radius||_c,e.values?(e=Eo(e.values),(s=!Wu(e[0]))&&(r*=r)):e=yx(e.increment)),Bd(t,n?Cr(e)?function(a){return s=e(a),Math.abs(s-a)<=r?s:a}:function(a){for(var o=parseFloat(s?a.x:a),c=parseFloat(s?a.y:0),h=_c,d=0,p=e.length,y,v;p--;)s?(y=e[p].x-o,v=e[p].y-c,y=y*y+v*v):y=Math.abs(e[p]-o),y<h&&(h=y,d=p);return d=!r||h<=r?e[d]:a,s||d===a||Wu(a)?d:d+us(a)}:yx(e))},YP=function(e,t,n,r){return Bd(gs(e)?!t:n===!0?!!(n=0):!r,function(){return gs(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+n*.99))/n)*n*r)/r})},mO=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduce(function(s,a){return a(s)},r)}},gO=function(e,t){return function(n){return e(parseFloat(n))+(t||us(n))}},yO=function(e,t,n){return KP(e,t,0,1,n)},XP=function(e,t,n){return Bd(n,function(r){return e[~~t(r)]})},vO=function i(e,t,n){var r=t-e;return gs(e)?XP(e,i(0,e.length),t):Bd(n,function(s){return(r+(s-e)%r)%r+e})},bO=function i(e,t,n){var r=t-e,s=r*2;return gs(e)?XP(e,i(0,e.length-1),t):Bd(n,function(a){return a=(s+(a-e)%s)%s||0,e+(a>r?s-a:a)})},M1=function(e){for(var t=0,n="",r,s,a,o;~(r=e.indexOf("random(",t));)a=e.indexOf(")",r),o=e.charAt(r+7)==="[",s=e.substr(r+7,a-r-7).match(o?NP:ux),n+=e.substr(t,r-t)+YP(o?s:+s[0],o?0:+s[1],+s[2]||1e-5),t=a+1;return n+e.substr(t,e.length-t)},KP=function(e,t,n,r,s){var a=t-e,o=r-n;return Bd(s,function(c){return n+((c-e)/a*o||0)})},_O=function i(e,t,n,r){var s=isNaN(e+t)?0:function(v){return(1-v)*e+v*t};if(!s){var a=Ci(e),o={},c,h,d,p,y;if(n===!0&&(r=1)&&(n=null),a)e={p:e},t={p:t};else if(gs(e)&&!gs(t)){for(d=[],p=e.length,y=p-2,h=1;h<p;h++)d.push(i(e[h-1],e[h]));p--,s=function(x){x*=p;var w=Math.min(y,~~x);return d[w](x-w)},n=t}else r||(e=c0(gs(e)?[]:{},e));if(!d){for(c in t)GS.call(o,e,c,"get",t[c]);s=function(x){return JS(x,o)||(a?e.p:e)}}}return Bd(n,s)},ak=function(e,t,n){var r=e.labels,s=_c,a,o,c;for(a in r)o=r[a]-t,o<0==!!n&&o&&s>(o=Math.abs(o))&&(c=a,s=o);return c},Wa=function(e,t,n){var r=e.vars,s=r[t],a=sr,o=e._ctx,c,h,d;if(s)return c=r[t+"Params"],h=r.callbackScope||e,n&&Ed.length&&bb(),o&&(sr=o),d=c?s.apply(h,c):s.call(h),sr=a,d},n1=function(e){return Ld(e),e.scrollTrigger&&e.scrollTrigger.kill(!!ji),e.progress()<1&&Wa(e,"onInterrupt"),e},Ym,JP=[],QP=function(e){if(e)if(e=!e.name&&e.default||e,US()||e.headless){var t=e.name,n=Cr(e),r=t&&!n&&e.init?function(){this._props=[]}:e,s={init:I1,render:JS,add:GS,kill:FO,modifier:OO,rawVars:0},a={targetTest:0,get:0,getSetter:KS,aliases:{},register:0};if(d0(),e!==r){if(Ha[t])return;Qa(r,Qa(_b(e,s),a)),c0(r.prototype,c0(s,_b(e,a))),Ha[r.prop=t]=r,e.targetTest&&(v2.push(r),$S[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}MP(t,r),e.register&&e.register(ya,r,pa)}else JP.push(e)},Dn=255,r1={aqua:[0,Dn,Dn],lime:[0,Dn,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Dn],navy:[0,0,128],white:[Dn,Dn,Dn],olive:[128,128,0],yellow:[Dn,Dn,0],orange:[Dn,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Dn,0,0],pink:[Dn,192,203],cyan:[0,Dn,Dn],transparent:[Dn,Dn,Dn,0]},Ew=function(e,t,n){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*Dn+.5|0},ZP=function(e,t,n){var r=e?Wu(e)?[e>>16,e>>8&Dn,e&Dn]:0:r1.black,s,a,o,c,h,d,p,y,v,x;if(!r){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),r1[e])r=r1[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),a=e.charAt(2),o=e.charAt(3),e="#"+s+s+a+a+o+o+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return r=parseInt(e.substr(1,6),16),[r>>16,r>>8&Dn,r&Dn,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),r=[e>>16,e>>8&Dn,e&Dn]}else if(e.substr(0,3)==="hsl"){if(r=x=e.match(ux),!t)c=+r[0]%360/360,h=+r[1]/100,d=+r[2]/100,a=d<=.5?d*(h+1):d+h-d*h,s=d*2-a,r.length>3&&(r[3]*=1),r[0]=Ew(c+1/3,s,a),r[1]=Ew(c,s,a),r[2]=Ew(c-1/3,s,a);else if(~e.indexOf("="))return r=e.match(TP),n&&r.length<4&&(r[3]=1),r}else r=e.match(ux)||r1.transparent;r=r.map(Number)}return t&&!x&&(s=r[0]/Dn,a=r[1]/Dn,o=r[2]/Dn,p=Math.max(s,a,o),y=Math.min(s,a,o),d=(p+y)/2,p===y?c=h=0:(v=p-y,h=d>.5?v/(2-p-y):v/(p+y),c=p===s?(a-o)/v+(a<o?6:0):p===a?(o-s)/v+2:(s-a)/v+4,c*=60),r[0]=~~(c+.5),r[1]=~~(h*100+.5),r[2]=~~(d*100+.5)),n&&r.length<4&&(r[3]=1),r},eT=function(e){var t=[],n=[],r=-1;return e.split(Pd).forEach(function(s){var a=s.match(Gm)||[];t.push.apply(t,a),n.push(r+=a.length+1)}),t.c=n,t},ok=function(e,t,n){var r="",s=(e+r).match(Pd),a=t?"hsla(":"rgba(",o=0,c,h,d,p;if(!s)return e;if(s=s.map(function(y){return(y=ZP(y,t,1))&&a+(t?y[0]+","+y[1]+"%,"+y[2]+"%,"+y[3]:y.join(","))+")"}),n&&(d=eT(e),c=n.c,c.join(r)!==d.c.join(r)))for(h=e.replace(Pd,"1").split(Gm),p=h.length-1;o<p;o++)r+=h[o]+(~c.indexOf(o)?s.shift()||a+"0,0,0,0)":(d.length?d:s.length?s:n).shift());if(!h)for(h=e.split(Pd),p=h.length-1;o<p;o++)r+=h[o]+s[o];return r+h[p]},Pd=function(){var i="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in r1)i+="|"+e+"\\b";return new RegExp(i+")","gi")}(),wO=/hsl[a]?\(/,tT=function(e){var t=e.join(" "),n;if(Pd.lastIndex=0,Pd.test(t))return n=wO.test(t),e[1]=ok(e[1],n),e[0]=ok(e[0],n,eT(e[1])),!0},O1,Va=function(){var i=Date.now,e=500,t=33,n=i(),r=n,s=1e3/240,a=s,o=[],c,h,d,p,y,v,x=function w(C){var S=i()-r,P=C===!0,R,M,O,$;if((S>e||S<0)&&(n+=S-t),r+=S,O=r-n,R=O-a,(R>0||P)&&($=++p.frame,y=O-p.time*1e3,p.time=O=O/1e3,a+=R+(R>=s?4:s-R),M=1),P||(c=h(w)),M)for(v=0;v<o.length;v++)o[v](O,y,$,C)};return p={time:0,frame:0,tick:function(){x(!0)},deltaRatio:function(C){return y/(1e3/(C||60))},wake:function(){RP&&(!hx&&US()&&(Jl=hx=window,qS=Jl.document||{},Ja.gsap=ya,(Jl.gsapVersions||(Jl.gsapVersions=[])).push(ya.version),IP(vb||Jl.GreenSockGlobals||!Jl.gsap&&Jl||{}),JP.forEach(QP)),d=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&p.sleep(),h=d||function(C){return setTimeout(C,a-p.time*1e3+1|0)},O1=1,x(2))},sleep:function(){(d?cancelAnimationFrame:clearTimeout)(c),O1=0,h=I1},lagSmoothing:function(C,S){e=C||1/0,t=Math.min(S||33,e)},fps:function(C){s=1e3/(C||240),a=p.time*1e3+s},add:function(C,S,P){var R=S?function(M,O,$,U){C(M,O,$,U),p.remove(R)}:C;return p.remove(C),o[P?"unshift":"push"](R),d0(),R},remove:function(C,S){~(S=o.indexOf(C))&&o.splice(S,1)&&v>=S&&v--},_listeners:o},p}(),d0=function(){return!O1&&Va.wake()},on={},xO=/^[\d.\-M][\d.\-,\s]/,SO=/["']/g,AO=function(e){for(var t={},n=e.substr(1,e.length-3).split(":"),r=n[0],s=1,a=n.length,o,c,h;s<a;s++)c=n[s],o=s!==a-1?c.lastIndexOf(","):c.length,h=c.substr(0,o),t[r]=isNaN(h)?h.replace(SO,"").trim():+h,r=c.substr(o+1).trim();return t},CO=function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<n?e.indexOf(")",n+1):n)},kO=function(e){var t=(e+"").split("("),n=on[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[AO(t[1])]:CO(e).split(",").map(jP)):on._CE&&xO.test(e)?on._CE("",e):n},nT=function(e){return function(t){return 1-e(1-t)}},rT=function i(e,t){for(var n=e._first,r;n;)n instanceof Fs?i(n,t):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==t&&(n.timeline?i(n.timeline,t):(r=n._ease,n._ease=n._yEase,n._yEase=r,n._yoyo=t)),n=n._next},Fp=function(e,t){return e&&(Cr(e)?e:on[e]||kO(e))||t},Xp=function(e,t,n,r){n===void 0&&(n=function(c){return 1-t(1-c)}),r===void 0&&(r=function(c){return c<.5?t(c*2)/2:1-t((1-c)*2)/2});var s={easeIn:t,easeOut:n,easeInOut:r},a;return fa(e,function(o){on[o]=Ja[o]=s,on[a=o.toLowerCase()]=n;for(var c in s)on[a+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=on[o+"."+c]=s[c]}),s},iT=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},Pw=function i(e,t,n){var r=t>=1?t:1,s=(n||(e?.3:.45))/(t<1?t:1),a=s/cx*(Math.asin(1/r)||0),o=function(d){return d===1?1:r*Math.pow(2,-10*d)*eO((d-a)*s)+1},c=e==="out"?o:e==="in"?function(h){return 1-o(1-h)}:iT(o);return s=cx/s,c.config=function(h,d){return i(e,h,d)},c},Tw=function i(e,t){t===void 0&&(t=1.70158);var n=function(a){return a?--a*a*((t+1)*a+t)+1:0},r=e==="out"?n:e==="in"?function(s){return 1-n(1-s)}:iT(n);return r.config=function(s){return i(e,s)},r};fa("Linear,Quad,Cubic,Quart,Quint,Strong",function(i,e){var t=e<5?e+1:e;Xp(i+",Power"+(t-1),e?function(n){return Math.pow(n,t)}:function(n){return n},function(n){return 1-Math.pow(1-n,t)},function(n){return n<.5?Math.pow(n*2,t)/2:1-Math.pow((1-n)*2,t)/2})});on.Linear.easeNone=on.none=on.Linear.easeIn;Xp("Elastic",Pw("in"),Pw("out"),Pw());(function(i,e){var t=1/e,n=2*t,r=2.5*t,s=function(o){return o<t?i*o*o:o<n?i*Math.pow(o-1.5/e,2)+.75:o<r?i*(o-=2.25/e)*o+.9375:i*Math.pow(o-2.625/e,2)+.984375};Xp("Bounce",function(a){return 1-s(1-a)},s)})(7.5625,2.75);Xp("Expo",function(i){return Math.pow(2,10*(i-1))*i+i*i*i*i*i*i*(1-i)});Xp("Circ",function(i){return-(EP(1-i*i)-1)});Xp("Sine",function(i){return i===1?1:-ZM(i*JM)+1});Xp("Back",Tw("in"),Tw("out"),Tw());on.SteppedEase=on.steps=Ja.SteppedEase={config:function(e,t){e===void 0&&(e=1);var n=1/e,r=e+(t?0:1),s=t?1:0,a=1-ps;return function(o){return((r*cv(0,a,o)|0)+s)*n}}};l0.ease=on["quad.out"];fa("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(i){return VS+=i+","+i+"Params,"});var sT=function(e,t){this.id=QM++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:FP,this.set=t?t.getSetter:KS},F1=function(){function i(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,h0(this,+t.duration,1,1),this.data=t.data,sr&&(this._ctx=sr,sr.data.push(this)),O1||Va.wake()}var e=i.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,h0(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,r){if(d0(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(s_(this,n),!s._dp||s.parent||UP(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&gc(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===ps||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),DP(this,n,r)),this},e.time=function(n,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+ik(this))%(this._dur+this._rDelay)||(n?this._dur:0),r):this._time},e.totalProgress=function(n,r){return arguments.length?this.totalTime(this.totalDuration()*n,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(n,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+ik(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,r){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*s,r):this._repeat?u0(this._tTime,s)+1:1},e.timeScale=function(n,r){if(!arguments.length)return this._rts===-1e-8?0:this._rts;if(this._rts===n)return this;var s=this.parent&&this._ts?wb(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-1e-8?0:this._rts,this.totalTime(cv(-Math.abs(this._delay),this._tDur,s),r!==!1),i_(this),oO(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(d0(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==ps&&(this._tTime-=ps)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&gc(r,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(da(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var r=this.parent||this._dp;return r?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?wb(r.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=rO);var r=ji;return ji=n,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),ji=r,this},e.globalTime=function(n){for(var r=this,s=arguments.length?n:r.rawTime();r;)s=r._start+s/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(n):s},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,sk(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var r=this._time;return this._rDelay=n,sk(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,r){return this.totalTime(vo(this,n),da(r))},e.restart=function(n,r){return this.play().totalTime(n?-this._delay:0,da(r)),this._dur||(this._zTime=-1e-8),this},e.play=function(n,r){return n!=null&&this.seek(n,r),this.reversed(!1).paused(!1)},e.reverse=function(n,r){return n!=null&&this.seek(n||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(n,r){return n!=null&&this.seek(n,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var n=this.parent||this._dp,r=this._start,s;return!!(!n||this._ts&&this._initted&&n.isActive()&&(s=n.rawTime(!0))>=r&&s<this.endTime(!0)-ps)},e.eventCallback=function(n,r,s){var a=this.vars;return arguments.length>1?(r?(a[n]=r,s&&(a[n+"Params"]=s),n==="onUpdate"&&(this._onUpdate=r)):delete a[n],this):a[n]},e.then=function(n){var r=this;return new Promise(function(s){var a=Cr(n)?n:BP,o=function(){var h=r.then;r.then=null,Cr(a)&&(a=a(r))&&(a.then||a===r)&&(r.then=h),s(a),r.then=h};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?o():r._prom=o})},e.kill=function(){n1(this)},i}();Qa(F1.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Fs=function(i){kP(e,i);function e(n,r){var s;return n===void 0&&(n={}),s=i.call(this,n)||this,s.labels={},s.smoothChildTiming=!!n.smoothChildTiming,s.autoRemoveChildren=!!n.autoRemoveChildren,s._sort=da(n.sortChildren),pr&&gc(n.parent||pr,du(s),r),n.reversed&&s.reverse(),n.paused&&s.paused(!0),n.scrollTrigger&&qP(du(s),n.scrollTrigger),s}var t=e.prototype;return t.to=function(r,s,a){return x1(0,arguments,this),this},t.from=function(r,s,a){return x1(1,arguments,this),this},t.fromTo=function(r,s,a,o){return x1(2,arguments,this),this},t.set=function(r,s,a){return s.duration=0,s.parent=this,w1(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new $r(r,s,vo(this,a),1),this},t.call=function(r,s,a){return gc(this,$r.delayedCall(0,r,s),a)},t.staggerTo=function(r,s,a,o,c,h,d){return a.duration=s,a.stagger=a.stagger||o,a.onComplete=h,a.onCompleteParams=d,a.parent=this,new $r(r,a,vo(this,c)),this},t.staggerFrom=function(r,s,a,o,c,h,d){return a.runBackwards=1,w1(a).immediateRender=da(a.immediateRender),this.staggerTo(r,s,a,o,c,h,d)},t.staggerFromTo=function(r,s,a,o,c,h,d,p){return o.startAt=a,w1(o).immediateRender=da(o.immediateRender),this.staggerTo(r,s,o,c,h,d,p)},t.render=function(r,s,a){var o=this._time,c=this._dirty?this.totalDuration():this._tDur,h=this._dur,d=r<=0?0:Vr(r),p=this._zTime<0!=r<0&&(this._initted||!h),y,v,x,w,C,S,P,R,M,O,$,U;if(this!==pr&&d>c&&r>=0&&(d=c),d!==this._tTime||a||p){if(o!==this._time&&h&&(d+=this._time-o,r+=this._time-o),y=d,M=this._start,R=this._ts,S=!R,p&&(h||(o=this._zTime),(r||!s)&&(this._zTime=r)),this._repeat){if($=this._yoyo,C=h+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(C*100+r,s,a);if(y=Vr(d%C),d===c?(w=this._repeat,y=h):(O=Vr(d/C),w=~~O,w&&w===O&&(y=h,w--),y>h&&(y=h)),O=u0(this._tTime,C),!o&&this._tTime&&O!==w&&this._tTime-O*C-this._dur<=0&&(O=w),$&&w&1&&(y=h-y,U=1),w!==O&&!this._lock){var D=$&&O&1,Q=D===($&&w&1);if(w<O&&(D=!D),o=D?0:d%h?h:d,this._lock=1,this.render(o||(U?0:Vr(w*C)),s,!h)._lock=0,this._tTime=d,!s&&this.parent&&Wa(this,"onRepeat"),this.vars.repeatRefresh&&!U&&(this.invalidate()._lock=1),o&&o!==this._time||S!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(h=this._dur,c=this._tDur,Q&&(this._lock=2,o=D?h:-1e-4,this.render(o,!0),this.vars.repeatRefresh&&!U&&this.invalidate()),this._lock=0,!this._ts&&!S)return this;rT(this,U)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(P=hO(this,Vr(o),Vr(y)),P&&(d-=y-(y=P._start))),this._tTime=d,this._time=y,this._act=!R,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,o=0),!o&&y&&!s&&!w&&(Wa(this,"onStart"),this._tTime!==d))return this;if(y>=o&&r>=0)for(v=this._first;v;){if(x=v._next,(v._act||y>=v._start)&&v._ts&&P!==v){if(v.parent!==this)return this.render(r,s,a);if(v.render(v._ts>0?(y-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(y-v._start)*v._ts,s,a),y!==this._time||!this._ts&&!S){P=0,x&&(d+=this._zTime=-1e-8);break}}v=x}else{v=this._last;for(var ue=r<0?r:y;v;){if(x=v._prev,(v._act||ue<=v._end)&&v._ts&&P!==v){if(v.parent!==this)return this.render(r,s,a);if(v.render(v._ts>0?(ue-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(ue-v._start)*v._ts,s,a||ji&&(v._initted||v._startAt)),y!==this._time||!this._ts&&!S){P=0,x&&(d+=this._zTime=ue?-1e-8:ps);break}}v=x}}if(P&&!s&&(this.pause(),P.render(y>=o?0:-1e-8)._zTime=y>=o?1:-1,this._ts))return this._start=M,i_(this),this.render(r,s,a);this._onUpdate&&!s&&Wa(this,"onUpdate",!0),(d===c&&this._tTime>=this.totalDuration()||!d&&o)&&(M===this._start||Math.abs(R)!==Math.abs(this._ts))&&(this._lock||((r||!h)&&(d===c&&this._ts>0||!d&&this._ts<0)&&Ld(this,1),!s&&!(r<0&&!o)&&(d||o||!c)&&(Wa(this,d===c&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(d<c&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,s){var a=this;if(Wu(s)||(s=vo(this,s,r)),!(r instanceof F1)){if(gs(r))return r.forEach(function(o){return a.add(o,s)}),this;if(Ci(r))return this.addLabel(r,s);if(Cr(r))r=$r.delayedCall(0,r);else return this}return this!==r?gc(this,r,s):this},t.getChildren=function(r,s,a,o){r===void 0&&(r=!0),s===void 0&&(s=!0),a===void 0&&(a=!0),o===void 0&&(o=-1e8);for(var c=[],h=this._first;h;)h._start>=o&&(h instanceof $r?s&&c.push(h):(a&&c.push(h),r&&c.push.apply(c,h.getChildren(!0,s,a)))),h=h._next;return c},t.getById=function(r){for(var s=this.getChildren(1,1,1),a=s.length;a--;)if(s[a].vars.id===r)return s[a]},t.remove=function(r){return Ci(r)?this.removeLabel(r):Cr(r)?this.killTweensOf(r):(r.parent===this&&r_(this,r),r===this._recent&&(this._recent=this._last),Op(this))},t.totalTime=function(r,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Vr(Va.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),i.prototype.totalTime.call(this,r,s),this._forcing=0,this):this._tTime},t.addLabel=function(r,s){return this.labels[r]=vo(this,s),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,s,a){var o=$r.delayedCall(0,s||I1,a);return o.data="isPause",this._hasPause=1,gc(this,o,vo(this,r))},t.removePause=function(r){var s=this._first;for(r=vo(this,r);s;)s._start===r&&s.data==="isPause"&&Ld(s),s=s._next},t.killTweensOf=function(r,s,a){for(var o=this.getTweensOf(r,a),c=o.length;c--;)xd!==o[c]&&o[c].kill(r,s);return this},t.getTweensOf=function(r,s){for(var a=[],o=Eo(r),c=this._first,h=Wu(s),d;c;)c instanceof $r?iO(c._targets,o)&&(h?(!xd||c._initted&&c._ts)&&c.globalTime(0)<=s&&c.globalTime(c.totalDuration())>s:!s||c.isActive())&&a.push(c):(d=c.getTweensOf(o,s)).length&&a.push.apply(a,d),c=c._next;return a},t.tweenTo=function(r,s){s=s||{};var a=this,o=vo(a,r),c=s,h=c.startAt,d=c.onStart,p=c.onStartParams,y=c.immediateRender,v,x=$r.to(a,Qa({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:s.duration||Math.abs((o-(h&&"time"in h?h.time:a._time))/a.timeScale())||ps,onStart:function(){if(a.pause(),!v){var C=s.duration||Math.abs((o-(h&&"time"in h?h.time:a._time))/a.timeScale());x._dur!==C&&h0(x,C,0,1).render(x._time,!0,!0),v=1}d&&d.apply(x,p||[])}},s));return y?x.render(0):x},t.tweenFromTo=function(r,s,a){return this.tweenTo(s,Qa({startAt:{time:vo(this,r)}},a))},t.recent=function(){return this._recent},t.nextLabel=function(r){return r===void 0&&(r=this._time),ak(this,vo(this,r))},t.previousLabel=function(r){return r===void 0&&(r=this._time),ak(this,vo(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+ps)},t.shiftChildren=function(r,s,a){a===void 0&&(a=0);for(var o=this._first,c=this.labels,h;o;)o._start>=a&&(o._start+=r,o._end+=r),o=o._next;if(s)for(h in c)c[h]>=a&&(c[h]+=r);return Op(this)},t.invalidate=function(r){var s=this._first;for(this._lock=0;s;)s.invalidate(r),s=s._next;return i.prototype.invalidate.call(this,r)},t.clear=function(r){r===void 0&&(r=!0);for(var s=this._first,a;s;)a=s._next,this.remove(s),s=a;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),Op(this)},t.totalDuration=function(r){var s=0,a=this,o=a._last,c=_c,h,d,p;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-r:r));if(a._dirty){for(p=a.parent;o;)h=o._prev,o._dirty&&o.totalDuration(),d=o._start,d>c&&a._sort&&o._ts&&!a._lock?(a._lock=1,gc(a,o,d-o._delay,1)._lock=0):c=d,d<0&&o._ts&&(s-=d,(!p&&!a._dp||p&&p.smoothChildTiming)&&(a._start+=d/a._ts,a._time-=d,a._tTime-=d),a.shiftChildren(-d,!1,-1/0),c=0),o._end>s&&o._ts&&(s=o._end),o=h;h0(a,a===pr&&a._time>s?a._time:s,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(r){if(pr._ts&&(DP(pr,wb(r,pr)),OP=Va.frame),Va.frame>=nk){nk+=Ya.autoSleep||120;var s=pr._first;if((!s||!s._ts)&&Ya.autoSleep&&Va._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Va.sleep()}}},e}(F1);Qa(Fs.prototype,{_lock:0,_hasPause:0,_forcing:0});var EO=function(e,t,n,r,s,a,o){var c=new pa(this._pt,e,t,0,1,hT,null,s),h=0,d=0,p,y,v,x,w,C,S,P;for(c.b=n,c.e=r,n+="",r+="",(S=~r.indexOf("random("))&&(r=M1(r)),a&&(P=[n,r],a(P,e,t),n=P[0],r=P[1]),y=n.match(Cw)||[];p=Cw.exec(r);)x=p[0],w=r.substring(h,p.index),v?v=(v+1)%5:w.substr(-5)==="rgba("&&(v=1),x!==y[d++]&&(C=parseFloat(y[d-1])||0,c._pt={_next:c._pt,p:w||d===1?w:",",s:C,c:x.charAt(1)==="="?Jm(C,x)-C:parseFloat(x)-C,m:v&&v<4?Math.round:0},h=Cw.lastIndex);return c.c=h<r.length?r.substring(h,r.length):"",c.fp=o,(LP.test(r)||S)&&(c.e=0),this._pt=c,c},GS=function(e,t,n,r,s,a,o,c,h,d){Cr(r)&&(r=r(s||0,e,a));var p=e[t],y=n!=="get"?n:Cr(p)?h?e[t.indexOf("set")||!Cr(e["get"+t.substr(3)])?t:"get"+t.substr(3)](h):e[t]():p,v=Cr(p)?h?RO:cT:XS,x;if(Ci(r)&&(~r.indexOf("random(")&&(r=M1(r)),r.charAt(1)==="="&&(x=Jm(y,r)+(us(y)||0),(x||x===0)&&(r=x))),!d||y!==r||vx)return!isNaN(y*r)&&r!==""?(x=new pa(this._pt,e,t,+y||0,r-(y||0),typeof p=="boolean"?MO:uT,0,v),h&&(x.fp=h),o&&x.modifier(o,this,e),this._pt=x):(!p&&!(t in e)&&HS(t,r),EO.call(this,e,t,y,r,v,c||Ya.stringFilter,h))},PO=function(e,t,n,r,s){if(Cr(e)&&(e=S1(e,s,t,n,r)),!Ac(e)||e.style&&e.nodeType||gs(e)||PP(e))return Ci(e)?S1(e,s,t,n,r):e;var a={},o;for(o in e)a[o]=S1(e[o],s,t,n,r);return a},aT=function(e,t,n,r,s,a){var o,c,h,d;if(Ha[e]&&(o=new Ha[e]).init(s,o.rawVars?t[e]:PO(t[e],r,s,a,n),n,r,a)!==!1&&(n._pt=c=new pa(n._pt,s,e,0,1,o.render,o,0,o.priority),n!==Ym))for(h=n._ptLookup[n._targets.indexOf(s)],d=o._props.length;d--;)h[o._props[d]]=c;return o},xd,vx,YS=function i(e,t,n){var r=e.vars,s=r.ease,a=r.startAt,o=r.immediateRender,c=r.lazy,h=r.onUpdate,d=r.runBackwards,p=r.yoyoEase,y=r.keyframes,v=r.autoRevert,x=e._dur,w=e._startAt,C=e._targets,S=e.parent,P=S&&S.data==="nested"?S.vars.targets:C,R=e._overwrite==="auto"&&!BS,M=e.timeline,O,$,U,D,Q,ue,j,V,ee,re,pe,fe,he;if(M&&(!y||!s)&&(s="none"),e._ease=Fp(s,l0.ease),e._yEase=p?nT(Fp(p===!0?s:p,l0.ease)):0,p&&e._yoyo&&!e._repeat&&(p=e._yEase,e._yEase=e._ease,e._ease=p),e._from=!M&&!!r.runBackwards,!M||y&&!r.stagger){if(V=C[0]?Mp(C[0]).harness:0,fe=V&&r[V.prop],O=_b(r,$S),w&&(w._zTime<0&&w.progress(1),t<0&&d&&o&&!v?w.render(-1,!0):w.revert(d&&x?y2:nO),w._lazy=0),a){if(Ld(e._startAt=$r.set(C,Qa({data:"isStart",overwrite:!1,parent:S,immediateRender:!0,lazy:!w&&da(c),startAt:null,delay:0,onUpdate:h&&function(){return Wa(e,"onUpdate")},stagger:0},a))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(ji||!o&&!v)&&e._startAt.revert(y2),o&&x&&t<=0&&n<=0){t&&(e._zTime=t);return}}else if(d&&x&&!w){if(t&&(o=!1),U=Qa({overwrite:!1,data:"isFromStart",lazy:o&&!w&&da(c),immediateRender:o,stagger:0,parent:S},O),fe&&(U[V.prop]=fe),Ld(e._startAt=$r.set(C,U)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(ji?e._startAt.revert(y2):e._startAt.render(-1,!0)),e._zTime=t,!o)i(e._startAt,ps,ps);else if(!t)return}for(e._pt=e._ptCache=0,c=x&&da(c)||c&&!x,$=0;$<C.length;$++){if(Q=C[$],j=Q._gsap||WS(C)[$]._gsap,e._ptLookup[$]=re={},dx[j.id]&&Ed.length&&bb(),pe=P===C?$:P.indexOf(Q),V&&(ee=new V).init(Q,fe||O,e,pe,P)!==!1&&(e._pt=D=new pa(e._pt,Q,ee.name,0,1,ee.render,ee,0,ee.priority),ee._props.forEach(function(ne){re[ne]=D}),ee.priority&&(ue=1)),!V||fe)for(U in O)Ha[U]&&(ee=aT(U,O,e,pe,Q,P))?ee.priority&&(ue=1):re[U]=D=GS.call(e,Q,U,"get",O[U],pe,P,0,r.stringFilter);e._op&&e._op[$]&&e.kill(Q,e._op[$]),R&&e._pt&&(xd=e,pr.killTweensOf(Q,re,e.globalTime(t)),he=!e.parent,xd=0),e._pt&&c&&(dx[j.id]=1)}ue&&dT(e),e._onInit&&e._onInit(e)}e._onUpdate=h,e._initted=(!e._op||e._pt)&&!he,y&&t<=0&&M.render(_c,!0,!0)},TO=function(e,t,n,r,s,a,o,c){var h=(e._pt&&e._ptCache||(e._ptCache={}))[t],d,p,y,v;if(!h)for(h=e._ptCache[t]=[],y=e._ptLookup,v=e._targets.length;v--;){if(d=y[v][t],d&&d.d&&d.d._pt)for(d=d.d._pt;d&&d.p!==t&&d.fp!==t;)d=d._next;if(!d)return vx=1,e.vars[t]="+=0",YS(e,o),vx=0,c?R1(t+" not eligible for reset"):1;h.push(d)}for(v=h.length;v--;)p=h[v],d=p._pt||p,d.s=(r||r===0)&&!s?r:d.s+(r||0)+a*d.c,d.c=n-d.s,p.e&&(p.e=Rr(n)+us(p.e)),p.b&&(p.b=d.s+us(p.b))},LO=function(e,t){var n=e[0]?Mp(e[0]).harness:0,r=n&&n.aliases,s,a,o,c;if(!r)return t;s=c0({},t);for(a in r)if(a in s)for(c=r[a].split(","),o=c.length;o--;)s[c[o]]=s[a];return s},NO=function(e,t,n,r){var s=t.ease||r||"power1.inOut",a,o;if(gs(t))o=n[e]||(n[e]=[]),t.forEach(function(c,h){return o.push({t:h/(t.length-1)*100,v:c,e:s})});else for(a in t)o=n[a]||(n[a]=[]),a==="ease"||o.push({t:parseFloat(e),v:t[a],e:s})},S1=function(e,t,n,r,s){return Cr(e)?e.call(t,n,r,s):Ci(e)&&~e.indexOf("random(")?M1(e):e},oT=VS+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",lT={};fa(oT+",id,stagger,delay,duration,paused,scrollTrigger",function(i){return lT[i]=1});var $r=function(i){kP(e,i);function e(n,r,s,a){var o;typeof r=="number"&&(s.duration=r,r=s,s=null),o=i.call(this,a?r:w1(r))||this;var c=o.vars,h=c.duration,d=c.delay,p=c.immediateRender,y=c.stagger,v=c.overwrite,x=c.keyframes,w=c.defaults,C=c.scrollTrigger,S=c.yoyoEase,P=r.parent||pr,R=(gs(n)||PP(n)?Wu(n[0]):"length"in r)?[n]:Eo(n),M,O,$,U,D,Q,ue,j;if(o._targets=R.length?WS(R):R1("GSAP target "+n+" not found. https://gsap.com",!Ya.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=v,x||y||e2(h)||e2(d)){if(r=o.vars,M=o.timeline=new Fs({data:"nested",defaults:w||{},targets:P&&P.data==="nested"?P.vars.targets:R}),M.kill(),M.parent=M._dp=du(o),M._start=0,y||e2(h)||e2(d)){if(U=R.length,ue=y&&WP(y),Ac(y))for(D in y)~oT.indexOf(D)&&(j||(j={}),j[D]=y[D]);for(O=0;O<U;O++)$=_b(r,lT),$.stagger=0,S&&($.yoyoEase=S),j&&c0($,j),Q=R[O],$.duration=+S1(h,du(o),O,Q,R),$.delay=(+S1(d,du(o),O,Q,R)||0)-o._delay,!y&&U===1&&$.delay&&(o._delay=d=$.delay,o._start+=d,$.delay=0),M.to(Q,$,ue?ue(O,Q,R):0),M._ease=on.none;M.duration()?h=d=0:o.timeline=0}else if(x){w1(Qa(M.vars.defaults,{ease:"none"})),M._ease=Fp(x.ease||r.ease||"none");var V=0,ee,re,pe;if(gs(x))x.forEach(function(fe){return M.to(R,fe,">")}),M.duration();else{$={};for(D in x)D==="ease"||D==="easeEach"||NO(D,x[D],$,x.easeEach);for(D in $)for(ee=$[D].sort(function(fe,he){return fe.t-he.t}),V=0,O=0;O<ee.length;O++)re=ee[O],pe={ease:re.e,duration:(re.t-(O?ee[O-1].t:0))/100*h},pe[D]=re.v,M.to(R,pe,V),V+=pe.duration;M.duration()<h&&M.to({},{duration:h-M.duration()})}}h||o.duration(h=M.duration())}else o.timeline=0;return v===!0&&!BS&&(xd=du(o),pr.killTweensOf(R),xd=0),gc(P,du(o),s),r.reversed&&o.reverse(),r.paused&&o.paused(!0),(p||!h&&!x&&o._start===Vr(P._time)&&da(p)&&lO(du(o))&&P.data!=="nested")&&(o._tTime=-1e-8,o.render(Math.max(0,-d)||0)),C&&qP(du(o),C),o}var t=e.prototype;return t.render=function(r,s,a){var o=this._time,c=this._tDur,h=this._dur,d=r<0,p=r>c-ps&&!d?c:r<ps?0:r,y,v,x,w,C,S,P,R,M;if(!h)uO(this,r,s,a);else if(p!==this._tTime||!r||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==d||this._lazy){if(y=p,R=this.timeline,this._repeat){if(w=h+this._rDelay,this._repeat<-1&&d)return this.totalTime(w*100+r,s,a);if(y=Vr(p%w),p===c?(x=this._repeat,y=h):(C=Vr(p/w),x=~~C,x&&x===C?(y=h,x--):y>h&&(y=h)),S=this._yoyo&&x&1,S&&(M=this._yEase,y=h-y),C=u0(this._tTime,w),y===o&&!a&&this._initted&&x===C)return this._tTime=p,this;x!==C&&(R&&this._yEase&&rT(R,S),this.vars.repeatRefresh&&!S&&!this._lock&&y!==w&&this._initted&&(this._lock=a=1,this.render(Vr(w*x),!0).invalidate()._lock=0))}if(!this._initted){if(HP(this,d?r:y,a,s,p))return this._tTime=0,this;if(o!==this._time&&!(a&&this.vars.repeatRefresh&&x!==C))return this;if(h!==this._dur)return this.render(r,s,a)}if(this._tTime=p,this._time=y,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=P=(M||this._ease)(y/h),this._from&&(this.ratio=P=1-P),y&&!o&&!s&&!x&&(Wa(this,"onStart"),this._tTime!==p))return this;for(v=this._pt;v;)v.r(P,v.d),v=v._next;R&&R.render(r<0?r:R._dur*R._ease(y/this._dur),s,a)||this._startAt&&(this._zTime=r),this._onUpdate&&!s&&(d&&fx(this,r,s,a),Wa(this,"onUpdate")),this._repeat&&x!==C&&this.vars.onRepeat&&!s&&this.parent&&Wa(this,"onRepeat"),(p===this._tDur||!p)&&this._tTime===p&&(d&&!this._onUpdate&&fx(this,r,!0,!0),(r||!h)&&(p===this._tDur&&this._ts>0||!p&&this._ts<0)&&Ld(this,1),!s&&!(d&&!o)&&(p||o||S)&&(Wa(this,p===c?"onComplete":"onReverseComplete",!0),this._prom&&!(p<c&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),i.prototype.invalidate.call(this,r)},t.resetTo=function(r,s,a,o,c){O1||Va.wake(),this._ts||this.play();var h=Math.min(this._dur,(this._dp._time-this._start)*this._ts),d;return this._initted||YS(this,h),d=this._ease(h/this._dur),TO(this,r,s,a,o,d,h,c)?this.resetTo(r,s,a,o,1):(s_(this,0),this.parent||zP(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,s){if(s===void 0&&(s="all"),!r&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?n1(this):this.scrollTrigger&&this.scrollTrigger.kill(!!ji),this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(r,s,xd&&xd.vars.overwrite!==!0)._first||n1(this),this.parent&&a!==this.timeline.totalDuration()&&h0(this,this._dur*this.timeline._tDur/a,0,1),this}var o=this._targets,c=r?Eo(r):o,h=this._ptLookup,d=this._pt,p,y,v,x,w,C,S;if((!s||s==="all")&&aO(o,c))return s==="all"&&(this._pt=0),n1(this);for(p=this._op=this._op||[],s!=="all"&&(Ci(s)&&(w={},fa(s,function(P){return w[P]=1}),s=w),s=LO(o,s)),S=o.length;S--;)if(~c.indexOf(o[S])){y=h[S],s==="all"?(p[S]=s,x=y,v={}):(v=p[S]=p[S]||{},x=s);for(w in x)C=y&&y[w],C&&((!("kill"in C.d)||C.d.kill(w)===!0)&&r_(this,C,"_pt"),delete y[w]),v!=="all"&&(v[w]=1)}return this._initted&&!this._pt&&d&&n1(this),this},e.to=function(r,s){return new e(r,s,arguments[2])},e.from=function(r,s){return x1(1,arguments)},e.delayedCall=function(r,s,a,o){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:s,onReverseComplete:s,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:o})},e.fromTo=function(r,s,a){return x1(2,arguments)},e.set=function(r,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(r,s)},e.killTweensOf=function(r,s,a){return pr.killTweensOf(r,s,a)},e}(F1);Qa($r.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});fa("staggerTo,staggerFrom,staggerFromTo",function(i){$r[i]=function(){var e=new Fs,t=mx.call(arguments,0);return t.splice(i==="staggerFromTo"?5:4,0,0),e[i].apply(e,t)}});var XS=function(e,t,n){return e[t]=n},cT=function(e,t,n){return e[t](n)},RO=function(e,t,n,r){return e[t](r.fp,n)},IO=function(e,t,n){return e.setAttribute(t,n)},KS=function(e,t){return Cr(e[t])?cT:zS(e[t])&&e.setAttribute?IO:XS},uT=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},MO=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},hT=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(e===1&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},JS=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},OO=function(e,t,n,r){for(var s=this._pt,a;s;)a=s._next,s.p===r&&s.modifier(e,t,n),s=a},FO=function(e){for(var t=this._pt,n,r;t;)r=t._next,t.p===e&&!t.op||t.op===e?r_(this,t,"_pt"):t.dep||(n=1),t=r;return!n},DO=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},dT=function(e){for(var t=e._pt,n,r,s,a;t;){for(n=t._next,r=s;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:a)?t._prev._next=t:s=t,(t._next=r)?r._prev=t:a=t,t=n}e._pt=s},pa=function(){function i(t,n,r,s,a,o,c,h,d){this.t=n,this.s=s,this.c=a,this.p=r,this.r=o||uT,this.d=c||this,this.set=h||XS,this.pr=d||0,this._next=t,t&&(t._prev=this)}var e=i.prototype;return e.modifier=function(n,r,s){this.mSet=this.mSet||this.set,this.set=DO,this.m=n,this.mt=s,this.tween=r},i}();fa(VS+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(i){return $S[i]=1});Ja.TweenMax=Ja.TweenLite=$r;Ja.TimelineLite=Ja.TimelineMax=Fs;pr=new Fs({sortChildren:!1,defaults:l0,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Ya.stringFilter=tT;var Dp=[],b2={},jO=[],lk=0,BO=0,Lw=function(e){return(b2[e]||jO).map(function(t){return t()})},bx=function(){var e=Date.now(),t=[];e-lk>2&&(Lw("matchMediaInit"),Dp.forEach(function(n){var r=n.queries,s=n.conditions,a,o,c,h;for(o in r)a=Jl.matchMedia(r[o]).matches,a&&(c=1),a!==s[o]&&(s[o]=a,h=1);h&&(n.revert(),c&&t.push(n))}),Lw("matchMediaRevert"),t.forEach(function(n){return n.onMatch(n,function(r){return n.add(null,r)})}),lk=e,Lw("matchMedia"))},fT=function(){function i(t,n){this.selector=n&&gx(n),this.data=[],this._r=[],this.isReverted=!1,this.id=BO++,t&&this.add(t)}var e=i.prototype;return e.add=function(n,r,s){Cr(n)&&(s=r,r=n,n=Cr);var a=this,o=function(){var h=sr,d=a.selector,p;return h&&h!==a&&h.data.push(a),s&&(a.selector=gx(s)),sr=a,p=r.apply(a,arguments),Cr(p)&&a._r.push(p),sr=h,a.selector=d,a.isReverted=!1,p};return a.last=o,n===Cr?o(a,function(c){return a.add(null,c)}):n?a[n]=o:o},e.ignore=function(n){var r=sr;sr=null,n(this),sr=r},e.getTweens=function(){var n=[];return this.data.forEach(function(r){return r instanceof i?n.push.apply(n,r.getTweens()):r instanceof $r&&!(r.parent&&r.parent.data==="nested")&&n.push(r)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,r){var s=this;if(n?function(){for(var o=s.getTweens(),c=s.data.length,h;c--;)h=s.data[c],h.data==="isFlip"&&(h.revert(),h.getChildren(!0,!0,!1).forEach(function(d){return o.splice(o.indexOf(d),1)}));for(o.map(function(d){return{g:d._dur||d._delay||d._sat&&!d._sat.vars.immediateRender?d.globalTime(0):-1/0,t:d}}).sort(function(d,p){return p.g-d.g||-1/0}).forEach(function(d){return d.t.revert(n)}),c=s.data.length;c--;)h=s.data[c],h instanceof Fs?h.data!=="nested"&&(h.scrollTrigger&&h.scrollTrigger.revert(),h.kill()):!(h instanceof $r)&&h.revert&&h.revert(n);s._r.forEach(function(d){return d(n,s)}),s.isReverted=!0}():this.data.forEach(function(o){return o.kill&&o.kill()}),this.clear(),r)for(var a=Dp.length;a--;)Dp[a].id===this.id&&Dp.splice(a,1)},e.revert=function(n){this.kill(n||{})},i}(),zO=function(){function i(t){this.contexts=[],this.scope=t,sr&&sr.data.push(this)}var e=i.prototype;return e.add=function(n,r,s){Ac(n)||(n={matches:n});var a=new fT(0,s||this.scope),o=a.conditions={},c,h,d;sr&&!a.selector&&(a.selector=sr.selector),this.contexts.push(a),r=a.add("onMatch",r),a.queries=n;for(h in n)h==="all"?d=1:(c=Jl.matchMedia(n[h]),c&&(Dp.indexOf(a)<0&&Dp.push(a),(o[h]=c.matches)&&(d=1),c.addListener?c.addListener(bx):c.addEventListener("change",bx)));return d&&r(a,function(p){return a.add(null,p)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(r){return r.kill(n,!0)})},i}(),xb={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(r){return QP(r)})},timeline:function(e){return new Fs(e)},getTweensOf:function(e,t){return pr.getTweensOf(e,t)},getProperty:function(e,t,n,r){Ci(e)&&(e=Eo(e)[0]);var s=Mp(e||{}).get,a=n?BP:jP;return n==="native"&&(n=""),e&&(t?a((Ha[t]&&Ha[t].get||s)(e,t,n,r)):function(o,c,h){return a((Ha[o]&&Ha[o].get||s)(e,o,c,h))})},quickSetter:function(e,t,n){if(e=Eo(e),e.length>1){var r=e.map(function(d){return ya.quickSetter(d,t,n)}),s=r.length;return function(d){for(var p=s;p--;)r[p](d)}}e=e[0]||{};var a=Ha[t],o=Mp(e),c=o.harness&&(o.harness.aliases||{})[t]||t,h=a?function(d){var p=new a;Ym._pt=0,p.init(e,n?d+n:d,Ym,0,[e]),p.render(1,p),Ym._pt&&JS(1,Ym)}:o.set(e,c);return a?h:function(d){return h(e,c,n?d+n:d,o,1)}},quickTo:function(e,t,n){var r,s=ya.to(e,Qa((r={},r[t]="+=0.1",r.paused=!0,r.stagger=0,r),n||{})),a=function(c,h,d){return s.resetTo(t,c,h,d)};return a.tween=s,a},isTweening:function(e){return pr.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Fp(e.ease,l0.ease)),rk(l0,e||{})},config:function(e){return rk(Ya,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,s=e.defaults,a=e.extendTimeline;(r||"").split(",").forEach(function(o){return o&&!Ha[o]&&!Ja[o]&&R1(t+" effect requires "+o+" plugin.")}),kw[t]=function(o,c,h){return n(Eo(o),Qa(c||{},s),h)},a&&(Fs.prototype[t]=function(o,c,h){return this.add(kw[t](o,Ac(c)?c:(h=c)&&{},this),h)})},registerEase:function(e,t){on[e]=Fp(t)},parseEase:function(e,t){return arguments.length?Fp(e,t):on},getById:function(e){return pr.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var n=new Fs(e),r,s;for(n.smoothChildTiming=da(e.smoothChildTiming),pr.remove(n),n._dp=0,n._time=n._tTime=pr._time,r=pr._first;r;)s=r._next,(t||!(!r._dur&&r instanceof $r&&r.vars.onComplete===r._targets[0]))&&gc(n,r,r._start-r._delay),r=s;return gc(pr,n,0),n},context:function(e,t){return e?new fT(e,t):sr},matchMedia:function(e){return new zO(e)},matchMediaRefresh:function(){return Dp.forEach(function(e){var t=e.conditions,n,r;for(r in t)t[r]&&(t[r]=!1,n=1);n&&e.revert()})||bx()},addEventListener:function(e,t){var n=b2[e]||(b2[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=b2[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:vO,wrapYoyo:bO,distribute:WP,random:YP,snap:GP,normalize:yO,getUnit:us,clamp:fO,splitColor:ZP,toArray:Eo,selector:gx,mapRange:KP,pipe:mO,unitize:gO,interpolate:_O,shuffle:VP},install:IP,effects:kw,ticker:Va,updateRoot:Fs.updateRoot,plugins:Ha,globalTimeline:pr,core:{PropTween:pa,globals:MP,Tween:$r,Timeline:Fs,Animation:F1,getCache:Mp,_removeLinkedListItem:r_,reverting:function(){return ji},context:function(e){return e&&sr&&(sr.data.push(e),e._ctx=sr),sr},suppressOverwrites:function(e){return BS=e}}};fa("to,from,fromTo,delayedCall,set,killTweensOf",function(i){return xb[i]=$r[i]});Va.add(Fs.updateRoot);Ym=xb.to({},{duration:0});var UO=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},qO=function(e,t){var n=e._targets,r,s,a;for(r in t)for(s=n.length;s--;)a=e._ptLookup[s][r],a&&(a=a.d)&&(a._pt&&(a=UO(a,r)),a&&a.modifier&&a.modifier(t[r],e,n[s],r))},Nw=function(e,t){return{name:e,rawVars:1,init:function(r,s,a){a._onInit=function(o){var c,h;if(Ci(s)&&(c={},fa(s,function(d){return c[d]=1}),s=c),t){c={};for(h in s)c[h]=t(s[h]);s=c}qO(o,s)}}}},ya=xb.registerPlugin({name:"attr",init:function(e,t,n,r,s){var a,o,c;this.tween=n;for(a in t)c=e.getAttribute(a)||"",o=this.add(e,"setAttribute",(c||0)+"",t[a],r,s,0,0,a),o.op=a,o.b=c,this._props.push(a)},render:function(e,t){for(var n=t._pt;n;)ji?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},Nw("roundProps",yx),Nw("modifiers"),Nw("snap",GP))||xb;$r.version=Fs.version=ya.version="3.12.7";RP=1;US()&&d0();on.Power0;on.Power1;on.Power2;on.Power3;on.Power4;on.Linear;on.Quad;on.Cubic;on.Quart;on.Quint;on.Strong;on.Elastic;on.Back;on.SteppedEase;on.Bounce;on.Sine;on.Expo;on.Circ;/*!
 * CSSPlugin 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ck,Sd,Qm,QS,Of,uk,ZS,HO=function(){return typeof window<"u"},Gu={},Af=180/Math.PI,Zm=Math.PI/180,Mm=Math.atan2,hk=1e8,eA=/([A-Z])/g,$O=/(left|right|width|margin|padding|x)/i,VO=/[\s,\(]\S/,yc={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},_x=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},WO=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},GO=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},YO=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},pT=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},mT=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},XO=function(e,t,n){return e.style[t]=n},KO=function(e,t,n){return e.style.setProperty(t,n)},JO=function(e,t,n){return e._gsap[t]=n},QO=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},ZO=function(e,t,n,r,s){var a=e._gsap;a.scaleX=a.scaleY=n,a.renderTransform(s,a)},e7=function(e,t,n,r,s){var a=e._gsap;a[t]=n,a.renderTransform(s,a)},mr="transform",ma=mr+"Origin",t7=function i(e,t){var n=this,r=this.target,s=r.style,a=r._gsap;if(e in Gu&&s){if(this.tfm=this.tfm||{},e!=="transform")e=yc[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return n.tfm[o]=mu(r,o)}):this.tfm[e]=a.x?a[e]:mu(r,e),e===ma&&(this.tfm.zOrigin=a.zOrigin);else return yc.transform.split(",").forEach(function(o){return i.call(n,o,t)});if(this.props.indexOf(mr)>=0)return;a.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(ma,t,"")),e=mr}(s||t)&&this.props.push(e,t,s[e])},gT=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},n7=function(){var e=this.props,t=this.target,n=t.style,r=t._gsap,s,a;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?t[e[s]](e[s+2]):t[e[s]]=e[s+2]:e[s+2]?n[e[s]]=e[s+2]:n.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(eA,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)r[a]=this.tfm[a];r.svg&&(r.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=ZS(),(!s||!s.isStart)&&!n[mr]&&(gT(n),r.zOrigin&&n[ma]&&(n[ma]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},yT=function(e,t){var n={target:e,props:[],revert:n7,save:t7};return e._gsap||ya.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(r){return n.save(r)}),n},vT,wx=function(e,t){var n=Sd.createElementNS?Sd.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Sd.createElement(e);return n&&n.style?n:Sd.createElement(e)},wc=function i(e,t,n){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(eA,"-$1").toLowerCase())||r.getPropertyValue(t)||!n&&i(e,f0(t)||t,1)||""},dk="O,Moz,ms,Ms,Webkit".split(","),f0=function(e,t,n){var r=t||Of,s=r.style,a=5;if(e in s&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);a--&&!(dk[a]+e in s););return a<0?null:(a===3?"ms":a>=0?dk[a]:"")+e},xx=function(){HO()&&window.document&&(ck=window,Sd=ck.document,Qm=Sd.documentElement,Of=wx("div")||{style:{}},wx("div"),mr=f0(mr),ma=mr+"Origin",Of.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",vT=!!f0("perspective"),ZS=ya.core.reverting,QS=1)},fk=function(e){var t=e.ownerSVGElement,n=wx("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=e.cloneNode(!0),s;r.style.display="block",n.appendChild(r),Qm.appendChild(n);try{s=r.getBBox()}catch{}return n.removeChild(r),Qm.removeChild(n),s},pk=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},bT=function(e){var t,n;try{t=e.getBBox()}catch{t=fk(e),n=1}return t&&(t.width||t.height)||n||(t=fk(e)),t&&!t.width&&!t.x&&!t.y?{x:+pk(e,["x","cx","x1"])||0,y:+pk(e,["y","cy","y1"])||0,width:0,height:0}:t},_T=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&bT(e))},Up=function(e,t){if(t){var n=e.style,r;t in Gu&&t!==ma&&(t=mr),n.removeProperty?(r=t.substr(0,2),(r==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),n.removeProperty(r==="--"?t:t.replace(eA,"-$1").toLowerCase())):n.removeAttribute(t)}},Ad=function(e,t,n,r,s,a){var o=new pa(e._pt,t,n,0,1,a?mT:pT);return e._pt=o,o.b=r,o.e=s,e._props.push(n),o},mk={deg:1,rad:1,turn:1},r7={grid:1,flex:1},Nd=function i(e,t,n,r){var s=parseFloat(n)||0,a=(n+"").trim().substr((s+"").length)||"px",o=Of.style,c=$O.test(t),h=e.tagName.toLowerCase()==="svg",d=(h?"client":"offset")+(c?"Width":"Height"),p=100,y=r==="px",v=r==="%",x,w,C,S;if(r===a||!s||mk[r]||mk[a])return s;if(a!=="px"&&!y&&(s=i(e,t,n,"px")),S=e.getCTM&&_T(e),(v||a==="%")&&(Gu[t]||~t.indexOf("adius")))return x=S?e.getBBox()[c?"width":"height"]:e[d],Rr(v?s/x*p:s/100*x);if(o[c?"width":"height"]=p+(y?a:r),w=r!=="rem"&&~t.indexOf("adius")||r==="em"&&e.appendChild&&!h?e:e.parentNode,S&&(w=(e.ownerSVGElement||{}).parentNode),(!w||w===Sd||!w.appendChild)&&(w=Sd.body),C=w._gsap,C&&v&&C.width&&c&&C.time===Va.time&&!C.uncache)return Rr(s/C.width*p);if(v&&(t==="height"||t==="width")){var P=e.style[t];e.style[t]=p+r,x=e[d],P?e.style[t]=P:Up(e,t)}else(v||a==="%")&&!r7[wc(w,"display")]&&(o.position=wc(e,"position")),w===e&&(o.position="static"),w.appendChild(Of),x=Of[d],w.removeChild(Of),o.position="absolute";return c&&v&&(C=Mp(w),C.time=Va.time,C.width=w[d]),Rr(y?x*s/p:x&&s?p/x*s:0)},mu=function(e,t,n,r){var s;return QS||xx(),t in yc&&t!=="transform"&&(t=yc[t],~t.indexOf(",")&&(t=t.split(",")[0])),Gu[t]&&t!=="transform"?(s=j1(e,r),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:Ab(wc(e,ma))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||r||~(s+"").indexOf("calc("))&&(s=Sb[t]&&Sb[t](e,t,n)||wc(e,t)||FP(e,t)||(t==="opacity"?1:0))),n&&!~(s+"").trim().indexOf(" ")?Nd(e,t,s,n)+n:s},i7=function(e,t,n,r){if(!n||n==="none"){var s=f0(t,e,1),a=s&&wc(e,s,1);a&&a!==n?(t=s,n=a):t==="borderColor"&&(n=wc(e,"borderTopColor"))}var o=new pa(this._pt,e.style,t,0,1,hT),c=0,h=0,d,p,y,v,x,w,C,S,P,R,M,O;if(o.b=n,o.e=r,n+="",r+="",r==="auto"&&(w=e.style[t],e.style[t]=r,r=wc(e,t)||r,w?e.style[t]=w:Up(e,t)),d=[n,r],tT(d),n=d[0],r=d[1],y=n.match(Gm)||[],O=r.match(Gm)||[],O.length){for(;p=Gm.exec(r);)C=p[0],P=r.substring(c,p.index),x?x=(x+1)%5:(P.substr(-5)==="rgba("||P.substr(-5)==="hsla(")&&(x=1),C!==(w=y[h++]||"")&&(v=parseFloat(w)||0,M=w.substr((v+"").length),C.charAt(1)==="="&&(C=Jm(v,C)+M),S=parseFloat(C),R=C.substr((S+"").length),c=Gm.lastIndex-R.length,R||(R=R||Ya.units[t]||M,c===r.length&&(r+=R,o.e+=R)),M!==R&&(v=Nd(e,t,w,R)||0),o._pt={_next:o._pt,p:P||h===1?P:",",s:v,c:S-v,m:x&&x<4||t==="zIndex"?Math.round:0});o.c=c<r.length?r.substring(c,r.length):""}else o.r=t==="display"&&r==="none"?mT:pT;return LP.test(r)&&(o.e=0),this._pt=o,o},gk={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},s7=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return(n==="top"||n==="bottom"||r==="left"||r==="right")&&(e=n,n=r,r=e),t[0]=gk[n]||n,t[1]=gk[r]||r,t.join(" ")},a7=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n=t.t,r=n.style,s=t.u,a=n._gsap,o,c,h;if(s==="all"||s===!0)r.cssText="",c=1;else for(s=s.split(","),h=s.length;--h>-1;)o=s[h],Gu[o]&&(c=1,o=o==="transformOrigin"?ma:mr),Up(n,o);c&&(Up(n,mr),a&&(a.svg&&n.removeAttribute("transform"),r.scale=r.rotate=r.translate="none",j1(n,1),a.uncache=1,gT(r)))}},Sb={clearProps:function(e,t,n,r,s){if(s.data!=="isFromStart"){var a=e._pt=new pa(e._pt,t,n,0,0,a7);return a.u=r,a.pr=-10,a.tween=s,e._props.push(n),1}}},D1=[1,0,0,1,0,0],wT={},xT=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},yk=function(e){var t=wc(e,mr);return xT(t)?D1:t.substr(7).match(TP).map(Rr)},tA=function(e,t){var n=e._gsap||Mp(e),r=e.style,s=yk(e),a,o,c,h;return n.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,s=[c.a,c.b,c.c,c.d,c.e,c.f],s.join(",")==="1,0,0,1,0,0"?D1:s):(s===D1&&!e.offsetParent&&e!==Qm&&!n.svg&&(c=r.display,r.display="block",a=e.parentNode,(!a||!e.offsetParent&&!e.getBoundingClientRect().width)&&(h=1,o=e.nextElementSibling,Qm.appendChild(e)),s=yk(e),c?r.display=c:Up(e,"display"),h&&(o?a.insertBefore(e,o):a?a.appendChild(e):Qm.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},Sx=function(e,t,n,r,s,a){var o=e._gsap,c=s||tA(e,!0),h=o.xOrigin||0,d=o.yOrigin||0,p=o.xOffset||0,y=o.yOffset||0,v=c[0],x=c[1],w=c[2],C=c[3],S=c[4],P=c[5],R=t.split(" "),M=parseFloat(R[0])||0,O=parseFloat(R[1])||0,$,U,D,Q;n?c!==D1&&(U=v*C-x*w)&&(D=M*(C/U)+O*(-w/U)+(w*P-C*S)/U,Q=M*(-x/U)+O*(v/U)-(v*P-x*S)/U,M=D,O=Q):($=bT(e),M=$.x+(~R[0].indexOf("%")?M/100*$.width:M),O=$.y+(~(R[1]||R[0]).indexOf("%")?O/100*$.height:O)),r||r!==!1&&o.smooth?(S=M-h,P=O-d,o.xOffset=p+(S*v+P*w)-S,o.yOffset=y+(S*x+P*C)-P):o.xOffset=o.yOffset=0,o.xOrigin=M,o.yOrigin=O,o.smooth=!!r,o.origin=t,o.originIsAbsolute=!!n,e.style[ma]="0px 0px",a&&(Ad(a,o,"xOrigin",h,M),Ad(a,o,"yOrigin",d,O),Ad(a,o,"xOffset",p,o.xOffset),Ad(a,o,"yOffset",y,o.yOffset)),e.setAttribute("data-svg-origin",M+" "+O)},j1=function(e,t){var n=e._gsap||new sT(e);if("x"in n&&!t&&!n.uncache)return n;var r=e.style,s=n.scaleX<0,a="px",o="deg",c=getComputedStyle(e),h=wc(e,ma)||"0",d,p,y,v,x,w,C,S,P,R,M,O,$,U,D,Q,ue,j,V,ee,re,pe,fe,he,ne,ye,me,se,I,K,Z,oe;return d=p=y=w=C=S=P=R=M=0,v=x=1,n.svg=!!(e.getCTM&&_T(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(r[mr]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[mr]!=="none"?c[mr]:"")),r.scale=r.rotate=r.translate="none"),U=tA(e,n.svg),n.svg&&(n.uncache?(ne=e.getBBox(),h=n.xOrigin-ne.x+"px "+(n.yOrigin-ne.y)+"px",he=""):he=!t&&e.getAttribute("data-svg-origin"),Sx(e,he||h,!!he||n.originIsAbsolute,n.smooth!==!1,U)),O=n.xOrigin||0,$=n.yOrigin||0,U!==D1&&(j=U[0],V=U[1],ee=U[2],re=U[3],d=pe=U[4],p=fe=U[5],U.length===6?(v=Math.sqrt(j*j+V*V),x=Math.sqrt(re*re+ee*ee),w=j||V?Mm(V,j)*Af:0,P=ee||re?Mm(ee,re)*Af+w:0,P&&(x*=Math.abs(Math.cos(P*Zm))),n.svg&&(d-=O-(O*j+$*ee),p-=$-(O*V+$*re))):(oe=U[6],K=U[7],me=U[8],se=U[9],I=U[10],Z=U[11],d=U[12],p=U[13],y=U[14],D=Mm(oe,I),C=D*Af,D&&(Q=Math.cos(-D),ue=Math.sin(-D),he=pe*Q+me*ue,ne=fe*Q+se*ue,ye=oe*Q+I*ue,me=pe*-ue+me*Q,se=fe*-ue+se*Q,I=oe*-ue+I*Q,Z=K*-ue+Z*Q,pe=he,fe=ne,oe=ye),D=Mm(-ee,I),S=D*Af,D&&(Q=Math.cos(-D),ue=Math.sin(-D),he=j*Q-me*ue,ne=V*Q-se*ue,ye=ee*Q-I*ue,Z=re*ue+Z*Q,j=he,V=ne,ee=ye),D=Mm(V,j),w=D*Af,D&&(Q=Math.cos(D),ue=Math.sin(D),he=j*Q+V*ue,ne=pe*Q+fe*ue,V=V*Q-j*ue,fe=fe*Q-pe*ue,j=he,pe=ne),C&&Math.abs(C)+Math.abs(w)>359.9&&(C=w=0,S=180-S),v=Rr(Math.sqrt(j*j+V*V+ee*ee)),x=Rr(Math.sqrt(fe*fe+oe*oe)),D=Mm(pe,fe),P=Math.abs(D)>2e-4?D*Af:0,M=Z?1/(Z<0?-Z:Z):0),n.svg&&(he=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!xT(wc(e,mr)),he&&e.setAttribute("transform",he))),Math.abs(P)>90&&Math.abs(P)<270&&(s?(v*=-1,P+=w<=0?180:-180,w+=w<=0?180:-180):(x*=-1,P+=P<=0?180:-180)),t=t||n.uncache,n.x=d-((n.xPercent=d&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-d)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+a,n.y=p-((n.yPercent=p&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-p)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+a,n.z=y+a,n.scaleX=Rr(v),n.scaleY=Rr(x),n.rotation=Rr(w)+o,n.rotationX=Rr(C)+o,n.rotationY=Rr(S)+o,n.skewX=P+o,n.skewY=R+o,n.transformPerspective=M+a,(n.zOrigin=parseFloat(h.split(" ")[2])||!t&&n.zOrigin||0)&&(r[ma]=Ab(h)),n.xOffset=n.yOffset=0,n.force3D=Ya.force3D,n.renderTransform=n.svg?l7:vT?ST:o7,n.uncache=0,n},Ab=function(e){return(e=e.split(" "))[0]+" "+e[1]},Rw=function(e,t,n){var r=us(t);return Rr(parseFloat(t)+parseFloat(Nd(e,"x",n+"px",r)))+r},o7=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,ST(e,t)},_f="0deg",G0="0px",wf=") ",ST=function(e,t){var n=t||this,r=n.xPercent,s=n.yPercent,a=n.x,o=n.y,c=n.z,h=n.rotation,d=n.rotationY,p=n.rotationX,y=n.skewX,v=n.skewY,x=n.scaleX,w=n.scaleY,C=n.transformPerspective,S=n.force3D,P=n.target,R=n.zOrigin,M="",O=S==="auto"&&e&&e!==1||S===!0;if(R&&(p!==_f||d!==_f)){var $=parseFloat(d)*Zm,U=Math.sin($),D=Math.cos($),Q;$=parseFloat(p)*Zm,Q=Math.cos($),a=Rw(P,a,U*Q*-R),o=Rw(P,o,-Math.sin($)*-R),c=Rw(P,c,D*Q*-R+R)}C!==G0&&(M+="perspective("+C+wf),(r||s)&&(M+="translate("+r+"%, "+s+"%) "),(O||a!==G0||o!==G0||c!==G0)&&(M+=c!==G0||O?"translate3d("+a+", "+o+", "+c+") ":"translate("+a+", "+o+wf),h!==_f&&(M+="rotate("+h+wf),d!==_f&&(M+="rotateY("+d+wf),p!==_f&&(M+="rotateX("+p+wf),(y!==_f||v!==_f)&&(M+="skew("+y+", "+v+wf),(x!==1||w!==1)&&(M+="scale("+x+", "+w+wf),P.style[mr]=M||"translate(0, 0)"},l7=function(e,t){var n=t||this,r=n.xPercent,s=n.yPercent,a=n.x,o=n.y,c=n.rotation,h=n.skewX,d=n.skewY,p=n.scaleX,y=n.scaleY,v=n.target,x=n.xOrigin,w=n.yOrigin,C=n.xOffset,S=n.yOffset,P=n.forceCSS,R=parseFloat(a),M=parseFloat(o),O,$,U,D,Q;c=parseFloat(c),h=parseFloat(h),d=parseFloat(d),d&&(d=parseFloat(d),h+=d,c+=d),c||h?(c*=Zm,h*=Zm,O=Math.cos(c)*p,$=Math.sin(c)*p,U=Math.sin(c-h)*-y,D=Math.cos(c-h)*y,h&&(d*=Zm,Q=Math.tan(h-d),Q=Math.sqrt(1+Q*Q),U*=Q,D*=Q,d&&(Q=Math.tan(d),Q=Math.sqrt(1+Q*Q),O*=Q,$*=Q)),O=Rr(O),$=Rr($),U=Rr(U),D=Rr(D)):(O=p,D=y,$=U=0),(R&&!~(a+"").indexOf("px")||M&&!~(o+"").indexOf("px"))&&(R=Nd(v,"x",a,"px"),M=Nd(v,"y",o,"px")),(x||w||C||S)&&(R=Rr(R+x-(x*O+w*U)+C),M=Rr(M+w-(x*$+w*D)+S)),(r||s)&&(Q=v.getBBox(),R=Rr(R+r/100*Q.width),M=Rr(M+s/100*Q.height)),Q="matrix("+O+","+$+","+U+","+D+","+R+","+M+")",v.setAttribute("transform",Q),P&&(v.style[mr]=Q)},c7=function(e,t,n,r,s){var a=360,o=Ci(s),c=parseFloat(s)*(o&&~s.indexOf("rad")?Af:1),h=c-r,d=r+h+"deg",p,y;return o&&(p=s.split("_")[1],p==="short"&&(h%=a,h!==h%(a/2)&&(h+=h<0?a:-360)),p==="cw"&&h<0?h=(h+a*hk)%a-~~(h/a)*a:p==="ccw"&&h>0&&(h=(h-a*hk)%a-~~(h/a)*a)),e._pt=y=new pa(e._pt,t,n,r,h,WO),y.e=d,y.u="deg",e._props.push(n),y},vk=function(e,t){for(var n in t)e[n]=t[n];return e},u7=function(e,t,n){var r=vk({},n._gsap),s="perspective,force3D,transformOrigin,svgOrigin",a=n.style,o,c,h,d,p,y,v,x;r.svg?(h=n.getAttribute("transform"),n.setAttribute("transform",""),a[mr]=t,o=j1(n,1),Up(n,mr),n.setAttribute("transform",h)):(h=getComputedStyle(n)[mr],a[mr]=t,o=j1(n,1),a[mr]=h);for(c in Gu)h=r[c],d=o[c],h!==d&&s.indexOf(c)<0&&(v=us(h),x=us(d),p=v!==x?Nd(n,c,h,x):parseFloat(h),y=parseFloat(d),e._pt=new pa(e._pt,o,c,p,y-p,_x),e._pt.u=x||0,e._props.push(c));vk(o,r)};fa("padding,margin,Width,Radius",function(i,e){var t="Top",n="Right",r="Bottom",s="Left",a=(e<3?[t,n,r,s]:[t+s,t+n,r+n,r+s]).map(function(o){return e<2?i+o:"border"+o+i});Sb[e>1?"border"+i:i]=function(o,c,h,d,p){var y,v;if(arguments.length<4)return y=a.map(function(x){return mu(o,x,h)}),v=y.join(" "),v.split(y[0]).length===5?y[0]:v;y=(d+"").split(" "),v={},a.forEach(function(x,w){return v[x]=y[w]=y[w]||y[(w-1)/2|0]}),o.init(c,v,p)}});var AT={name:"css",register:xx,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,s){var a=this._props,o=e.style,c=n.vars.startAt,h,d,p,y,v,x,w,C,S,P,R,M,O,$,U,D;QS||xx(),this.styles=this.styles||yT(e),D=this.styles.props,this.tween=n;for(w in t)if(w!=="autoRound"&&(d=t[w],!(Ha[w]&&aT(w,t,n,r,e,s)))){if(v=typeof d,x=Sb[w],v==="function"&&(d=d.call(n,r,e,s),v=typeof d),v==="string"&&~d.indexOf("random(")&&(d=M1(d)),x)x(this,e,w,d,n)&&(U=1);else if(w.substr(0,2)==="--")h=(getComputedStyle(e).getPropertyValue(w)+"").trim(),d+="",Pd.lastIndex=0,Pd.test(h)||(C=us(h),S=us(d)),S?C!==S&&(h=Nd(e,w,h,S)+S):C&&(d+=C),this.add(o,"setProperty",h,d,r,s,0,0,w),a.push(w),D.push(w,0,o[w]);else if(v!=="undefined"){if(c&&w in c?(h=typeof c[w]=="function"?c[w].call(n,r,e,s):c[w],Ci(h)&&~h.indexOf("random(")&&(h=M1(h)),us(h+"")||h==="auto"||(h+=Ya.units[w]||us(mu(e,w))||""),(h+"").charAt(1)==="="&&(h=mu(e,w))):h=mu(e,w),y=parseFloat(h),P=v==="string"&&d.charAt(1)==="="&&d.substr(0,2),P&&(d=d.substr(2)),p=parseFloat(d),w in yc&&(w==="autoAlpha"&&(y===1&&mu(e,"visibility")==="hidden"&&p&&(y=0),D.push("visibility",0,o.visibility),Ad(this,o,"visibility",y?"inherit":"hidden",p?"inherit":"hidden",!p)),w!=="scale"&&w!=="transform"&&(w=yc[w],~w.indexOf(",")&&(w=w.split(",")[0]))),R=w in Gu,R){if(this.styles.save(w),M||(O=e._gsap,O.renderTransform&&!t.parseTransform||j1(e,t.parseTransform),$=t.smoothOrigin!==!1&&O.smooth,M=this._pt=new pa(this._pt,o,mr,0,1,O.renderTransform,O,0,-1),M.dep=1),w==="scale")this._pt=new pa(this._pt,O,"scaleY",O.scaleY,(P?Jm(O.scaleY,P+p):p)-O.scaleY||0,_x),this._pt.u=0,a.push("scaleY",w),w+="X";else if(w==="transformOrigin"){D.push(ma,0,o[ma]),d=s7(d),O.svg?Sx(e,d,0,$,0,this):(S=parseFloat(d.split(" ")[2])||0,S!==O.zOrigin&&Ad(this,O,"zOrigin",O.zOrigin,S),Ad(this,o,w,Ab(h),Ab(d)));continue}else if(w==="svgOrigin"){Sx(e,d,1,$,0,this);continue}else if(w in wT){c7(this,O,w,y,P?Jm(y,P+d):d);continue}else if(w==="smoothOrigin"){Ad(this,O,"smooth",O.smooth,d);continue}else if(w==="force3D"){O[w]=d;continue}else if(w==="transform"){u7(this,d,e);continue}}else w in o||(w=f0(w)||w);if(R||(p||p===0)&&(y||y===0)&&!VO.test(d)&&w in o)C=(h+"").substr((y+"").length),p||(p=0),S=us(d)||(w in Ya.units?Ya.units[w]:C),C!==S&&(y=Nd(e,w,h,S)),this._pt=new pa(this._pt,R?O:o,w,y,(P?Jm(y,P+p):p)-y,!R&&(S==="px"||w==="zIndex")&&t.autoRound!==!1?YO:_x),this._pt.u=S||0,C!==S&&S!=="%"&&(this._pt.b=h,this._pt.r=GO);else if(w in o)i7.call(this,e,w,h,P?P+d:d);else if(w in e)this.add(e,w,h||e[w],P?P+d:d,r,s);else if(w!=="parseTransform"){HS(w,d);continue}R||(w in o?D.push(w,0,o[w]):typeof e[w]=="function"?D.push(w,2,e[w]()):D.push(w,1,h||e[w])),a.push(w)}}U&&dT(this)},render:function(e,t){if(t.tween._time||!ZS())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:mu,aliases:yc,getSetter:function(e,t,n){var r=yc[t];return r&&r.indexOf(",")<0&&(t=r),t in Gu&&t!==ma&&(e._gsap.x||mu(e,"x"))?n&&uk===n?t==="scale"?QO:JO:(uk=n||{})&&(t==="scale"?ZO:e7):e.style&&!zS(e.style[t])?XO:~t.indexOf("-")?KO:KS(e,t)},core:{_removeProperty:Up,_getMatrix:tA}};ya.utils.checkPrefix=f0;ya.core.getStyleSaver=yT;(function(i,e,t,n){var r=fa(i+","+e+","+t,function(s){Gu[s]=1});fa(e,function(s){Ya.units[s]="deg",wT[s]=1}),yc[r[13]]=i+","+e,fa(n,function(s){var a=s.split(":");yc[a[1]]=r[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");fa("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(i){Ya.units[i]="px"});ya.registerPlugin(AT);var Lf=ya.registerPlugin(AT)||ya;Lf.core.Tween;/*!
 * @gsap/react 2.1.2
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/let bk=typeof document<"u"?te.useLayoutEffect:te.useEffect,_k=i=>i&&!Array.isArray(i)&&typeof i=="object",t2=[],h7={},CT=Lf;const nA=(i,e=t2)=>{let t=h7;_k(i)?(t=i,i=null,e="dependencies"in t?t.dependencies:t2):_k(e)&&(t=e,e="dependencies"in t?t.dependencies:t2),i&&typeof i!="function"&&console.warn("First parameter must be a function or config object");const{scope:n,revertOnUpdate:r}=t,s=te.useRef(!1),a=te.useRef(CT.context(()=>{},n)),o=te.useRef(h=>a.current.add(null,h)),c=e&&e.length&&!r;return c&&bk(()=>(s.current=!0,()=>a.current.revert()),t2),bk(()=>{if(i&&a.current.add(i,n),!c||!s.current)return()=>a.current.revert()},e),{context:a.current,contextSafe:o.current}};nA.register=i=>{CT=i};nA.headless=!0;const wk=i=>{let e;const t=new Set,n=(h,d)=>{const p=typeof h=="function"?h(e):h;if(!Object.is(p,e)){const y=e;e=d??(typeof p!="object"||p===null)?p:Object.assign({},e,p),t.forEach(v=>v(e,y))}},r=()=>e,o={setState:n,getState:r,getInitialState:()=>c,subscribe:h=>(t.add(h),()=>t.delete(h))},c=e=i(n,r,o);return o},d7=i=>i?wk(i):wk,f7=i=>i;function p7(i,e=f7){const t=YC.useSyncExternalStore(i.subscribe,()=>e(i.getState()),()=>e(i.getInitialState()));return YC.useDebugValue(t),t}const xk=i=>{const e=d7(i),t=n=>p7(e,n);return Object.assign(t,e),t},a_=i=>i?xk(i):xk;function kT(i,e){return function(){return i.apply(e,arguments)}}const{toString:m7}=Object.prototype,{getPrototypeOf:rA}=Object,o_=(i=>e=>{const t=m7.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),wl=i=>(i=i.toLowerCase(),e=>o_(e)===i),l_=i=>e=>typeof e===i,{isArray:b0}=Array,B1=l_("undefined");function g7(i){return i!==null&&!B1(i)&&i.constructor!==null&&!B1(i.constructor)&&Xa(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const ET=wl("ArrayBuffer");function y7(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&ET(i.buffer),e}const v7=l_("string"),Xa=l_("function"),PT=l_("number"),c_=i=>i!==null&&typeof i=="object",b7=i=>i===!0||i===!1,_2=i=>{if(o_(i)!=="object")return!1;const e=rA(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},_7=wl("Date"),w7=wl("File"),x7=wl("Blob"),S7=wl("FileList"),A7=i=>c_(i)&&Xa(i.pipe),C7=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||Xa(i.append)&&((e=o_(i))==="formdata"||e==="object"&&Xa(i.toString)&&i.toString()==="[object FormData]"))},k7=wl("URLSearchParams"),[E7,P7,T7,L7]=["ReadableStream","Request","Response","Headers"].map(wl),N7=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function uv(i,e,{allOwnKeys:t=!1}={}){if(i===null||typeof i>"u")return;let n,r;if(typeof i!="object"&&(i=[i]),b0(i))for(n=0,r=i.length;n<r;n++)e.call(null,i[n],n,i);else{const s=t?Object.getOwnPropertyNames(i):Object.keys(i),a=s.length;let o;for(n=0;n<a;n++)o=s[n],e.call(null,i[o],o,i)}}function TT(i,e){e=e.toLowerCase();const t=Object.keys(i);let n=t.length,r;for(;n-- >0;)if(r=t[n],e===r.toLowerCase())return r;return null}const Ff=typeof globalThis<"u"?globalThis:typeof self<"u"?self:window,LT=i=>!B1(i)&&i!==Ff;function Ax(){const{caseless:i}=LT(this)&&this||{},e={},t=(n,r)=>{const s=i&&TT(e,r)||r;_2(e[s])&&_2(n)?e[s]=Ax(e[s],n):_2(n)?e[s]=Ax({},n):b0(n)?e[s]=n.slice():e[s]=n};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&uv(arguments[n],t);return e}const R7=(i,e,t,{allOwnKeys:n}={})=>(uv(e,(r,s)=>{t&&Xa(r)?i[s]=kT(r,t):i[s]=r},{allOwnKeys:n}),i),I7=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),M7=(i,e,t,n)=>{i.prototype=Object.create(e.prototype,n),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),t&&Object.assign(i.prototype,t)},O7=(i,e,t,n)=>{let r,s,a;const o={};if(e=e||{},i==null)return e;do{for(r=Object.getOwnPropertyNames(i),s=r.length;s-- >0;)a=r[s],(!n||n(a,i,e))&&!o[a]&&(e[a]=i[a],o[a]=!0);i=t!==!1&&rA(i)}while(i&&(!t||t(i,e))&&i!==Object.prototype);return e},F7=(i,e,t)=>{i=String(i),(t===void 0||t>i.length)&&(t=i.length),t-=e.length;const n=i.indexOf(e,t);return n!==-1&&n===t},D7=i=>{if(!i)return null;if(b0(i))return i;let e=i.length;if(!PT(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=i[e];return t},j7=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&rA(Uint8Array)),B7=(i,e)=>{const n=(i&&i[Symbol.iterator]).call(i);let r;for(;(r=n.next())&&!r.done;){const s=r.value;e.call(i,s[0],s[1])}},z7=(i,e)=>{let t;const n=[];for(;(t=i.exec(e))!==null;)n.push(t);return n},U7=wl("HTMLFormElement"),q7=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,r){return n.toUpperCase()+r}),Sk=(({hasOwnProperty:i})=>(e,t)=>i.call(e,t))(Object.prototype),H7=wl("RegExp"),NT=(i,e)=>{const t=Object.getOwnPropertyDescriptors(i),n={};uv(t,(r,s)=>{let a;(a=e(r,s,i))!==!1&&(n[s]=a||r)}),Object.defineProperties(i,n)},$7=i=>{NT(i,(e,t)=>{if(Xa(i)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=i[t];if(Xa(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},V7=(i,e)=>{const t={},n=r=>{r.forEach(s=>{t[s]=!0})};return b0(i)?n(i):n(String(i).split(e)),t},W7=()=>{},G7=(i,e)=>i!=null&&Number.isFinite(i=+i)?i:e;function Y7(i){return!!(i&&Xa(i.append)&&i[Symbol.toStringTag]==="FormData"&&i[Symbol.iterator])}const X7=i=>{const e=new Array(10),t=(n,r)=>{if(c_(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[r]=n;const s=b0(n)?[]:{};return uv(n,(a,o)=>{const c=t(a,r+1);!B1(c)&&(s[o]=c)}),e[r]=void 0,s}}return n};return t(i,0)},K7=wl("AsyncFunction"),J7=i=>i&&(c_(i)||Xa(i))&&Xa(i.then)&&Xa(i.catch),RT=((i,e)=>i?setImmediate:e?((t,n)=>(Ff.addEventListener("message",({source:r,data:s})=>{r===Ff&&s===t&&n.length&&n.shift()()},!1),r=>{n.push(r),Ff.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Xa(Ff.postMessage)),Q7=typeof queueMicrotask<"u"?queueMicrotask.bind(Ff):typeof process<"u"&&process.nextTick||RT,Fe={isArray:b0,isArrayBuffer:ET,isBuffer:g7,isFormData:C7,isArrayBufferView:y7,isString:v7,isNumber:PT,isBoolean:b7,isObject:c_,isPlainObject:_2,isReadableStream:E7,isRequest:P7,isResponse:T7,isHeaders:L7,isUndefined:B1,isDate:_7,isFile:w7,isBlob:x7,isRegExp:H7,isFunction:Xa,isStream:A7,isURLSearchParams:k7,isTypedArray:j7,isFileList:S7,forEach:uv,merge:Ax,extend:R7,trim:N7,stripBOM:I7,inherits:M7,toFlatObject:O7,kindOf:o_,kindOfTest:wl,endsWith:F7,toArray:D7,forEachEntry:B7,matchAll:z7,isHTMLForm:U7,hasOwnProperty:Sk,hasOwnProp:Sk,reduceDescriptors:NT,freezeMethods:$7,toObjectSet:V7,toCamelCase:q7,noop:W7,toFiniteNumber:G7,findKey:TT,global:Ff,isContextDefined:LT,isSpecCompliantForm:Y7,toJSONObject:X7,isAsyncFn:K7,isThenable:J7,setImmediate:RT,asap:Q7};function Vt(i,e,t,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}Fe.inherits(Vt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Fe.toJSONObject(this.config),code:this.code,status:this.status}}});const IT=Vt.prototype,MT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{MT[i]={value:i}});Object.defineProperties(Vt,MT);Object.defineProperty(IT,"isAxiosError",{value:!0});Vt.from=(i,e,t,n,r,s)=>{const a=Object.create(IT);return Fe.toFlatObject(i,a,function(c){return c!==Error.prototype},o=>o!=="isAxiosError"),Vt.call(a,i.message,e,t,n,r),a.cause=i,a.name=i.name,s&&Object.assign(a,s),a};const Z7=null;function Cx(i){return Fe.isPlainObject(i)||Fe.isArray(i)}function OT(i){return Fe.endsWith(i,"[]")?i.slice(0,-2):i}function Ak(i,e,t){return i?i.concat(e).map(function(r,s){return r=OT(r),!t&&s?"["+r+"]":r}).join(t?".":""):e}function eF(i){return Fe.isArray(i)&&!i.some(Cx)}const tF=Fe.toFlatObject(Fe,{},null,function(e){return/^is[A-Z]/.test(e)});function u_(i,e,t){if(!Fe.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,t=Fe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,C){return!Fe.isUndefined(C[w])});const n=t.metaTokens,r=t.visitor||d,s=t.dots,a=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&Fe.isSpecCompliantForm(e);if(!Fe.isFunction(r))throw new TypeError("visitor must be a function");function h(x){if(x===null)return"";if(Fe.isDate(x))return x.toISOString();if(!c&&Fe.isBlob(x))throw new Vt("Blob is not supported. Use a Buffer instead.");return Fe.isArrayBuffer(x)||Fe.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function d(x,w,C){let S=x;if(x&&!C&&typeof x=="object"){if(Fe.endsWith(w,"{}"))w=n?w:w.slice(0,-2),x=JSON.stringify(x);else if(Fe.isArray(x)&&eF(x)||(Fe.isFileList(x)||Fe.endsWith(w,"[]"))&&(S=Fe.toArray(x)))return w=OT(w),S.forEach(function(R,M){!(Fe.isUndefined(R)||R===null)&&e.append(a===!0?Ak([w],M,s):a===null?w:w+"[]",h(R))}),!1}return Cx(x)?!0:(e.append(Ak(C,w,s),h(x)),!1)}const p=[],y=Object.assign(tF,{defaultVisitor:d,convertValue:h,isVisitable:Cx});function v(x,w){if(!Fe.isUndefined(x)){if(p.indexOf(x)!==-1)throw Error("Circular reference detected in "+w.join("."));p.push(x),Fe.forEach(x,function(S,P){(!(Fe.isUndefined(S)||S===null)&&r.call(e,S,Fe.isString(P)?P.trim():P,w,y))===!0&&v(S,w?w.concat(P):[P])}),p.pop()}}if(!Fe.isObject(i))throw new TypeError("data must be an object");return v(i),e}function Ck(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function iA(i,e){this._pairs=[],i&&u_(i,this,e)}const FT=iA.prototype;FT.append=function(e,t){this._pairs.push([e,t])};FT.toString=function(e){const t=e?function(n){return e.call(this,n,Ck)}:Ck;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function nF(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function DT(i,e,t){if(!e)return i;const n=t&&t.encode||nF;Fe.isFunction(t)&&(t={serialize:t});const r=t&&t.serialize;let s;if(r?s=r(e,t):s=Fe.isURLSearchParams(e)?e.toString():new iA(e,t).toString(n),s){const a=i.indexOf("#");a!==-1&&(i=i.slice(0,a)),i+=(i.indexOf("?")===-1?"?":"&")+s}return i}class kk{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Fe.forEach(this.handlers,function(n){n!==null&&e(n)})}}const jT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},rF=typeof URLSearchParams<"u"?URLSearchParams:iA,iF=typeof FormData<"u"?FormData:null,sF=typeof Blob<"u"?Blob:null,aF={isBrowser:!0,classes:{URLSearchParams:rF,FormData:iF,Blob:sF},protocols:["http","https","file","blob","url","data"]},sA=typeof window<"u"&&typeof document<"u",kx=typeof navigator=="object"&&navigator||void 0,oF=sA&&(!kx||["ReactNative","NativeScript","NS"].indexOf(kx.product)<0),lF=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",cF=sA&&window.location.href||"http://localhost",uF=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:sA,hasStandardBrowserEnv:oF,hasStandardBrowserWebWorkerEnv:lF,navigator:kx,origin:cF},Symbol.toStringTag,{value:"Module"})),hs={...uF,...aF};function hF(i,e){return u_(i,new hs.classes.URLSearchParams,Object.assign({visitor:function(t,n,r,s){return hs.isNode&&Fe.isBuffer(t)?(this.append(n,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function dF(i){return Fe.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function fF(i){const e={},t=Object.keys(i);let n;const r=t.length;let s;for(n=0;n<r;n++)s=t[n],e[s]=i[s];return e}function BT(i){function e(t,n,r,s){let a=t[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),c=s>=t.length;return a=!a&&Fe.isArray(r)?r.length:a,c?(Fe.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):((!r[a]||!Fe.isObject(r[a]))&&(r[a]=[]),e(t,n,r[a],s)&&Fe.isArray(r[a])&&(r[a]=fF(r[a])),!o)}if(Fe.isFormData(i)&&Fe.isFunction(i.entries)){const t={};return Fe.forEachEntry(i,(n,r)=>{e(dF(n),r,t,0)}),t}return null}function pF(i,e,t){if(Fe.isString(i))try{return(e||JSON.parse)(i),Fe.trim(i)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(i)}const hv={transitional:jT,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,s=Fe.isObject(e);if(s&&Fe.isHTMLForm(e)&&(e=new FormData(e)),Fe.isFormData(e))return r?JSON.stringify(BT(e)):e;if(Fe.isArrayBuffer(e)||Fe.isBuffer(e)||Fe.isStream(e)||Fe.isFile(e)||Fe.isBlob(e)||Fe.isReadableStream(e))return e;if(Fe.isArrayBufferView(e))return e.buffer;if(Fe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return hF(e,this.formSerializer).toString();if((o=Fe.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return u_(o?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),pF(e)):e}],transformResponse:[function(e){const t=this.transitional||hv.transitional,n=t&&t.forcedJSONParsing,r=this.responseType==="json";if(Fe.isResponse(e)||Fe.isReadableStream(e))return e;if(e&&Fe.isString(e)&&(n&&!this.responseType||r)){const a=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?Vt.from(o,Vt.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hs.classes.FormData,Blob:hs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Fe.forEach(["delete","get","head","post","put","patch"],i=>{hv.headers[i]={}});const mF=Fe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),gF=i=>{const e={};let t,n,r;return i&&i.split(`
`).forEach(function(a){r=a.indexOf(":"),t=a.substring(0,r).trim().toLowerCase(),n=a.substring(r+1).trim(),!(!t||e[t]&&mF[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},Ek=Symbol("internals");function Y0(i){return i&&String(i).trim().toLowerCase()}function w2(i){return i===!1||i==null?i:Fe.isArray(i)?i.map(w2):String(i)}function yF(i){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(i);)e[n[1]]=n[2];return e}const vF=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function Iw(i,e,t,n,r){if(Fe.isFunction(n))return n.call(this,e,t);if(r&&(e=t),!!Fe.isString(e)){if(Fe.isString(n))return e.indexOf(n)!==-1;if(Fe.isRegExp(n))return n.test(e)}}function bF(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function _F(i,e){const t=Fe.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(i,n+t,{value:function(r,s,a){return this[n].call(this,e,r,s,a)},configurable:!0})})}let ga=class{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function s(o,c,h){const d=Y0(c);if(!d)throw new Error("header name must be a non-empty string");const p=Fe.findKey(r,d);(!p||r[p]===void 0||h===!0||h===void 0&&r[p]!==!1)&&(r[p||c]=w2(o))}const a=(o,c)=>Fe.forEach(o,(h,d)=>s(h,d,c));if(Fe.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(Fe.isString(e)&&(e=e.trim())&&!vF(e))a(gF(e),t);else if(Fe.isHeaders(e))for(const[o,c]of e.entries())s(c,o,n);else e!=null&&s(t,e,n);return this}get(e,t){if(e=Y0(e),e){const n=Fe.findKey(this,e);if(n){const r=this[n];if(!t)return r;if(t===!0)return yF(r);if(Fe.isFunction(t))return t.call(this,r,n);if(Fe.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Y0(e),e){const n=Fe.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||Iw(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let r=!1;function s(a){if(a=Y0(a),a){const o=Fe.findKey(n,a);o&&(!t||Iw(n,n[o],o,t))&&(delete n[o],r=!0)}}return Fe.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const s=t[n];(!e||Iw(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const t=this,n={};return Fe.forEach(this,(r,s)=>{const a=Fe.findKey(n,s);if(a){t[a]=w2(r),delete t[s];return}const o=e?bF(s):String(s).trim();o!==s&&delete t[s],t[o]=w2(r),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Fe.forEach(this,(n,r)=>{n!=null&&n!==!1&&(t[r]=e&&Fe.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(r=>n.set(r)),n}static accessor(e){const n=(this[Ek]=this[Ek]={accessors:{}}).accessors,r=this.prototype;function s(a){const o=Y0(a);n[o]||(_F(r,a),n[o]=!0)}return Fe.isArray(e)?e.forEach(s):s(e),this}};ga.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Fe.reduceDescriptors(ga.prototype,({value:i},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(n){this[t]=n}}});Fe.freezeMethods(ga);function Mw(i,e){const t=this||hv,n=e||t,r=ga.from(n.headers);let s=n.data;return Fe.forEach(i,function(o){s=o.call(t,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function zT(i){return!!(i&&i.__CANCEL__)}function _0(i,e,t){Vt.call(this,i??"canceled",Vt.ERR_CANCELED,e,t),this.name="CanceledError"}Fe.inherits(_0,Vt,{__CANCEL__:!0});function UT(i,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?i(t):e(new Vt("Request failed with status code "+t.status,[Vt.ERR_BAD_REQUEST,Vt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function wF(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function xF(i,e){i=i||10;const t=new Array(i),n=new Array(i);let r=0,s=0,a;return e=e!==void 0?e:1e3,function(c){const h=Date.now(),d=n[s];a||(a=h),t[r]=c,n[r]=h;let p=s,y=0;for(;p!==r;)y+=t[p++],p=p%i;if(r=(r+1)%i,r===s&&(s=(s+1)%i),h-a<e)return;const v=d&&h-d;return v?Math.round(y*1e3/v):void 0}}function SF(i,e){let t=0,n=1e3/e,r,s;const a=(h,d=Date.now())=>{t=d,r=null,s&&(clearTimeout(s),s=null),i.apply(null,h)};return[(...h)=>{const d=Date.now(),p=d-t;p>=n?a(h,d):(r=h,s||(s=setTimeout(()=>{s=null,a(r)},n-p)))},()=>r&&a(r)]}const Cb=(i,e,t=3)=>{let n=0;const r=xF(50,250);return SF(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,c=a-n,h=r(c),d=a<=o;n=a;const p={loaded:a,total:o,progress:o?a/o:void 0,bytes:c,rate:h||void 0,estimated:h&&o&&d?(o-a)/h:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};i(p)},t)},Pk=(i,e)=>{const t=i!=null;return[n=>e[0]({lengthComputable:t,total:i,loaded:n}),e[1]]},Tk=i=>(...e)=>Fe.asap(()=>i(...e)),AF=hs.hasStandardBrowserEnv?((i,e)=>t=>(t=new URL(t,hs.origin),i.protocol===t.protocol&&i.host===t.host&&(e||i.port===t.port)))(new URL(hs.origin),hs.navigator&&/(msie|trident)/i.test(hs.navigator.userAgent)):()=>!0,CF=hs.hasStandardBrowserEnv?{write(i,e,t,n,r,s){const a=[i+"="+encodeURIComponent(e)];Fe.isNumber(t)&&a.push("expires="+new Date(t).toGMTString()),Fe.isString(n)&&a.push("path="+n),Fe.isString(r)&&a.push("domain="+r),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(i){const e=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function kF(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function EF(i,e){return e?i.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):i}function qT(i,e,t){let n=!kF(e);return i&&(n||t==!1)?EF(i,e):e}const Lk=i=>i instanceof ga?{...i}:i;function qp(i,e){e=e||{};const t={};function n(h,d,p,y){return Fe.isPlainObject(h)&&Fe.isPlainObject(d)?Fe.merge.call({caseless:y},h,d):Fe.isPlainObject(d)?Fe.merge({},d):Fe.isArray(d)?d.slice():d}function r(h,d,p,y){if(Fe.isUndefined(d)){if(!Fe.isUndefined(h))return n(void 0,h,p,y)}else return n(h,d,p,y)}function s(h,d){if(!Fe.isUndefined(d))return n(void 0,d)}function a(h,d){if(Fe.isUndefined(d)){if(!Fe.isUndefined(h))return n(void 0,h)}else return n(void 0,d)}function o(h,d,p){if(p in e)return n(h,d);if(p in i)return n(void 0,h)}const c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(h,d,p)=>r(Lk(h),Lk(d),p,!0)};return Fe.forEach(Object.keys(Object.assign({},i,e)),function(d){const p=c[d]||r,y=p(i[d],e[d],d);Fe.isUndefined(y)&&p!==o||(t[d]=y)}),t}const HT=i=>{const e=qp({},i);let{data:t,withXSRFToken:n,xsrfHeaderName:r,xsrfCookieName:s,headers:a,auth:o}=e;e.headers=a=ga.from(a),e.url=DT(qT(e.baseURL,e.url,e.allowAbsoluteUrls),i.params,i.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let c;if(Fe.isFormData(t)){if(hs.hasStandardBrowserEnv||hs.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((c=a.getContentType())!==!1){const[h,...d]=c?c.split(";").map(p=>p.trim()).filter(Boolean):[];a.setContentType([h||"multipart/form-data",...d].join("; "))}}if(hs.hasStandardBrowserEnv&&(n&&Fe.isFunction(n)&&(n=n(e)),n||n!==!1&&AF(e.url))){const h=r&&s&&CF.read(s);h&&a.set(r,h)}return e},PF=typeof XMLHttpRequest<"u",TF=PF&&function(i){return new Promise(function(t,n){const r=HT(i);let s=r.data;const a=ga.from(r.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:h}=r,d,p,y,v,x;function w(){v&&v(),x&&x(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let C=new XMLHttpRequest;C.open(r.method.toUpperCase(),r.url,!0),C.timeout=r.timeout;function S(){if(!C)return;const R=ga.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),O={data:!o||o==="text"||o==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:R,config:i,request:C};UT(function(U){t(U),w()},function(U){n(U),w()},O),C=null}"onloadend"in C?C.onloadend=S:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(S)},C.onabort=function(){C&&(n(new Vt("Request aborted",Vt.ECONNABORTED,i,C)),C=null)},C.onerror=function(){n(new Vt("Network Error",Vt.ERR_NETWORK,i,C)),C=null},C.ontimeout=function(){let M=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const O=r.transitional||jT;r.timeoutErrorMessage&&(M=r.timeoutErrorMessage),n(new Vt(M,O.clarifyTimeoutError?Vt.ETIMEDOUT:Vt.ECONNABORTED,i,C)),C=null},s===void 0&&a.setContentType(null),"setRequestHeader"in C&&Fe.forEach(a.toJSON(),function(M,O){C.setRequestHeader(O,M)}),Fe.isUndefined(r.withCredentials)||(C.withCredentials=!!r.withCredentials),o&&o!=="json"&&(C.responseType=r.responseType),h&&([y,x]=Cb(h,!0),C.addEventListener("progress",y)),c&&C.upload&&([p,v]=Cb(c),C.upload.addEventListener("progress",p),C.upload.addEventListener("loadend",v)),(r.cancelToken||r.signal)&&(d=R=>{C&&(n(!R||R.type?new _0(null,i,C):R),C.abort(),C=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const P=wF(r.url);if(P&&hs.protocols.indexOf(P)===-1){n(new Vt("Unsupported protocol "+P+":",Vt.ERR_BAD_REQUEST,i));return}C.send(s||null)})},LF=(i,e)=>{const{length:t}=i=i?i.filter(Boolean):[];if(e||t){let n=new AbortController,r;const s=function(h){if(!r){r=!0,o();const d=h instanceof Error?h:this.reason;n.abort(d instanceof Vt?d:new _0(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,s(new Vt(`timeout ${e} of ms exceeded`,Vt.ETIMEDOUT))},e);const o=()=>{i&&(a&&clearTimeout(a),a=null,i.forEach(h=>{h.unsubscribe?h.unsubscribe(s):h.removeEventListener("abort",s)}),i=null)};i.forEach(h=>h.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>Fe.asap(o),c}},NF=function*(i,e){let t=i.byteLength;if(t<e){yield i;return}let n=0,r;for(;n<t;)r=n+e,yield i.slice(n,r),n=r},RF=async function*(i,e){for await(const t of IF(i))yield*NF(t,e)},IF=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const e=i.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},Nk=(i,e,t,n)=>{const r=RF(i,e);let s=0,a,o=c=>{a||(a=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:h,value:d}=await r.next();if(h){o(),c.close();return}let p=d.byteLength;if(t){let y=s+=p;t(y)}c.enqueue(new Uint8Array(d))}catch(h){throw o(h),h}},cancel(c){return o(c),r.return()}},{highWaterMark:2})},h_=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",$T=h_&&typeof ReadableStream=="function",MF=h_&&(typeof TextEncoder=="function"?(i=>e=>i.encode(e))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),VT=(i,...e)=>{try{return!!i(...e)}catch{return!1}},OF=$T&&VT(()=>{let i=!1;const e=new Request(hs.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!e}),Rk=64*1024,Ex=$T&&VT(()=>Fe.isReadableStream(new Response("").body)),kb={stream:Ex&&(i=>i.body)};h_&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!kb[e]&&(kb[e]=Fe.isFunction(i[e])?t=>t[e]():(t,n)=>{throw new Vt(`Response type '${e}' is not supported`,Vt.ERR_NOT_SUPPORT,n)})})})(new Response);const FF=async i=>{if(i==null)return 0;if(Fe.isBlob(i))return i.size;if(Fe.isSpecCompliantForm(i))return(await new Request(hs.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if(Fe.isArrayBufferView(i)||Fe.isArrayBuffer(i))return i.byteLength;if(Fe.isURLSearchParams(i)&&(i=i+""),Fe.isString(i))return(await MF(i)).byteLength},DF=async(i,e)=>{const t=Fe.toFiniteNumber(i.getContentLength());return t??FF(e)},jF=h_&&(async i=>{let{url:e,method:t,data:n,signal:r,cancelToken:s,timeout:a,onDownloadProgress:o,onUploadProgress:c,responseType:h,headers:d,withCredentials:p="same-origin",fetchOptions:y}=HT(i);h=h?(h+"").toLowerCase():"text";let v=LF([r,s&&s.toAbortSignal()],a),x;const w=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let C;try{if(c&&OF&&t!=="get"&&t!=="head"&&(C=await DF(d,n))!==0){let O=new Request(e,{method:"POST",body:n,duplex:"half"}),$;if(Fe.isFormData(n)&&($=O.headers.get("content-type"))&&d.setContentType($),O.body){const[U,D]=Pk(C,Cb(Tk(c)));n=Nk(O.body,Rk,U,D)}}Fe.isString(p)||(p=p?"include":"omit");const S="credentials"in Request.prototype;x=new Request(e,{...y,signal:v,method:t.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:S?p:void 0});let P=await fetch(x);const R=Ex&&(h==="stream"||h==="response");if(Ex&&(o||R&&w)){const O={};["status","statusText","headers"].forEach(Q=>{O[Q]=P[Q]});const $=Fe.toFiniteNumber(P.headers.get("content-length")),[U,D]=o&&Pk($,Cb(Tk(o),!0))||[];P=new Response(Nk(P.body,Rk,U,()=>{D&&D(),w&&w()}),O)}h=h||"text";let M=await kb[Fe.findKey(kb,h)||"text"](P,i);return!R&&w&&w(),await new Promise((O,$)=>{UT(O,$,{data:M,headers:ga.from(P.headers),status:P.status,statusText:P.statusText,config:i,request:x})})}catch(S){throw w&&w(),S&&S.name==="TypeError"&&/fetch/i.test(S.message)?Object.assign(new Vt("Network Error",Vt.ERR_NETWORK,i,x),{cause:S.cause||S}):Vt.from(S,S&&S.code,i,x)}}),Px={http:Z7,xhr:TF,fetch:jF};Fe.forEach(Px,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const Ik=i=>`- ${i}`,BF=i=>Fe.isFunction(i)||i===null||i===!1,WT={getAdapter:i=>{i=Fe.isArray(i)?i:[i];const{length:e}=i;let t,n;const r={};for(let s=0;s<e;s++){t=i[s];let a;if(n=t,!BF(t)&&(n=Px[(a=String(t)).toLowerCase()],n===void 0))throw new Vt(`Unknown adapter '${a}'`);if(n)break;r[a||"#"+s]=n}if(!n){const s=Object.entries(r).map(([o,c])=>`adapter ${o} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?`since :
`+s.map(Ik).join(`
`):" "+Ik(s[0]):"as no adapter specified";throw new Vt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:Px};function Ow(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new _0(null,i)}function Mk(i){return Ow(i),i.headers=ga.from(i.headers),i.data=Mw.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),WT.getAdapter(i.adapter||hv.adapter)(i).then(function(n){return Ow(i),n.data=Mw.call(i,i.transformResponse,n),n.headers=ga.from(n.headers),n},function(n){return zT(n)||(Ow(i),n&&n.response&&(n.response.data=Mw.call(i,i.transformResponse,n.response),n.response.headers=ga.from(n.response.headers))),Promise.reject(n)})}const GT="1.8.4",d_={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{d_[i]=function(n){return typeof n===i||"a"+(e<1?"n ":" ")+i}});const Ok={};d_.transitional=function(e,t,n){function r(s,a){return"[Axios v"+GT+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(e===!1)throw new Vt(r(a," has been removed"+(t?" in "+t:"")),Vt.ERR_DEPRECATED);return t&&!Ok[a]&&(Ok[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,a,o):!0}};d_.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function zF(i,e,t){if(typeof i!="object")throw new Vt("options must be an object",Vt.ERR_BAD_OPTION_VALUE);const n=Object.keys(i);let r=n.length;for(;r-- >0;){const s=n[r],a=e[s];if(a){const o=i[s],c=o===void 0||a(o,s,i);if(c!==!0)throw new Vt("option "+s+" must be "+c,Vt.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Vt("Unknown option "+s,Vt.ERR_BAD_OPTION)}}const x2={assertOptions:zF,validators:d_},Yl=x2.validators;let jp=class{constructor(e){this.defaults=e,this.interceptors={request:new kk,response:new kk}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=qp(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:s}=t;n!==void 0&&x2.assertOptions(n,{silentJSONParsing:Yl.transitional(Yl.boolean),forcedJSONParsing:Yl.transitional(Yl.boolean),clarifyTimeoutError:Yl.transitional(Yl.boolean)},!1),r!=null&&(Fe.isFunction(r)?t.paramsSerializer={serialize:r}:x2.assertOptions(r,{encode:Yl.function,serialize:Yl.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),x2.assertOptions(t,{baseUrl:Yl.spelling("baseURL"),withXsrfToken:Yl.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=s&&Fe.merge(s.common,s[t.method]);s&&Fe.forEach(["delete","get","head","post","put","patch","common"],x=>{delete s[x]}),t.headers=ga.concat(a,s);const o=[];let c=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(t)===!1||(c=c&&w.synchronous,o.unshift(w.fulfilled,w.rejected))});const h=[];this.interceptors.response.forEach(function(w){h.push(w.fulfilled,w.rejected)});let d,p=0,y;if(!c){const x=[Mk.bind(this),void 0];for(x.unshift.apply(x,o),x.push.apply(x,h),y=x.length,d=Promise.resolve(t);p<y;)d=d.then(x[p++],x[p++]);return d}y=o.length;let v=t;for(p=0;p<y;){const x=o[p++],w=o[p++];try{v=x(v)}catch(C){w.call(this,C);break}}try{d=Mk.call(this,v)}catch(x){return Promise.reject(x)}for(p=0,y=h.length;p<y;)d=d.then(h[p++],h[p++]);return d}getUri(e){e=qp(this.defaults,e);const t=qT(e.baseURL,e.url,e.allowAbsoluteUrls);return DT(t,e.params,e.paramsSerializer)}};Fe.forEach(["delete","get","head","options"],function(e){jp.prototype[e]=function(t,n){return this.request(qp(n||{},{method:e,url:t,data:(n||{}).data}))}});Fe.forEach(["post","put","patch"],function(e){function t(n){return function(s,a,o){return this.request(qp(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}jp.prototype[e]=t(),jp.prototype[e+"Form"]=t(!0)});let UF=class YT{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const n=this;this.promise.then(r=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](r);n._listeners=null}),this.promise.then=r=>{let s;const a=new Promise(o=>{n.subscribe(o),s=o}).then(r);return a.cancel=function(){n.unsubscribe(s)},a},e(function(s,a,o){n.reason||(n.reason=new _0(s,a,o),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new YT(function(r){e=r}),cancel:e}}};function qF(i){return function(t){return i.apply(null,t)}}function HF(i){return Fe.isObject(i)&&i.isAxiosError===!0}const Tx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Tx).forEach(([i,e])=>{Tx[e]=i});function XT(i){const e=new jp(i),t=kT(jp.prototype.request,e);return Fe.extend(t,jp.prototype,e,{allOwnKeys:!0}),Fe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return XT(qp(i,r))},t}const Dr=XT(hv);Dr.Axios=jp;Dr.CanceledError=_0;Dr.CancelToken=UF;Dr.isCancel=zT;Dr.VERSION=GT;Dr.toFormData=u_;Dr.AxiosError=Vt;Dr.Cancel=Dr.CanceledError;Dr.all=function(e){return Promise.all(e)};Dr.spread=qF;Dr.isAxiosError=HF;Dr.mergeConfig=qp;Dr.AxiosHeaders=ga;Dr.formToJSON=i=>BT(Fe.isHTMLForm(i)?new FormData(i):i);Dr.getAdapter=WT.getAdapter;Dr.HttpStatusCode=Tx;Dr.default=Dr;const{Axios:uq,AxiosError:hq,CanceledError:dq,isCancel:fq,CancelToken:pq,VERSION:mq,all:gq,Cancel:yq,isAxiosError:vq,spread:bq,toFormData:_q,AxiosHeaders:wq,HttpStatusCode:xq,formToJSON:Sq,getAdapter:Aq,mergeConfig:Cq}=Dr,Bn=Dr.create({baseURL:"http://localhost:3000/api",withCredentials:!0});let $F={data:""},VF=i=>typeof window=="object"?((i?i.querySelector("#_goober"):window._goober)||Object.assign((i||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:i||$F,WF=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,GF=/\/\*[^]*?\*\/|  +/g,Fk=/\n+/g,Gh=(i,e)=>{let t="",n="",r="";for(let s in i){let a=i[s];s[0]=="@"?s[1]=="i"?t=s+" "+a+";":n+=s[1]=="f"?Gh(a,s):s+"{"+Gh(a,s[1]=="k"?"":e)+"}":typeof a=="object"?n+=Gh(a,e?e.replace(/([^,])+/g,o=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):s):a!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=Gh.p?Gh.p(s,a):s+":"+a+";")}return t+(e&&r?e+"{"+r+"}":r)+n},ou={},KT=i=>{if(typeof i=="object"){let e="";for(let t in i)e+=t+KT(i[t]);return e}return i},YF=(i,e,t,n,r)=>{let s=KT(i),a=ou[s]||(ou[s]=(c=>{let h=0,d=11;for(;h<c.length;)d=101*d+c.charCodeAt(h++)>>>0;return"go"+d})(s));if(!ou[a]){let c=s!==i?i:(h=>{let d,p,y=[{}];for(;d=WF.exec(h.replace(GF,""));)d[4]?y.shift():d[3]?(p=d[3].replace(Fk," ").trim(),y.unshift(y[0][p]=y[0][p]||{})):y[0][d[1]]=d[2].replace(Fk," ").trim();return y[0]})(i);ou[a]=Gh(r?{["@keyframes "+a]:c}:c,t?"":"."+a)}let o=t&&ou.g?ou.g:null;return t&&(ou.g=ou[a]),((c,h,d,p)=>{p?h.data=h.data.replace(p,c):h.data.indexOf(c)===-1&&(h.data=d?c+h.data:h.data+c)})(ou[a],e,n,o),a},XF=(i,e,t)=>i.reduce((n,r,s)=>{let a=e[s];if(a&&a.call){let o=a(t),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=c?"."+c:o&&typeof o=="object"?o.props?"":Gh(o,""):o===!1?"":o}return n+r+(a??"")},"");function f_(i){let e=this||{},t=i.call?i(e.p):i;return YF(t.unshift?t.raw?XF(t,[].slice.call(arguments,1),e.p):t.reduce((n,r)=>Object.assign(n,r&&r.call?r(e.p):r),{}):t,VF(e.target),e.g,e.o,e.k)}let JT,Lx,Nx;f_.bind({g:1});let Yu=f_.bind({k:1});function KF(i,e,t,n){Gh.p=e,JT=i,Lx=t,Nx=n}function zd(i,e){let t=this||{};return function(){let n=arguments;function r(s,a){let o=Object.assign({},s),c=o.className||r.className;t.p=Object.assign({theme:Lx&&Lx()},o),t.o=/ *go\d+/.test(c),o.className=f_.apply(t,n)+(c?" "+c:"");let h=i;return i[0]&&(h=o.as||i,delete o.as),Nx&&h[0]&&Nx(o),JT(h,o)}return r}}var JF=i=>typeof i=="function",Eb=(i,e)=>JF(i)?i(e):i,QF=(()=>{let i=0;return()=>(++i).toString()})(),QT=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");i=!e||e.matches}return i}})(),ZF=20,ZT=(i,e)=>{switch(e.type){case 0:return{...i,toasts:[e.toast,...i.toasts].slice(0,ZF)};case 1:return{...i,toasts:i.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:t}=e;return ZT(i,{type:i.toasts.find(s=>s.id===t.id)?1:0,toast:t});case 3:let{toastId:n}=e;return{...i,toasts:i.toasts.map(s=>s.id===n||n===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...i,pausedAt:e.time};case 6:let r=e.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+r}))}}},S2=[],A2={toasts:[],pausedAt:void 0},Kp=i=>{A2=ZT(A2,i),S2.forEach(e=>{e(A2)})},eD={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},tD=(i={})=>{let[e,t]=te.useState(A2);te.useEffect(()=>(S2.push(t),()=>{let r=S2.indexOf(t);r>-1&&S2.splice(r,1)}),[e]);let n=e.toasts.map(r=>{var s,a,o;return{...i,...i[r.type],...r,removeDelay:r.removeDelay||((s=i[r.type])==null?void 0:s.removeDelay)||(i==null?void 0:i.removeDelay),duration:r.duration||((a=i[r.type])==null?void 0:a.duration)||(i==null?void 0:i.duration)||eD[r.type],style:{...i.style,...(o=i[r.type])==null?void 0:o.style,...r.style}}});return{...e,toasts:n}},nD=(i,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...t,id:(t==null?void 0:t.id)||QF()}),dv=i=>(e,t)=>{let n=nD(e,i,t);return Kp({type:2,toast:n}),n.id},Ms=(i,e)=>dv("blank")(i,e);Ms.error=dv("error");Ms.success=dv("success");Ms.loading=dv("loading");Ms.custom=dv("custom");Ms.dismiss=i=>{Kp({type:3,toastId:i})};Ms.remove=i=>Kp({type:4,toastId:i});Ms.promise=(i,e,t)=>{let n=Ms.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof i=="function"&&(i=i()),i.then(r=>{let s=e.success?Eb(e.success,r):void 0;return s?Ms.success(s,{id:n,...t,...t==null?void 0:t.success}):Ms.dismiss(n),r}).catch(r=>{let s=e.error?Eb(e.error,r):void 0;s?Ms.error(s,{id:n,...t,...t==null?void 0:t.error}):Ms.dismiss(n)}),i};var rD=(i,e)=>{Kp({type:1,toast:{id:i,height:e}})},iD=()=>{Kp({type:5,time:Date.now()})},A1=new Map,sD=1e3,aD=(i,e=sD)=>{if(A1.has(i))return;let t=setTimeout(()=>{A1.delete(i),Kp({type:4,toastId:i})},e);A1.set(i,t)},oD=i=>{let{toasts:e,pausedAt:t}=tD(i);te.useEffect(()=>{if(t)return;let s=Date.now(),a=e.map(o=>{if(o.duration===1/0)return;let c=(o.duration||0)+o.pauseDuration-(s-o.createdAt);if(c<0){o.visible&&Ms.dismiss(o.id);return}return setTimeout(()=>Ms.dismiss(o.id),c)});return()=>{a.forEach(o=>o&&clearTimeout(o))}},[e,t]);let n=te.useCallback(()=>{t&&Kp({type:6,time:Date.now()})},[t]),r=te.useCallback((s,a)=>{let{reverseOrder:o=!1,gutter:c=8,defaultPosition:h}=a||{},d=e.filter(v=>(v.position||h)===(s.position||h)&&v.height),p=d.findIndex(v=>v.id===s.id),y=d.filter((v,x)=>x<p&&v.visible).length;return d.filter(v=>v.visible).slice(...o?[y+1]:[0,y]).reduce((v,x)=>v+(x.height||0)+c,0)},[e]);return te.useEffect(()=>{e.forEach(s=>{if(s.dismissed)aD(s.id,s.removeDelay);else{let a=A1.get(s.id);a&&(clearTimeout(a),A1.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:rD,startPause:iD,endPause:n,calculateOffset:r}}},lD=Yu`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,cD=Yu`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,uD=Yu`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,hD=zd("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${lD} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${cD} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${uD} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,dD=Yu`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,fD=zd("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${dD} 1s linear infinite;
`,pD=Yu`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,mD=Yu`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,gD=zd("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pD} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${mD} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,yD=zd("div")`
  position: absolute;
`,vD=zd("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,bD=Yu`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_D=zd("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${bD} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,wD=({toast:i})=>{let{icon:e,type:t,iconTheme:n}=i;return e!==void 0?typeof e=="string"?te.createElement(_D,null,e):e:t==="blank"?null:te.createElement(vD,null,te.createElement(fD,{...n}),t!=="loading"&&te.createElement(yD,null,t==="error"?te.createElement(hD,{...n}):te.createElement(gD,{...n})))},xD=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,SD=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,AD="0%{opacity:0;} 100%{opacity:1;}",CD="0%{opacity:1;} 100%{opacity:0;}",kD=zd("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ED=zd("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,PD=(i,e)=>{let t=i.includes("top")?1:-1,[n,r]=QT()?[AD,CD]:[xD(t),SD(t)];return{animation:e?`${Yu(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Yu(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},TD=te.memo(({toast:i,position:e,style:t,children:n})=>{let r=i.height?PD(i.position||e||"top-center",i.visible):{opacity:0},s=te.createElement(wD,{toast:i}),a=te.createElement(ED,{...i.ariaProps},Eb(i.message,i));return te.createElement(kD,{className:i.className,style:{...r,...t,...i.style}},typeof n=="function"?n({icon:s,message:a}):te.createElement(te.Fragment,null,s,a))});KF(te.createElement);var LD=({id:i,className:e,style:t,onHeightUpdate:n,children:r})=>{let s=te.useCallback(a=>{if(a){let o=()=>{let c=a.getBoundingClientRect().height;n(i,c)};o(),new MutationObserver(o).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[i,n]);return te.createElement("div",{ref:s,className:e,style:t},r)},ND=(i,e)=>{let t=i.includes("top"),n=t?{top:0}:{bottom:0},r=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:QT()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...n,...r}},RD=f_`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,n2=16,ID=({reverseOrder:i,position:e="top-center",toastOptions:t,gutter:n,children:r,containerStyle:s,containerClassName:a})=>{let{toasts:o,handlers:c}=oD(t);return te.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:n2,left:n2,right:n2,bottom:n2,pointerEvents:"none",...s},className:a,onMouseEnter:c.startPause,onMouseLeave:c.endPause},o.map(h=>{let d=h.position||e,p=c.calculateOffset(h,{reverseOrder:i,gutter:n,defaultPosition:e}),y=ND(d,p);return te.createElement(LD,{id:h.id,key:h.id,onHeightUpdate:c.updateHeight,className:h.visible?RD:"",style:y},h.type==="custom"?Eb(h.message,h):r?r(h):te.createElement(TD,{toast:h,position:d}))}))},Zt=Ms;const Cc=Object.create(null);Cc.open="0";Cc.close="1";Cc.ping="2";Cc.pong="3";Cc.message="4";Cc.upgrade="5";Cc.noop="6";const C2=Object.create(null);Object.keys(Cc).forEach(i=>{C2[Cc[i]]=i});const Rx={type:"error",data:"parser error"},eL=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",tL=typeof ArrayBuffer=="function",nL=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer,aA=({type:i,data:e},t,n)=>eL&&e instanceof Blob?t?n(e):Dk(e,n):tL&&(e instanceof ArrayBuffer||nL(e))?t?n(e):Dk(new Blob([e]),n):n(Cc[i]+(e||"")),Dk=(i,e)=>{const t=new FileReader;return t.onload=function(){const n=t.result.split(",")[1];e("b"+(n||""))},t.readAsDataURL(i)};function jk(i){return i instanceof Uint8Array?i:i instanceof ArrayBuffer?new Uint8Array(i):new Uint8Array(i.buffer,i.byteOffset,i.byteLength)}let Fw;function MD(i,e){if(eL&&i.data instanceof Blob)return i.data.arrayBuffer().then(jk).then(e);if(tL&&(i.data instanceof ArrayBuffer||nL(i.data)))return e(jk(i.data));aA(i,!1,t=>{Fw||(Fw=new TextEncoder),e(Fw.encode(t))})}const Bk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let i=0;i<Bk.length;i++)i1[Bk.charCodeAt(i)]=i;const OD=i=>{let e=i.length*.75,t=i.length,n,r=0,s,a,o,c;i[i.length-1]==="="&&(e--,i[i.length-2]==="="&&e--);const h=new ArrayBuffer(e),d=new Uint8Array(h);for(n=0;n<t;n+=4)s=i1[i.charCodeAt(n)],a=i1[i.charCodeAt(n+1)],o=i1[i.charCodeAt(n+2)],c=i1[i.charCodeAt(n+3)],d[r++]=s<<2|a>>4,d[r++]=(a&15)<<4|o>>2,d[r++]=(o&3)<<6|c&63;return h},FD=typeof ArrayBuffer=="function",oA=(i,e)=>{if(typeof i!="string")return{type:"message",data:rL(i,e)};const t=i.charAt(0);return t==="b"?{type:"message",data:DD(i.substring(1),e)}:C2[t]?i.length>1?{type:C2[t],data:i.substring(1)}:{type:C2[t]}:Rx},DD=(i,e)=>{if(FD){const t=OD(i);return rL(t,e)}else return{base64:!0,data:i}},rL=(i,e)=>{switch(e){case"blob":return i instanceof Blob?i:new Blob([i]);case"arraybuffer":default:return i instanceof ArrayBuffer?i:i.buffer}},iL="",jD=(i,e)=>{const t=i.length,n=new Array(t);let r=0;i.forEach((s,a)=>{aA(s,!1,o=>{n[a]=o,++r===t&&e(n.join(iL))})})},BD=(i,e)=>{const t=i.split(iL),n=[];for(let r=0;r<t.length;r++){const s=oA(t[r],e);if(n.push(s),s.type==="error")break}return n};function zD(){return new TransformStream({transform(i,e){MD(i,t=>{const n=t.length;let r;if(n<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,n);else if(n<65536){r=new Uint8Array(3);const s=new DataView(r.buffer);s.setUint8(0,126),s.setUint16(1,n)}else{r=new Uint8Array(9);const s=new DataView(r.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(n))}i.data&&typeof i.data!="string"&&(r[0]|=128),e.enqueue(r),e.enqueue(t)})}})}let Dw;function r2(i){return i.reduce((e,t)=>e+t.length,0)}function i2(i,e){if(i[0].length===e)return i.shift();const t=new Uint8Array(e);let n=0;for(let r=0;r<e;r++)t[r]=i[0][n++],n===i[0].length&&(i.shift(),n=0);return i.length&&n<i[0].length&&(i[0]=i[0].slice(n)),t}function UD(i,e){Dw||(Dw=new TextDecoder);const t=[];let n=0,r=-1,s=!1;return new TransformStream({transform(a,o){for(t.push(a);;){if(n===0){if(r2(t)<1)break;const c=i2(t,1);s=(c[0]&128)===128,r=c[0]&127,r<126?n=3:r===126?n=1:n=2}else if(n===1){if(r2(t)<2)break;const c=i2(t,2);r=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(r2(t)<8)break;const c=i2(t,8),h=new DataView(c.buffer,c.byteOffset,c.length),d=h.getUint32(0);if(d>Math.pow(2,21)-1){o.enqueue(Rx);break}r=d*Math.pow(2,32)+h.getUint32(4),n=3}else{if(r2(t)<r)break;const c=i2(t,r);o.enqueue(oA(s?c:Dw.decode(c),e)),n=0}if(r===0||r>i){o.enqueue(Rx);break}}}})}const sL=4;function Wr(i){if(i)return qD(i)}function qD(i){for(var e in Wr.prototype)i[e]=Wr.prototype[e];return i}Wr.prototype.on=Wr.prototype.addEventListener=function(i,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(e),this};Wr.prototype.once=function(i,e){function t(){this.off(i,t),e.apply(this,arguments)}return t.fn=e,this.on(i,t),this};Wr.prototype.off=Wr.prototype.removeListener=Wr.prototype.removeAllListeners=Wr.prototype.removeEventListener=function(i,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+i];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var n,r=0;r<t.length;r++)if(n=t[r],n===e||n.fn===e){t.splice(r,1);break}return t.length===0&&delete this._callbacks["$"+i],this};Wr.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+i],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(t){t=t.slice(0);for(var n=0,r=t.length;n<r;++n)t[n].apply(this,e)}return this};Wr.prototype.emitReserved=Wr.prototype.emit;Wr.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]};Wr.prototype.hasListeners=function(i){return!!this.listeners(i).length};const p_=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Ao=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),HD="arraybuffer";function aL(i,...e){return e.reduce((t,n)=>(i.hasOwnProperty(n)&&(t[n]=i[n]),t),{})}const $D=Ao.setTimeout,VD=Ao.clearTimeout;function m_(i,e){e.useNativeTimers?(i.setTimeoutFn=$D.bind(Ao),i.clearTimeoutFn=VD.bind(Ao)):(i.setTimeoutFn=Ao.setTimeout.bind(Ao),i.clearTimeoutFn=Ao.clearTimeout.bind(Ao))}const WD=1.33;function GD(i){return typeof i=="string"?YD(i):Math.ceil((i.byteLength||i.size)*WD)}function YD(i){let e=0,t=0;for(let n=0,r=i.length;n<r;n++)e=i.charCodeAt(n),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(n++,t+=4);return t}function oL(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function XD(i){let e="";for(let t in i)i.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(i[t]));return e}function KD(i){let e={},t=i.split("&");for(let n=0,r=t.length;n<r;n++){let s=t[n].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}class JD extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class lA extends Wr{constructor(e){super(),this.writable=!1,m_(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new JD(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=oA(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const t=XD(e);return t.length?"?"+t:""}}class QD extends lA{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||t()})),this.writable||(n++,this.once("drain",function(){--n||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};BD(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,jD(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=oL()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}let lL=!1;try{lL=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const ZD=lL;function ej(){}class tj extends QD{constructor(e){if(super(e),typeof location<"u"){const t=location.protocol==="https:";let n=location.port;n||(n=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(r,s)=>{this.onError("xhr post error",r,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,n)=>{this.onError("xhr poll error",t,n)}),this.pollXhr=e}}let eg=class k2 extends Wr{constructor(e,t,n){super(),this.createRequest=e,m_(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const t=aL(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let r in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(r)&&n.setRequestHeader(r,this._opts.extraHeaders[r])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var r;n.readyState===3&&((r=this._opts.cookieJar)===null||r===void 0||r.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(r){this.setTimeoutFn(()=>{this._onError(r)},0);return}typeof document<"u"&&(this._index=k2.requestsCount++,k2.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=ej,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete k2.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};eg.requestsCount=0;eg.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",zk);else if(typeof addEventListener=="function"){const i="onpagehide"in Ao?"pagehide":"unload";addEventListener(i,zk,!1)}}function zk(){for(let i in eg.requests)eg.requests.hasOwnProperty(i)&&eg.requests[i].abort()}const nj=function(){const i=cL({xdomain:!1});return i&&i.responseType!==null}();class rj extends tj{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=nj&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new eg(cL,this.uri(),e)}}function cL(i){const e=i.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||ZD))return new XMLHttpRequest}catch{}if(!e)try{return new Ao[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const uL=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class ij extends lA{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=uL?{}:aL(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;aA(n,this.supportsBinary,s=>{try{this.doWrite(n,s)}catch{}r&&p_(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=oL()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const jw=Ao.WebSocket||Ao.MozWebSocket;class sj extends ij{createSocket(e,t,n){return uL?new jw(e,t,n):t?new jw(e,t):new jw(e)}doWrite(e,t){this.ws.send(t)}}class aj extends lA{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=UD(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=zD();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const s=()=>{n.read().then(({done:o,value:c})=>{o||(this.onPacket(c),s())}).catch(o=>{})};s();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this._writer.write(n).then(()=>{r&&p_(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const oj={websocket:sj,webtransport:aj,polling:rj},lj=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,cj=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ix(i){if(i.length>8e3)throw"URI too long";const e=i,t=i.indexOf("["),n=i.indexOf("]");t!=-1&&n!=-1&&(i=i.substring(0,t)+i.substring(t,n).replace(/:/g,";")+i.substring(n,i.length));let r=lj.exec(i||""),s={},a=14;for(;a--;)s[cj[a]]=r[a]||"";return t!=-1&&n!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=uj(s,s.path),s.queryKey=hj(s,s.query),s}function uj(i,e){const t=/\/{2,9}/g,n=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function hj(i,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,r,s){r&&(t[r]=s)}),t}const Mx=typeof addEventListener=="function"&&typeof removeEventListener=="function",E2=[];Mx&&addEventListener("offline",()=>{E2.forEach(i=>i())},!1);class Td extends Wr{constructor(e,t){if(super(),this.binaryType=HD,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(t=e,e=null),e){const n=Ix(e);t.hostname=n.host,t.secure=n.protocol==="https"||n.protocol==="wss",t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=Ix(t.host).host);m_(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(n=>{const r=n.prototype.name;this.transports.push(r),this._transportsByName[r]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=KD(this.opts.query)),Mx&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},E2.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=sL,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Td.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",Td.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(t+=GD(r)),n>0&&t>this._maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,p_(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){if(typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const s={type:e,data:t,options:n};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(Td.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Mx&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=E2.indexOf(this._offlineEventListener);n!==-1&&E2.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}Td.protocol=sL;class dj extends Td{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;Td.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",p=>{if(!n)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Td.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=t.name,this.emitReserved("upgradeError",y)}}))};function s(){n||(n=!0,d(),t.close(),t=null)}const a=p=>{const y=new Error("probe error: "+p);y.transport=t.name,s(),this.emitReserved("upgradeError",y)};function o(){a("transport closed")}function c(){a("socket closed")}function h(p){t&&p.name!==t.name&&s()}const d=()=>{t.removeListener("open",r),t.removeListener("error",a),t.removeListener("close",o),this.off("close",c),this.off("upgrading",h)};t.once("open",r),t.once("error",a),t.once("close",o),this.once("close",c),this.once("upgrading",h),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}let fj=class extends dj{constructor(e,t={}){const n=typeof e=="object"?e:t;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(r=>oj[r]).filter(r=>!!r)),super(e,n)}};function pj(i,e="",t){let n=i;t=t||typeof location<"u"&&location,i==null&&(i=t.protocol+"//"+t.host),typeof i=="string"&&(i.charAt(0)==="/"&&(i.charAt(1)==="/"?i=t.protocol+i:i=t.host+i),/^(https?|wss?):\/\//.test(i)||(typeof t<"u"?i=t.protocol+"//"+i:i="https://"+i),n=Ix(i)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const s=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port+e,n.href=n.protocol+"://"+s+(t&&t.port===n.port?"":":"+n.port),n}const mj=typeof ArrayBuffer=="function",gj=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i.buffer instanceof ArrayBuffer,hL=Object.prototype.toString,yj=typeof Blob=="function"||typeof Blob<"u"&&hL.call(Blob)==="[object BlobConstructor]",vj=typeof File=="function"||typeof File<"u"&&hL.call(File)==="[object FileConstructor]";function cA(i){return mj&&(i instanceof ArrayBuffer||gj(i))||yj&&i instanceof Blob||vj&&i instanceof File}function P2(i,e){if(!i||typeof i!="object")return!1;if(Array.isArray(i)){for(let t=0,n=i.length;t<n;t++)if(P2(i[t]))return!0;return!1}if(cA(i))return!0;if(i.toJSON&&typeof i.toJSON=="function"&&arguments.length===1)return P2(i.toJSON(),!0);for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t)&&P2(i[t]))return!0;return!1}function bj(i){const e=[],t=i.data,n=i;return n.data=Ox(t,e),n.attachments=e.length,{packet:n,buffers:e}}function Ox(i,e){if(!i)return i;if(cA(i)){const t={_placeholder:!0,num:e.length};return e.push(i),t}else if(Array.isArray(i)){const t=new Array(i.length);for(let n=0;n<i.length;n++)t[n]=Ox(i[n],e);return t}else if(typeof i=="object"&&!(i instanceof Date)){const t={};for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=Ox(i[n],e));return t}return i}function _j(i,e){return i.data=Fx(i.data,e),delete i.attachments,i}function Fx(i,e){if(!i)return i;if(i&&i._placeholder===!0){if(typeof i.num=="number"&&i.num>=0&&i.num<e.length)return e[i.num];throw new Error("illegal attachments")}else if(Array.isArray(i))for(let t=0;t<i.length;t++)i[t]=Fx(i[t],e);else if(typeof i=="object")for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&(i[t]=Fx(i[t],e));return i}const wj=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],xj=5;var sn;(function(i){i[i.CONNECT=0]="CONNECT",i[i.DISCONNECT=1]="DISCONNECT",i[i.EVENT=2]="EVENT",i[i.ACK=3]="ACK",i[i.CONNECT_ERROR=4]="CONNECT_ERROR",i[i.BINARY_EVENT=5]="BINARY_EVENT",i[i.BINARY_ACK=6]="BINARY_ACK"})(sn||(sn={}));class Sj{constructor(e){this.replacer=e}encode(e){return(e.type===sn.EVENT||e.type===sn.ACK)&&P2(e)?this.encodeAsBinary({type:e.type===sn.EVENT?sn.BINARY_EVENT:sn.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===sn.BINARY_EVENT||e.type===sn.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=bj(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function Uk(i){return Object.prototype.toString.call(i)==="[object Object]"}class uA extends Wr{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===sn.BINARY_EVENT;n||t.type===sn.BINARY_ACK?(t.type=n?sn.EVENT:sn.ACK,this.reconstructor=new Aj(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(cA(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(sn[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===sn.BINARY_EVENT||n.type===sn.BINARY_ACK){const s=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const a=e.substring(s,t);if(a!=Number(a)||e.charAt(t)!=="-")throw new Error("Illegal attachments");n.attachments=Number(a)}if(e.charAt(t+1)==="/"){const s=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););n.nsp=e.substring(s,t)}else n.nsp="/";const r=e.charAt(t+1);if(r!==""&&Number(r)==r){const s=t+1;for(;++t;){const a=e.charAt(t);if(a==null||Number(a)!=a){--t;break}if(t===e.length)break}n.id=Number(e.substring(s,t+1))}if(e.charAt(++t)){const s=this.tryParse(e.substr(t));if(uA.isPayloadValid(n.type,s))n.data=s;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case sn.CONNECT:return Uk(t);case sn.DISCONNECT:return t===void 0;case sn.CONNECT_ERROR:return typeof t=="string"||Uk(t);case sn.EVENT:case sn.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&wj.indexOf(t[0])===-1);case sn.ACK:case sn.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Aj{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=_j(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Cj=Object.freeze(Object.defineProperty({__proto__:null,Decoder:uA,Encoder:Sj,get PacketType(){return sn},protocol:xj},Symbol.toStringTag,{value:"Module"}));function yl(i,e,t){return i.on(e,t),function(){i.off(e,t)}}const kj=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class dL extends Wr{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[yl(e,"open",this.onopen.bind(this)),yl(e,"packet",this.onpacket.bind(this)),yl(e,"error",this.onerror.bind(this)),yl(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var n,r,s;if(kj.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const a={type:sn.EVENT,data:t};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const d=this.ids++,p=t.pop();this._registerAckCallback(d,p),a.id=d}const o=(r=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||r===void 0?void 0:r.writable,c=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!o||(c?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,t){var n;const r=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(r===void 0){this.acks[e]=t;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);t.call(this,new Error("operation has timed out"))},r),a=(...o)=>{this.io.clearTimeoutFn(s),t.apply(this,o)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...t){return new Promise((n,r)=>{const s=(a,o)=>a?r(a):n(o);s.withError=!0,t.push(s),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((r,...s)=>n!==this._queue[0]?void 0:(r!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(r)):(this._queue.shift(),t&&t(null,...s)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:sn.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case sn.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case sn.EVENT:case sn.BINARY_EVENT:this.onevent(e);break;case sn.ACK:case sn.BINARY_ACK:this.onack(e);break;case sn.DISCONNECT:this.ondisconnect();break;case sn.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(...r){n||(n=!0,t.packet({type:sn.ACK,id:e,data:r}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:sn.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function w0(i){i=i||{},this.ms=i.min||100,this.max=i.max||1e4,this.factor=i.factor||2,this.jitter=i.jitter>0&&i.jitter<=1?i.jitter:0,this.attempts=0}w0.prototype.duration=function(){var i=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*i);i=(Math.floor(e*10)&1)==0?i-t:i+t}return Math.min(i,this.max)|0};w0.prototype.reset=function(){this.attempts=0};w0.prototype.setMin=function(i){this.ms=i};w0.prototype.setMax=function(i){this.max=i};w0.prototype.setJitter=function(i){this.jitter=i};class Dx extends Wr{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,m_(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((n=t.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new w0({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const r=t.parser||Cj;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new fj(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=yl(t,"open",function(){n.onopen(),e&&e()}),s=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),e?e(o):this.maybeReconnectOnOpen()},a=yl(t,"error",s);if(this._timeout!==!1){const o=this._timeout,c=this.setTimeoutFn(()=>{r(),s(new Error("timeout")),t.close()},o);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(r),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(yl(e,"ping",this.onping.bind(this)),yl(e,"data",this.ondata.bind(this)),yl(e,"error",this.onerror.bind(this)),yl(e,"close",this.onclose.bind(this)),yl(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){p_(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new dL(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t)if(this.nsps[n].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(r=>{r?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",r)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const X0={};function T2(i,e){typeof i=="object"&&(e=i,i=void 0),e=e||{};const t=pj(i,e.path||"/socket.io"),n=t.source,r=t.id,s=t.path,a=X0[r]&&s in X0[r].nsps,o=e.forceNew||e["force new connection"]||e.multiplex===!1||a;let c;return o?c=new Dx(n,e):(X0[r]||(X0[r]=new Dx(n,e)),c=X0[r]),t.query&&!e.query&&(e.query=t.queryKey),c.socket(t.path,e)}Object.assign(T2,{Manager:Dx,Socket:dL,io:T2,connect:T2});class Ej{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(e){this.flush(),this._parts.push(e)}append(e){this._pieces.push(e)}flush(){if(this._pieces.length>0){const e=new Uint8Array(this._pieces);this._parts.push(e),this._pieces=[]}}toArrayBuffer(){const e=[];for(const t of this._parts)e.push(t);return Pj(e).buffer}}function Pj(i){let e=0;for(const r of i)e+=r.byteLength;const t=new Uint8Array(e);let n=0;for(const r of i){const s=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);t.set(s,n),n+=r.byteLength}return t}function fL(i){return new Tj(i).unpack()}function pL(i){const e=new Lj,t=e.pack(i);return t instanceof Promise?t.then(()=>e.getBuffer()):e.getBuffer()}class Tj{constructor(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;let t;if((t=e^160)<=15)return this.unpack_raw(t);if((t=e^176)<=15)return this.unpack_string(t);if((t=e^144)<=15)return this.unpack_array(t);if((t=e^128)<=15)return this.unpack_map(t);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return t=this.unpack_uint16(),this.unpack_string(t);case 217:return t=this.unpack_uint32(),this.unpack_string(t);case 218:return t=this.unpack_uint16(),this.unpack_raw(t);case 219:return t=this.unpack_uint32(),this.unpack_raw(t);case 220:return t=this.unpack_uint16(),this.unpack_array(t);case 221:return t=this.unpack_uint32(),this.unpack_array(t);case 222:return t=this.unpack_uint16(),this.unpack_map(t);case 223:return t=this.unpack_uint32(),this.unpack_map(t)}}unpack_uint8(){const e=this.dataView[this.index]&255;return this.index++,e}unpack_uint16(){const e=this.read(2),t=(e[0]&255)*256+(e[1]&255);return this.index+=2,t}unpack_uint32(){const e=this.read(4),t=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,t}unpack_uint64(){const e=this.read(8),t=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,t}unpack_int8(){const e=this.unpack_uint8();return e<128?e:e-256}unpack_int16(){const e=this.unpack_uint16();return e<32768?e:e-65536}unpack_int32(){const e=this.unpack_uint32();return e<2**31?e:e-2**32}unpack_int64(){const e=this.unpack_uint64();return e<2**63?e:e-2**64}unpack_raw(e){if(this.length<this.index+e)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${e} ${this.length}`);const t=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,t}unpack_string(e){const t=this.read(e);let n=0,r="",s,a;for(;n<e;)s=t[n],s<160?(a=s,n++):(s^192)<32?(a=(s&31)<<6|t[n+1]&63,n+=2):(s^224)<16?(a=(s&15)<<12|(t[n+1]&63)<<6|t[n+2]&63,n+=3):(a=(s&7)<<18|(t[n+1]&63)<<12|(t[n+2]&63)<<6|t[n+3]&63,n+=4),r+=String.fromCodePoint(a);return this.index+=e,r}unpack_array(e){const t=new Array(e);for(let n=0;n<e;n++)t[n]=this.unpack();return t}unpack_map(e){const t={};for(let n=0;n<e;n++){const r=this.unpack();t[r]=this.unpack()}return t}unpack_float(){const e=this.unpack_uint32(),t=e>>31,n=(e>>23&255)-127,r=e&8388607|8388608;return(t===0?1:-1)*r*2**(n-23)}unpack_double(){const e=this.unpack_uint32(),t=this.unpack_uint32(),n=e>>31,r=(e>>20&2047)-1023,a=(e&1048575|1048576)*2**(r-20)+t*2**(r-52);return(n===0?1:-1)*a}read(e){const t=this.index;if(t+e<=this.length)return this.dataView.subarray(t,t+e);throw new Error("BinaryPackFailure: read index out of range")}}class Lj{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(e){if(typeof e=="string")this.pack_string(e);else if(typeof e=="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(typeof e=="boolean")e===!0?this._bufferBuilder.append(195):e===!1&&this._bufferBuilder.append(194);else if(e===void 0)this._bufferBuilder.append(192);else if(typeof e=="object")if(e===null)this._bufferBuilder.append(192);else{const t=e.constructor;if(e instanceof Array){const n=this.pack_array(e);if(n instanceof Promise)return n.then(()=>this._bufferBuilder.flush())}else if(e instanceof ArrayBuffer)this.pack_bin(new Uint8Array(e));else if("BYTES_PER_ELEMENT"in e){const n=e;this.pack_bin(new Uint8Array(n.buffer,n.byteOffset,n.byteLength))}else if(e instanceof Date)this.pack_string(e.toString());else{if(e instanceof Blob)return e.arrayBuffer().then(n=>{this.pack_bin(new Uint8Array(n)),this._bufferBuilder.flush()});if(t==Object||t.toString().startsWith("class")){const n=this.pack_object(e);if(n instanceof Promise)return n.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${t.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof e}" not yet supported`);this._bufferBuilder.flush()}pack_bin(e){const t=e.length;if(t<=15)this.pack_uint8(160+t);else if(t<=65535)this._bufferBuilder.append(218),this.pack_uint16(t);else if(t<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(t);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(e)}pack_string(e){const t=this._textEncoder.encode(e),n=t.length;if(n<=15)this.pack_uint8(176+n);else if(n<=65535)this._bufferBuilder.append(216),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(t)}pack_array(e){const t=e.length;if(t<=15)this.pack_uint8(144+t);else if(t<=65535)this._bufferBuilder.append(220),this.pack_uint16(t);else if(t<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(t);else throw new Error("Invalid length");const n=r=>{if(r<t){const s=this.pack(e[r]);return s instanceof Promise?s.then(()=>n(r+1)):n(r+1)}};return n(0)}pack_integer(e){if(e>=-32&&e<=127)this._bufferBuilder.append(e&255);else if(e>=0&&e<=255)this._bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this._bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this._bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this._bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this._bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")}pack_double(e){let t=0;e<0&&(t=1,e=-e);const n=Math.floor(Math.log(e)/Math.LN2),r=e/2**n-1,s=Math.floor(r*2**52),a=2**32,o=t<<31|n+1023<<20|s/a&1048575,c=s%a;this._bufferBuilder.append(203),this.pack_int32(o),this.pack_int32(c)}pack_object(e){const t=Object.keys(e),n=t.length;if(n<=15)this.pack_uint8(128+n);else if(n<=65535)this._bufferBuilder.append(222),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(n);else throw new Error("Invalid length");const r=s=>{if(s<t.length){const a=t[s];if(e.hasOwnProperty(a)){this.pack(a);const o=this.pack(e[a]);if(o instanceof Promise)return o.then(()=>r(s+1))}return r(s+1)}};return r(0)}pack_uint8(e){this._bufferBuilder.append(e)}pack_uint16(e){this._bufferBuilder.append(e>>8),this._bufferBuilder.append(e&255)}pack_uint32(e){const t=e&4294967295;this._bufferBuilder.append((t&4278190080)>>>24),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255)}pack_uint64(e){const t=e/4294967296,n=e%2**32;this._bufferBuilder.append((t&4278190080)>>>24),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255),this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_int8(e){this._bufferBuilder.append(e&255)}pack_int16(e){this._bufferBuilder.append((e&65280)>>8),this._bufferBuilder.append(e&255)}pack_int32(e){this._bufferBuilder.append(e>>>24&255),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255)}pack_int64(e){const t=Math.floor(e/4294967296),n=e%2**32;this._bufferBuilder.append((t&4278190080)>>>24),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255),this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}constructor(){this._bufferBuilder=new Ej,this._textEncoder=new TextEncoder}}let mL=!0,gL=!0;function L2(i,e,t){const n=i.match(e);return n&&n.length>=t&&parseInt(n[t],10)}function Jp(i,e,t){if(!i.RTCPeerConnection)return;const n=i.RTCPeerConnection.prototype,r=n.addEventListener;n.addEventListener=function(a,o){if(a!==e)return r.apply(this,arguments);const c=h=>{const d=t(h);d&&(o.handleEvent?o.handleEvent(d):o(d))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(o,c),r.apply(this,[a,c])};const s=n.removeEventListener;n.removeEventListener=function(a,o){if(a!==e||!this._eventMap||!this._eventMap[e])return s.apply(this,arguments);if(!this._eventMap[e].has(o))return s.apply(this,arguments);const c=this._eventMap[e].get(o);return this._eventMap[e].delete(o),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,s.apply(this,[a,c])},Object.defineProperty(n,"on"+e,{get(){return this["_on"+e]},set(a){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),a&&this.addEventListener(e,this["_on"+e]=a)},enumerable:!0,configurable:!0})}function Nj(i){return typeof i!="boolean"?new Error("Argument type: "+typeof i+". Please use a boolean."):(mL=i,i?"adapter.js logging disabled":"adapter.js logging enabled")}function Rj(i){return typeof i!="boolean"?new Error("Argument type: "+typeof i+". Please use a boolean."):(gL=!i,"adapter.js deprecation warnings "+(i?"disabled":"enabled"))}function yL(){if(typeof window=="object"){if(mL)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function hA(i,e){gL&&console.warn(i+" is deprecated, please use "+e+" instead.")}function Ij(i){const e={browser:null,version:null};if(typeof i>"u"||!i.navigator||!i.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:t}=i;if(t.userAgentData&&t.userAgentData.brands){const n=t.userAgentData.brands.find(r=>r.brand==="Chromium");if(n)return{browser:"chrome",version:parseInt(n.version,10)}}if(t.mozGetUserMedia)e.browser="firefox",e.version=L2(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia||i.isSecureContext===!1&&i.webkitRTCPeerConnection)e.browser="chrome",e.version=L2(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(i.RTCPeerConnection&&t.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=L2(t.userAgent,/AppleWebKit\/(\d+)\./,1),e.supportsUnifiedPlan=i.RTCRtpTransceiver&&"currentDirection"in i.RTCRtpTransceiver.prototype;else return e.browser="Not a supported browser.",e;return e}function qk(i){return Object.prototype.toString.call(i)==="[object Object]"}function vL(i){return qk(i)?Object.keys(i).reduce(function(e,t){const n=qk(i[t]),r=n?vL(i[t]):i[t],s=n&&!Object.keys(r).length;return r===void 0||s?e:Object.assign(e,{[t]:r})},{}):i}function jx(i,e,t){!e||t.has(e.id)||(t.set(e.id,e),Object.keys(e).forEach(n=>{n.endsWith("Id")?jx(i,i.get(e[n]),t):n.endsWith("Ids")&&e[n].forEach(r=>{jx(i,i.get(r),t)})}))}function Hk(i,e,t){const n=t?"outbound-rtp":"inbound-rtp",r=new Map;if(e===null)return r;const s=[];return i.forEach(a=>{a.type==="track"&&a.trackIdentifier===e.id&&s.push(a)}),s.forEach(a=>{i.forEach(o=>{o.type===n&&o.trackId===a.id&&jx(i,o,r)})}),r}const $k=yL;function bL(i,e){const t=i&&i.navigator;if(!t.mediaDevices)return;const n=function(o){if(typeof o!="object"||o.mandatory||o.optional)return o;const c={};return Object.keys(o).forEach(h=>{if(h==="require"||h==="advanced"||h==="mediaSource")return;const d=typeof o[h]=="object"?o[h]:{ideal:o[h]};d.exact!==void 0&&typeof d.exact=="number"&&(d.min=d.max=d.exact);const p=function(y,v){return y?y+v.charAt(0).toUpperCase()+v.slice(1):v==="deviceId"?"sourceId":v};if(d.ideal!==void 0){c.optional=c.optional||[];let y={};typeof d.ideal=="number"?(y[p("min",h)]=d.ideal,c.optional.push(y),y={},y[p("max",h)]=d.ideal,c.optional.push(y)):(y[p("",h)]=d.ideal,c.optional.push(y))}d.exact!==void 0&&typeof d.exact!="number"?(c.mandatory=c.mandatory||{},c.mandatory[p("",h)]=d.exact):["min","max"].forEach(y=>{d[y]!==void 0&&(c.mandatory=c.mandatory||{},c.mandatory[p(y,h)]=d[y])})}),o.advanced&&(c.optional=(c.optional||[]).concat(o.advanced)),c},r=function(o,c){if(e.version>=61)return c(o);if(o=JSON.parse(JSON.stringify(o)),o&&typeof o.audio=="object"){const h=function(d,p,y){p in d&&!(y in d)&&(d[y]=d[p],delete d[p])};o=JSON.parse(JSON.stringify(o)),h(o.audio,"autoGainControl","googAutoGainControl"),h(o.audio,"noiseSuppression","googNoiseSuppression"),o.audio=n(o.audio)}if(o&&typeof o.video=="object"){let h=o.video.facingMode;h=h&&(typeof h=="object"?h:{ideal:h});const d=e.version<66;if(h&&(h.exact==="user"||h.exact==="environment"||h.ideal==="user"||h.ideal==="environment")&&!(t.mediaDevices.getSupportedConstraints&&t.mediaDevices.getSupportedConstraints().facingMode&&!d)){delete o.video.facingMode;let p;if(h.exact==="environment"||h.ideal==="environment"?p=["back","rear"]:(h.exact==="user"||h.ideal==="user")&&(p=["front"]),p)return t.mediaDevices.enumerateDevices().then(y=>{y=y.filter(x=>x.kind==="videoinput");let v=y.find(x=>p.some(w=>x.label.toLowerCase().includes(w)));return!v&&y.length&&p.includes("back")&&(v=y[y.length-1]),v&&(o.video.deviceId=h.exact?{exact:v.deviceId}:{ideal:v.deviceId}),o.video=n(o.video),$k("chrome: "+JSON.stringify(o)),c(o)})}o.video=n(o.video)}return $k("chrome: "+JSON.stringify(o)),c(o)},s=function(o){return e.version>=64?o:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[o.name]||o.name,message:o.message,constraint:o.constraint||o.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},a=function(o,c,h){r(o,d=>{t.webkitGetUserMedia(d,c,p=>{h&&h(s(p))})})};if(t.getUserMedia=a.bind(t),t.mediaDevices.getUserMedia){const o=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(c){return r(c,h=>o(h).then(d=>{if(h.audio&&!d.getAudioTracks().length||h.video&&!d.getVideoTracks().length)throw d.getTracks().forEach(p=>{p.stop()}),new DOMException("","NotFoundError");return d},d=>Promise.reject(s(d))))}}}function _L(i){i.MediaStream=i.MediaStream||i.webkitMediaStream}function wL(i){if(typeof i=="object"&&i.RTCPeerConnection&&!("ontrack"in i.RTCPeerConnection.prototype)){Object.defineProperty(i.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(t){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=t)},enumerable:!0,configurable:!0});const e=i.RTCPeerConnection.prototype.setRemoteDescription;i.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=n=>{n.stream.addEventListener("addtrack",r=>{let s;i.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(o=>o.track&&o.track.id===r.track.id):s={track:r.track};const a=new Event("track");a.track=r.track,a.receiver=s,a.transceiver={receiver:s},a.streams=[n.stream],this.dispatchEvent(a)}),n.stream.getTracks().forEach(r=>{let s;i.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(o=>o.track&&o.track.id===r.id):s={track:r};const a=new Event("track");a.track=r,a.receiver=s,a.transceiver={receiver:s},a.streams=[n.stream],this.dispatchEvent(a)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else Jp(i,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function xL(i){if(typeof i=="object"&&i.RTCPeerConnection&&!("getSenders"in i.RTCPeerConnection.prototype)&&"createDTMFSender"in i.RTCPeerConnection.prototype){const e=function(r,s){return{track:s,get dtmf(){return this._dtmf===void 0&&(s.kind==="audio"?this._dtmf=r.createDTMFSender(s):this._dtmf=null),this._dtmf},_pc:r}};if(!i.RTCPeerConnection.prototype.getSenders){i.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const r=i.RTCPeerConnection.prototype.addTrack;i.RTCPeerConnection.prototype.addTrack=function(o,c){let h=r.apply(this,arguments);return h||(h=e(this,o),this._senders.push(h)),h};const s=i.RTCPeerConnection.prototype.removeTrack;i.RTCPeerConnection.prototype.removeTrack=function(o){s.apply(this,arguments);const c=this._senders.indexOf(o);c!==-1&&this._senders.splice(c,1)}}const t=i.RTCPeerConnection.prototype.addStream;i.RTCPeerConnection.prototype.addStream=function(s){this._senders=this._senders||[],t.apply(this,[s]),s.getTracks().forEach(a=>{this._senders.push(e(this,a))})};const n=i.RTCPeerConnection.prototype.removeStream;i.RTCPeerConnection.prototype.removeStream=function(s){this._senders=this._senders||[],n.apply(this,[s]),s.getTracks().forEach(a=>{const o=this._senders.find(c=>c.track===a);o&&this._senders.splice(this._senders.indexOf(o),1)})}}else if(typeof i=="object"&&i.RTCPeerConnection&&"getSenders"in i.RTCPeerConnection.prototype&&"createDTMFSender"in i.RTCPeerConnection.prototype&&i.RTCRtpSender&&!("dtmf"in i.RTCRtpSender.prototype)){const e=i.RTCPeerConnection.prototype.getSenders;i.RTCPeerConnection.prototype.getSenders=function(){const n=e.apply(this,[]);return n.forEach(r=>r._pc=this),n},Object.defineProperty(i.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function SL(i){if(!(typeof i=="object"&&i.RTCPeerConnection&&i.RTCRtpSender&&i.RTCRtpReceiver))return;if(!("getStats"in i.RTCRtpSender.prototype)){const t=i.RTCPeerConnection.prototype.getSenders;t&&(i.RTCPeerConnection.prototype.getSenders=function(){const s=t.apply(this,[]);return s.forEach(a=>a._pc=this),s});const n=i.RTCPeerConnection.prototype.addTrack;n&&(i.RTCPeerConnection.prototype.addTrack=function(){const s=n.apply(this,arguments);return s._pc=this,s}),i.RTCRtpSender.prototype.getStats=function(){const s=this;return this._pc.getStats().then(a=>Hk(a,s.track,!0))}}if(!("getStats"in i.RTCRtpReceiver.prototype)){const t=i.RTCPeerConnection.prototype.getReceivers;t&&(i.RTCPeerConnection.prototype.getReceivers=function(){const r=t.apply(this,[]);return r.forEach(s=>s._pc=this),r}),Jp(i,"track",n=>(n.receiver._pc=n.srcElement,n)),i.RTCRtpReceiver.prototype.getStats=function(){const r=this;return this._pc.getStats().then(s=>Hk(s,r.track,!1))}}if(!("getStats"in i.RTCRtpSender.prototype&&"getStats"in i.RTCRtpReceiver.prototype))return;const e=i.RTCPeerConnection.prototype.getStats;i.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof i.MediaStreamTrack){const n=arguments[0];let r,s,a;return this.getSenders().forEach(o=>{o.track===n&&(r?a=!0:r=o)}),this.getReceivers().forEach(o=>(o.track===n&&(s?a=!0:s=o),o.track===n)),a||r&&s?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):r?r.getStats():s?s.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function AL(i){i.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(a=>this._shimmedLocalStreams[a][0])};const e=i.RTCPeerConnection.prototype.addTrack;i.RTCPeerConnection.prototype.addTrack=function(a,o){if(!o)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const c=e.apply(this,arguments);return this._shimmedLocalStreams[o.id]?this._shimmedLocalStreams[o.id].indexOf(c)===-1&&this._shimmedLocalStreams[o.id].push(c):this._shimmedLocalStreams[o.id]=[o,c],c};const t=i.RTCPeerConnection.prototype.addStream;i.RTCPeerConnection.prototype.addStream=function(a){this._shimmedLocalStreams=this._shimmedLocalStreams||{},a.getTracks().forEach(h=>{if(this.getSenders().find(p=>p.track===h))throw new DOMException("Track already exists.","InvalidAccessError")});const o=this.getSenders();t.apply(this,arguments);const c=this.getSenders().filter(h=>o.indexOf(h)===-1);this._shimmedLocalStreams[a.id]=[a].concat(c)};const n=i.RTCPeerConnection.prototype.removeStream;i.RTCPeerConnection.prototype.removeStream=function(a){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[a.id],n.apply(this,arguments)};const r=i.RTCPeerConnection.prototype.removeTrack;i.RTCPeerConnection.prototype.removeTrack=function(a){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},a&&Object.keys(this._shimmedLocalStreams).forEach(o=>{const c=this._shimmedLocalStreams[o].indexOf(a);c!==-1&&this._shimmedLocalStreams[o].splice(c,1),this._shimmedLocalStreams[o].length===1&&delete this._shimmedLocalStreams[o]}),r.apply(this,arguments)}}function CL(i,e){if(!i.RTCPeerConnection)return;if(i.RTCPeerConnection.prototype.addTrack&&e.version>=65)return AL(i);const t=i.RTCPeerConnection.prototype.getLocalStreams;i.RTCPeerConnection.prototype.getLocalStreams=function(){const d=t.apply(this);return this._reverseStreams=this._reverseStreams||{},d.map(p=>this._reverseStreams[p.id])};const n=i.RTCPeerConnection.prototype.addStream;i.RTCPeerConnection.prototype.addStream=function(d){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},d.getTracks().forEach(p=>{if(this.getSenders().find(v=>v.track===p))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[d.id]){const p=new i.MediaStream(d.getTracks());this._streams[d.id]=p,this._reverseStreams[p.id]=d,d=p}n.apply(this,[d])};const r=i.RTCPeerConnection.prototype.removeStream;i.RTCPeerConnection.prototype.removeStream=function(d){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},r.apply(this,[this._streams[d.id]||d]),delete this._reverseStreams[this._streams[d.id]?this._streams[d.id].id:d.id],delete this._streams[d.id]},i.RTCPeerConnection.prototype.addTrack=function(d,p){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const y=[].slice.call(arguments,1);if(y.length!==1||!y[0].getTracks().find(w=>w===d))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(w=>w.track===d))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const x=this._streams[p.id];if(x)x.addTrack(d),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const w=new i.MediaStream([d]);this._streams[p.id]=w,this._reverseStreams[w.id]=p,this.addStream(w)}return this.getSenders().find(w=>w.track===d)};function s(h,d){let p=d.sdp;return Object.keys(h._reverseStreams||[]).forEach(y=>{const v=h._reverseStreams[y],x=h._streams[v.id];p=p.replace(new RegExp(x.id,"g"),v.id)}),new RTCSessionDescription({type:d.type,sdp:p})}function a(h,d){let p=d.sdp;return Object.keys(h._reverseStreams||[]).forEach(y=>{const v=h._reverseStreams[y],x=h._streams[v.id];p=p.replace(new RegExp(v.id,"g"),x.id)}),new RTCSessionDescription({type:d.type,sdp:p})}["createOffer","createAnswer"].forEach(function(h){const d=i.RTCPeerConnection.prototype[h],p={[h](){const y=arguments;return arguments.length&&typeof arguments[0]=="function"?d.apply(this,[x=>{const w=s(this,x);y[0].apply(null,[w])},x=>{y[1]&&y[1].apply(null,x)},arguments[2]]):d.apply(this,arguments).then(x=>s(this,x))}};i.RTCPeerConnection.prototype[h]=p[h]});const o=i.RTCPeerConnection.prototype.setLocalDescription;i.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?o.apply(this,arguments):(arguments[0]=a(this,arguments[0]),o.apply(this,arguments))};const c=Object.getOwnPropertyDescriptor(i.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(i.RTCPeerConnection.prototype,"localDescription",{get(){const h=c.get.apply(this);return h.type===""?h:s(this,h)}}),i.RTCPeerConnection.prototype.removeTrack=function(d){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!d._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(d._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let y;Object.keys(this._streams).forEach(v=>{this._streams[v].getTracks().find(w=>d.track===w)&&(y=this._streams[v])}),y&&(y.getTracks().length===1?this.removeStream(this._reverseStreams[y.id]):y.removeTrack(d.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Bx(i,e){!i.RTCPeerConnection&&i.webkitRTCPeerConnection&&(i.RTCPeerConnection=i.webkitRTCPeerConnection),i.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){const n=i.RTCPeerConnection.prototype[t],r={[t](){return arguments[0]=new(t==="addIceCandidate"?i.RTCIceCandidate:i.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};i.RTCPeerConnection.prototype[t]=r[t]})}function kL(i,e){Jp(i,"negotiationneeded",t=>{const n=t.target;if(!((e.version<72||n.getConfiguration&&n.getConfiguration().sdpSemantics==="plan-b")&&n.signalingState!=="stable"))return t})}const Vk=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:kL,shimAddTrackRemoveTrack:CL,shimAddTrackRemoveTrackWithNative:AL,shimGetSendersWithDtmf:xL,shimGetUserMedia:bL,shimMediaStream:_L,shimOnTrack:wL,shimPeerConnection:Bx,shimSenderReceiverGetStats:SL},Symbol.toStringTag,{value:"Module"}));function EL(i,e){const t=i&&i.navigator,n=i&&i.MediaStreamTrack;if(t.getUserMedia=function(r,s,a){hA("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),t.mediaDevices.getUserMedia(r).then(s,a)},!(e.version>55&&"autoGainControl"in t.mediaDevices.getSupportedConstraints())){const r=function(a,o,c){o in a&&!(c in a)&&(a[c]=a[o],delete a[o])},s=t.mediaDevices.getUserMedia.bind(t.mediaDevices);if(t.mediaDevices.getUserMedia=function(a){return typeof a=="object"&&typeof a.audio=="object"&&(a=JSON.parse(JSON.stringify(a)),r(a.audio,"autoGainControl","mozAutoGainControl"),r(a.audio,"noiseSuppression","mozNoiseSuppression")),s(a)},n&&n.prototype.getSettings){const a=n.prototype.getSettings;n.prototype.getSettings=function(){const o=a.apply(this,arguments);return r(o,"mozAutoGainControl","autoGainControl"),r(o,"mozNoiseSuppression","noiseSuppression"),o}}if(n&&n.prototype.applyConstraints){const a=n.prototype.applyConstraints;n.prototype.applyConstraints=function(o){return this.kind==="audio"&&typeof o=="object"&&(o=JSON.parse(JSON.stringify(o)),r(o,"autoGainControl","mozAutoGainControl"),r(o,"noiseSuppression","mozNoiseSuppression")),a.apply(this,[o])}}}}function Mj(i,e){i.navigator.mediaDevices&&"getDisplayMedia"in i.navigator.mediaDevices||i.navigator.mediaDevices&&(i.navigator.mediaDevices.getDisplayMedia=function(n){if(!(n&&n.video)){const r=new DOMException("getDisplayMedia without video constraints is undefined");return r.name="NotFoundError",r.code=8,Promise.reject(r)}return n.video===!0?n.video={mediaSource:e}:n.video.mediaSource=e,i.navigator.mediaDevices.getUserMedia(n)})}function PL(i){typeof i=="object"&&i.RTCTrackEvent&&"receiver"in i.RTCTrackEvent.prototype&&!("transceiver"in i.RTCTrackEvent.prototype)&&Object.defineProperty(i.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function zx(i,e){if(typeof i!="object"||!(i.RTCPeerConnection||i.mozRTCPeerConnection))return;!i.RTCPeerConnection&&i.mozRTCPeerConnection&&(i.RTCPeerConnection=i.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(r){const s=i.RTCPeerConnection.prototype[r],a={[r](){return arguments[0]=new(r==="addIceCandidate"?i.RTCIceCandidate:i.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};i.RTCPeerConnection.prototype[r]=a[r]});const t={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},n=i.RTCPeerConnection.prototype.getStats;i.RTCPeerConnection.prototype.getStats=function(){const[s,a,o]=arguments;return n.apply(this,[s||null]).then(c=>{if(e.version<53&&!a)try{c.forEach(h=>{h.type=t[h.type]||h.type})}catch(h){if(h.name!=="TypeError")throw h;c.forEach((d,p)=>{c.set(p,Object.assign({},d,{type:t[d.type]||d.type}))})}return c}).then(a,o)}}function TL(i){if(!(typeof i=="object"&&i.RTCPeerConnection&&i.RTCRtpSender)||i.RTCRtpSender&&"getStats"in i.RTCRtpSender.prototype)return;const e=i.RTCPeerConnection.prototype.getSenders;e&&(i.RTCPeerConnection.prototype.getSenders=function(){const r=e.apply(this,[]);return r.forEach(s=>s._pc=this),r});const t=i.RTCPeerConnection.prototype.addTrack;t&&(i.RTCPeerConnection.prototype.addTrack=function(){const r=t.apply(this,arguments);return r._pc=this,r}),i.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function LL(i){if(!(typeof i=="object"&&i.RTCPeerConnection&&i.RTCRtpSender)||i.RTCRtpSender&&"getStats"in i.RTCRtpReceiver.prototype)return;const e=i.RTCPeerConnection.prototype.getReceivers;e&&(i.RTCPeerConnection.prototype.getReceivers=function(){const n=e.apply(this,[]);return n.forEach(r=>r._pc=this),n}),Jp(i,"track",t=>(t.receiver._pc=t.srcElement,t)),i.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function NL(i){!i.RTCPeerConnection||"removeStream"in i.RTCPeerConnection.prototype||(i.RTCPeerConnection.prototype.removeStream=function(t){hA("removeStream","removeTrack"),this.getSenders().forEach(n=>{n.track&&t.getTracks().includes(n.track)&&this.removeTrack(n)})})}function RL(i){i.DataChannel&&!i.RTCDataChannel&&(i.RTCDataChannel=i.DataChannel)}function IL(i){if(!(typeof i=="object"&&i.RTCPeerConnection))return;const e=i.RTCPeerConnection.prototype.addTransceiver;e&&(i.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let n=arguments[1]&&arguments[1].sendEncodings;n===void 0&&(n=[]),n=[...n];const r=n.length>0;r&&n.forEach(a=>{if("rid"in a&&!/^[a-z0-9]{0,16}$/i.test(a.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in a&&!(parseFloat(a.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in a&&!(parseFloat(a.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const s=e.apply(this,arguments);if(r){const{sender:a}=s,o=a.getParameters();(!("encodings"in o)||o.encodings.length===1&&Object.keys(o.encodings[0]).length===0)&&(o.encodings=n,a.sendEncodings=n,this.setParametersPromises.push(a.setParameters(o).then(()=>{delete a.sendEncodings}).catch(()=>{delete a.sendEncodings})))}return s})}function ML(i){if(!(typeof i=="object"&&i.RTCRtpSender))return;const e=i.RTCRtpSender.prototype.getParameters;e&&(i.RTCRtpSender.prototype.getParameters=function(){const n=e.apply(this,arguments);return"encodings"in n||(n.encodings=[].concat(this.sendEncodings||[{}])),n})}function OL(i){if(!(typeof i=="object"&&i.RTCPeerConnection))return;const e=i.RTCPeerConnection.prototype.createOffer;i.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function FL(i){if(!(typeof i=="object"&&i.RTCPeerConnection))return;const e=i.RTCPeerConnection.prototype.createAnswer;i.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const Wk=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:IL,shimCreateAnswer:FL,shimCreateOffer:OL,shimGetDisplayMedia:Mj,shimGetParameters:ML,shimGetUserMedia:EL,shimOnTrack:PL,shimPeerConnection:zx,shimRTCDataChannel:RL,shimReceiverGetStats:LL,shimRemoveStream:NL,shimSenderGetStats:TL},Symbol.toStringTag,{value:"Module"}));function DL(i){if(!(typeof i!="object"||!i.RTCPeerConnection)){if("getLocalStreams"in i.RTCPeerConnection.prototype||(i.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in i.RTCPeerConnection.prototype)){const e=i.RTCPeerConnection.prototype.addTrack;i.RTCPeerConnection.prototype.addStream=function(n){this._localStreams||(this._localStreams=[]),this._localStreams.includes(n)||this._localStreams.push(n),n.getAudioTracks().forEach(r=>e.call(this,r,n)),n.getVideoTracks().forEach(r=>e.call(this,r,n))},i.RTCPeerConnection.prototype.addTrack=function(n,...r){return r&&r.forEach(s=>{this._localStreams?this._localStreams.includes(s)||this._localStreams.push(s):this._localStreams=[s]}),e.apply(this,arguments)}}"removeStream"in i.RTCPeerConnection.prototype||(i.RTCPeerConnection.prototype.removeStream=function(t){this._localStreams||(this._localStreams=[]);const n=this._localStreams.indexOf(t);if(n===-1)return;this._localStreams.splice(n,1);const r=t.getTracks();this.getSenders().forEach(s=>{r.includes(s.track)&&this.removeTrack(s)})})}}function jL(i){if(!(typeof i!="object"||!i.RTCPeerConnection)&&("getRemoteStreams"in i.RTCPeerConnection.prototype||(i.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in i.RTCPeerConnection.prototype))){Object.defineProperty(i.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(t){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=t),this.addEventListener("track",this._onaddstreampoly=n=>{n.streams.forEach(r=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(r))return;this._remoteStreams.push(r);const s=new Event("addstream");s.stream=r,this.dispatchEvent(s)})})}});const e=i.RTCPeerConnection.prototype.setRemoteDescription;i.RTCPeerConnection.prototype.setRemoteDescription=function(){const n=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(r){r.streams.forEach(s=>{if(n._remoteStreams||(n._remoteStreams=[]),n._remoteStreams.indexOf(s)>=0)return;n._remoteStreams.push(s);const a=new Event("addstream");a.stream=s,n.dispatchEvent(a)})}),e.apply(n,arguments)}}}function BL(i){if(typeof i!="object"||!i.RTCPeerConnection)return;const e=i.RTCPeerConnection.prototype,t=e.createOffer,n=e.createAnswer,r=e.setLocalDescription,s=e.setRemoteDescription,a=e.addIceCandidate;e.createOffer=function(h,d){const p=arguments.length>=2?arguments[2]:arguments[0],y=t.apply(this,[p]);return d?(y.then(h,d),Promise.resolve()):y},e.createAnswer=function(h,d){const p=arguments.length>=2?arguments[2]:arguments[0],y=n.apply(this,[p]);return d?(y.then(h,d),Promise.resolve()):y};let o=function(c,h,d){const p=r.apply(this,[c]);return d?(p.then(h,d),Promise.resolve()):p};e.setLocalDescription=o,o=function(c,h,d){const p=s.apply(this,[c]);return d?(p.then(h,d),Promise.resolve()):p},e.setRemoteDescription=o,o=function(c,h,d){const p=a.apply(this,[c]);return d?(p.then(h,d),Promise.resolve()):p},e.addIceCandidate=o}function zL(i){const e=i&&i.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const t=e.mediaDevices,n=t.getUserMedia.bind(t);e.mediaDevices.getUserMedia=r=>n(UL(r))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(n,r,s){e.mediaDevices.getUserMedia(n).then(r,s)}).bind(e))}function UL(i){return i&&i.video!==void 0?Object.assign({},i,{video:vL(i.video)}):i}function qL(i){if(!i.RTCPeerConnection)return;const e=i.RTCPeerConnection;i.RTCPeerConnection=function(n,r){if(n&&n.iceServers){const s=[];for(let a=0;a<n.iceServers.length;a++){let o=n.iceServers[a];o.urls===void 0&&o.url?(hA("RTCIceServer.url","RTCIceServer.urls"),o=JSON.parse(JSON.stringify(o)),o.urls=o.url,delete o.url,s.push(o)):s.push(n.iceServers[a])}n.iceServers=s}return new e(n,r)},i.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(i.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function HL(i){typeof i=="object"&&i.RTCTrackEvent&&"receiver"in i.RTCTrackEvent.prototype&&!("transceiver"in i.RTCTrackEvent.prototype)&&Object.defineProperty(i.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function $L(i){const e=i.RTCPeerConnection.prototype.createOffer;i.RTCPeerConnection.prototype.createOffer=function(n){if(n){typeof n.offerToReceiveAudio<"u"&&(n.offerToReceiveAudio=!!n.offerToReceiveAudio);const r=this.getTransceivers().find(a=>a.receiver.track.kind==="audio");n.offerToReceiveAudio===!1&&r?r.direction==="sendrecv"?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":r.direction==="recvonly"&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):n.offerToReceiveAudio===!0&&!r&&this.addTransceiver("audio",{direction:"recvonly"}),typeof n.offerToReceiveVideo<"u"&&(n.offerToReceiveVideo=!!n.offerToReceiveVideo);const s=this.getTransceivers().find(a=>a.receiver.track.kind==="video");n.offerToReceiveVideo===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):n.offerToReceiveVideo===!0&&!s&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function VL(i){typeof i!="object"||i.AudioContext||(i.AudioContext=i.webkitAudioContext)}const Gk=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:VL,shimCallbacksAPI:BL,shimConstraints:UL,shimCreateOfferLegacy:$L,shimGetUserMedia:zL,shimLocalStreamsAPI:DL,shimRTCIceServerUrls:qL,shimRemoteStreamsAPI:jL,shimTrackEventTransceiver:HL},Symbol.toStringTag,{value:"Module"}));var Bw={exports:{}},Yk;function Oj(){return Yk||(Yk=1,function(i){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(t){return t.trim().split(`
`).map(n=>n.trim())},e.splitSections=function(t){return t.split(`
m=`).map((r,s)=>(s>0?"m="+r:r).trim()+`\r
`)},e.getDescription=function(t){const n=e.splitSections(t);return n&&n[0]},e.getMediaSections=function(t){const n=e.splitSections(t);return n.shift(),n},e.matchPrefix=function(t,n){return e.splitLines(t).filter(r=>r.indexOf(n)===0)},e.parseCandidate=function(t){let n;t.indexOf("a=candidate:")===0?n=t.substring(12).split(" "):n=t.substring(10).split(" ");const r={foundation:n[0],component:{1:"rtp",2:"rtcp"}[n[1]]||n[1],protocol:n[2].toLowerCase(),priority:parseInt(n[3],10),ip:n[4],address:n[4],port:parseInt(n[5],10),type:n[7]};for(let s=8;s<n.length;s+=2)switch(n[s]){case"raddr":r.relatedAddress=n[s+1];break;case"rport":r.relatedPort=parseInt(n[s+1],10);break;case"tcptype":r.tcpType=n[s+1];break;case"ufrag":r.ufrag=n[s+1],r.usernameFragment=n[s+1];break;default:r[n[s]]===void 0&&(r[n[s]]=n[s+1]);break}return r},e.writeCandidate=function(t){const n=[];n.push(t.foundation);const r=t.component;r==="rtp"?n.push(1):r==="rtcp"?n.push(2):n.push(r),n.push(t.protocol.toUpperCase()),n.push(t.priority),n.push(t.address||t.ip),n.push(t.port);const s=t.type;return n.push("typ"),n.push(s),s!=="host"&&t.relatedAddress&&t.relatedPort&&(n.push("raddr"),n.push(t.relatedAddress),n.push("rport"),n.push(t.relatedPort)),t.tcpType&&t.protocol.toLowerCase()==="tcp"&&(n.push("tcptype"),n.push(t.tcpType)),(t.usernameFragment||t.ufrag)&&(n.push("ufrag"),n.push(t.usernameFragment||t.ufrag)),"candidate:"+n.join(" ")},e.parseIceOptions=function(t){return t.substring(14).split(" ")},e.parseRtpMap=function(t){let n=t.substring(9).split(" ");const r={payloadType:parseInt(n.shift(),10)};return n=n[0].split("/"),r.name=n[0],r.clockRate=parseInt(n[1],10),r.channels=n.length===3?parseInt(n[2],10):1,r.numChannels=r.channels,r},e.writeRtpMap=function(t){let n=t.payloadType;t.preferredPayloadType!==void 0&&(n=t.preferredPayloadType);const r=t.channels||t.numChannels||1;return"a=rtpmap:"+n+" "+t.name+"/"+t.clockRate+(r!==1?"/"+r:"")+`\r
`},e.parseExtmap=function(t){const n=t.substring(9).split(" ");return{id:parseInt(n[0],10),direction:n[0].indexOf("/")>0?n[0].split("/")[1]:"sendrecv",uri:n[1],attributes:n.slice(2).join(" ")}},e.writeExtmap=function(t){return"a=extmap:"+(t.id||t.preferredId)+(t.direction&&t.direction!=="sendrecv"?"/"+t.direction:"")+" "+t.uri+(t.attributes?" "+t.attributes:"")+`\r
`},e.parseFmtp=function(t){const n={};let r;const s=t.substring(t.indexOf(" ")+1).split(";");for(let a=0;a<s.length;a++)r=s[a].trim().split("="),n[r[0].trim()]=r[1];return n},e.writeFmtp=function(t){let n="",r=t.payloadType;if(t.preferredPayloadType!==void 0&&(r=t.preferredPayloadType),t.parameters&&Object.keys(t.parameters).length){const s=[];Object.keys(t.parameters).forEach(a=>{t.parameters[a]!==void 0?s.push(a+"="+t.parameters[a]):s.push(a)}),n+="a=fmtp:"+r+" "+s.join(";")+`\r
`}return n},e.parseRtcpFb=function(t){const n=t.substring(t.indexOf(" ")+1).split(" ");return{type:n.shift(),parameter:n.join(" ")}},e.writeRtcpFb=function(t){let n="",r=t.payloadType;return t.preferredPayloadType!==void 0&&(r=t.preferredPayloadType),t.rtcpFeedback&&t.rtcpFeedback.length&&t.rtcpFeedback.forEach(s=>{n+="a=rtcp-fb:"+r+" "+s.type+(s.parameter&&s.parameter.length?" "+s.parameter:"")+`\r
`}),n},e.parseSsrcMedia=function(t){const n=t.indexOf(" "),r={ssrc:parseInt(t.substring(7,n),10)},s=t.indexOf(":",n);return s>-1?(r.attribute=t.substring(n+1,s),r.value=t.substring(s+1)):r.attribute=t.substring(n+1),r},e.parseSsrcGroup=function(t){const n=t.substring(13).split(" ");return{semantics:n.shift(),ssrcs:n.map(r=>parseInt(r,10))}},e.getMid=function(t){const n=e.matchPrefix(t,"a=mid:")[0];if(n)return n.substring(6)},e.parseFingerprint=function(t){const n=t.substring(14).split(" ");return{algorithm:n[0].toLowerCase(),value:n[1].toUpperCase()}},e.getDtlsParameters=function(t,n){return{role:"auto",fingerprints:e.matchPrefix(t+n,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(t,n){let r="a=setup:"+n+`\r
`;return t.fingerprints.forEach(s=>{r+="a=fingerprint:"+s.algorithm+" "+s.value+`\r
`}),r},e.parseCryptoLine=function(t){const n=t.substring(9).split(" ");return{tag:parseInt(n[0],10),cryptoSuite:n[1],keyParams:n[2],sessionParams:n.slice(3)}},e.writeCryptoLine=function(t){return"a=crypto:"+t.tag+" "+t.cryptoSuite+" "+(typeof t.keyParams=="object"?e.writeCryptoKeyParams(t.keyParams):t.keyParams)+(t.sessionParams?" "+t.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(t){if(t.indexOf("inline:")!==0)return null;const n=t.substring(7).split("|");return{keyMethod:"inline",keySalt:n[0],lifeTime:n[1],mkiValue:n[2]?n[2].split(":")[0]:void 0,mkiLength:n[2]?n[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(t){return t.keyMethod+":"+t.keySalt+(t.lifeTime?"|"+t.lifeTime:"")+(t.mkiValue&&t.mkiLength?"|"+t.mkiValue+":"+t.mkiLength:"")},e.getCryptoParameters=function(t,n){return e.matchPrefix(t+n,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(t,n){const r=e.matchPrefix(t+n,"a=ice-ufrag:")[0],s=e.matchPrefix(t+n,"a=ice-pwd:")[0];return r&&s?{usernameFragment:r.substring(12),password:s.substring(10)}:null},e.writeIceParameters=function(t){let n="a=ice-ufrag:"+t.usernameFragment+`\r
a=ice-pwd:`+t.password+`\r
`;return t.iceLite&&(n+=`a=ice-lite\r
`),n},e.parseRtpParameters=function(t){const n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},s=e.splitLines(t)[0].split(" ");n.profile=s[2];for(let o=3;o<s.length;o++){const c=s[o],h=e.matchPrefix(t,"a=rtpmap:"+c+" ")[0];if(h){const d=e.parseRtpMap(h),p=e.matchPrefix(t,"a=fmtp:"+c+" ");switch(d.parameters=p.length?e.parseFmtp(p[0]):{},d.rtcpFeedback=e.matchPrefix(t,"a=rtcp-fb:"+c+" ").map(e.parseRtcpFb),n.codecs.push(d),d.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(d.name.toUpperCase());break}}}e.matchPrefix(t,"a=extmap:").forEach(o=>{n.headerExtensions.push(e.parseExtmap(o))});const a=e.matchPrefix(t,"a=rtcp-fb:* ").map(e.parseRtcpFb);return n.codecs.forEach(o=>{a.forEach(c=>{o.rtcpFeedback.find(d=>d.type===c.type&&d.parameter===c.parameter)||o.rtcpFeedback.push(c)})}),n},e.writeRtpDescription=function(t,n){let r="";r+="m="+t+" ",r+=n.codecs.length>0?"9":"0",r+=" "+(n.profile||"UDP/TLS/RTP/SAVPF")+" ",r+=n.codecs.map(a=>a.preferredPayloadType!==void 0?a.preferredPayloadType:a.payloadType).join(" ")+`\r
`,r+=`c=IN IP4 0.0.0.0\r
`,r+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,n.codecs.forEach(a=>{r+=e.writeRtpMap(a),r+=e.writeFmtp(a),r+=e.writeRtcpFb(a)});let s=0;return n.codecs.forEach(a=>{a.maxptime>s&&(s=a.maxptime)}),s>0&&(r+="a=maxptime:"+s+`\r
`),n.headerExtensions&&n.headerExtensions.forEach(a=>{r+=e.writeExtmap(a)}),r},e.parseRtpEncodingParameters=function(t){const n=[],r=e.parseRtpParameters(t),s=r.fecMechanisms.indexOf("RED")!==-1,a=r.fecMechanisms.indexOf("ULPFEC")!==-1,o=e.matchPrefix(t,"a=ssrc:").map(y=>e.parseSsrcMedia(y)).filter(y=>y.attribute==="cname"),c=o.length>0&&o[0].ssrc;let h;const d=e.matchPrefix(t,"a=ssrc-group:FID").map(y=>y.substring(17).split(" ").map(x=>parseInt(x,10)));d.length>0&&d[0].length>1&&d[0][0]===c&&(h=d[0][1]),r.codecs.forEach(y=>{if(y.name.toUpperCase()==="RTX"&&y.parameters.apt){let v={ssrc:c,codecPayloadType:parseInt(y.parameters.apt,10)};c&&h&&(v.rtx={ssrc:h}),n.push(v),s&&(v=JSON.parse(JSON.stringify(v)),v.fec={ssrc:c,mechanism:a?"red+ulpfec":"red"},n.push(v))}}),n.length===0&&c&&n.push({ssrc:c});let p=e.matchPrefix(t,"b=");return p.length&&(p[0].indexOf("b=TIAS:")===0?p=parseInt(p[0].substring(7),10):p[0].indexOf("b=AS:")===0?p=parseInt(p[0].substring(5),10)*1e3*.95-50*40*8:p=void 0,n.forEach(y=>{y.maxBitrate=p})),n},e.parseRtcpParameters=function(t){const n={},r=e.matchPrefix(t,"a=ssrc:").map(o=>e.parseSsrcMedia(o)).filter(o=>o.attribute==="cname")[0];r&&(n.cname=r.value,n.ssrc=r.ssrc);const s=e.matchPrefix(t,"a=rtcp-rsize");n.reducedSize=s.length>0,n.compound=s.length===0;const a=e.matchPrefix(t,"a=rtcp-mux");return n.mux=a.length>0,n},e.writeRtcpParameters=function(t){let n="";return t.reducedSize&&(n+=`a=rtcp-rsize\r
`),t.mux&&(n+=`a=rtcp-mux\r
`),t.ssrc!==void 0&&t.cname&&(n+="a=ssrc:"+t.ssrc+" cname:"+t.cname+`\r
`),n},e.parseMsid=function(t){let n;const r=e.matchPrefix(t,"a=msid:");if(r.length===1)return n=r[0].substring(7).split(" "),{stream:n[0],track:n[1]};const s=e.matchPrefix(t,"a=ssrc:").map(a=>e.parseSsrcMedia(a)).filter(a=>a.attribute==="msid");if(s.length>0)return n=s[0].value.split(" "),{stream:n[0],track:n[1]}},e.parseSctpDescription=function(t){const n=e.parseMLine(t),r=e.matchPrefix(t,"a=max-message-size:");let s;r.length>0&&(s=parseInt(r[0].substring(19),10)),isNaN(s)&&(s=65536);const a=e.matchPrefix(t,"a=sctp-port:");if(a.length>0)return{port:parseInt(a[0].substring(12),10),protocol:n.fmt,maxMessageSize:s};const o=e.matchPrefix(t,"a=sctpmap:");if(o.length>0){const c=o[0].substring(10).split(" ");return{port:parseInt(c[0],10),protocol:c[1],maxMessageSize:s}}},e.writeSctpDescription=function(t,n){let r=[];return t.protocol!=="DTLS/SCTP"?r=["m="+t.kind+" 9 "+t.protocol+" "+n.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+n.port+`\r
`]:r=["m="+t.kind+" 9 "+t.protocol+" "+n.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+n.port+" "+n.protocol+` 65535\r
`],n.maxMessageSize!==void 0&&r.push("a=max-message-size:"+n.maxMessageSize+`\r
`),r.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(t,n,r){let s;const a=n!==void 0?n:2;return t?s=t:s=e.generateSessionId(),`v=0\r
o=`+(r||"thisisadapterortc")+" "+s+" "+a+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(t,n){const r=e.splitLines(t);for(let s=0;s<r.length;s++)switch(r[s]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[s].substring(2)}return n?e.getDirection(n):"sendrecv"},e.getKind=function(t){return e.splitLines(t)[0].split(" ")[0].substring(2)},e.isRejected=function(t){return t.split(" ",2)[1]==="0"},e.parseMLine=function(t){const r=e.splitLines(t)[0].substring(2).split(" ");return{kind:r[0],port:parseInt(r[1],10),protocol:r[2],fmt:r.slice(3).join(" ")}},e.parseOLine=function(t){const r=e.matchPrefix(t,"o=")[0].substring(2).split(" ");return{username:r[0],sessionId:r[1],sessionVersion:parseInt(r[2],10),netType:r[3],addressType:r[4],address:r[5]}},e.isValidSDP=function(t){if(typeof t!="string"||t.length===0)return!1;const n=e.splitLines(t);for(let r=0;r<n.length;r++)if(n[r].length<2||n[r].charAt(1)!=="=")return!1;return!0},i.exports=e}(Bw)),Bw.exports}var WL=Oj();const tg=e_(WL),Fj=C8({__proto__:null,default:tg},[WL]);function N2(i){if(!i.RTCIceCandidate||i.RTCIceCandidate&&"foundation"in i.RTCIceCandidate.prototype)return;const e=i.RTCIceCandidate;i.RTCIceCandidate=function(n){if(typeof n=="object"&&n.candidate&&n.candidate.indexOf("a=")===0&&(n=JSON.parse(JSON.stringify(n)),n.candidate=n.candidate.substring(2)),n.candidate&&n.candidate.length){const r=new e(n),s=tg.parseCandidate(n.candidate);for(const a in s)a in r||Object.defineProperty(r,a,{value:s[a]});return r.toJSON=function(){return{candidate:r.candidate,sdpMid:r.sdpMid,sdpMLineIndex:r.sdpMLineIndex,usernameFragment:r.usernameFragment}},r}return new e(n)},i.RTCIceCandidate.prototype=e.prototype,Jp(i,"icecandidate",t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new i.RTCIceCandidate(t.candidate),writable:"false"}),t))}function Ux(i){!i.RTCIceCandidate||i.RTCIceCandidate&&"relayProtocol"in i.RTCIceCandidate.prototype||Jp(i,"icecandidate",e=>{if(e.candidate){const t=tg.parseCandidate(e.candidate.candidate);t.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[t.priority>>24])}return e})}function R2(i,e){if(!i.RTCPeerConnection)return;"sctp"in i.RTCPeerConnection.prototype||Object.defineProperty(i.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const t=function(o){if(!o||!o.sdp)return!1;const c=tg.splitSections(o.sdp);return c.shift(),c.some(h=>{const d=tg.parseMLine(h);return d&&d.kind==="application"&&d.protocol.indexOf("SCTP")!==-1})},n=function(o){const c=o.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(c===null||c.length<2)return-1;const h=parseInt(c[1],10);return h!==h?-1:h},r=function(o){let c=65536;return e.browser==="firefox"&&(e.version<57?o===-1?c=16384:c=2147483637:e.version<60?c=e.version===57?65535:65536:c=2147483637),c},s=function(o,c){let h=65536;e.browser==="firefox"&&e.version===57&&(h=65535);const d=tg.matchPrefix(o.sdp,"a=max-message-size:");return d.length>0?h=parseInt(d[0].substring(19),10):e.browser==="firefox"&&c!==-1&&(h=2147483637),h},a=i.RTCPeerConnection.prototype.setRemoteDescription;i.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:c}=this.getConfiguration();c==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(t(arguments[0])){const c=n(arguments[0]),h=r(c),d=s(arguments[0],c);let p;h===0&&d===0?p=Number.POSITIVE_INFINITY:h===0||d===0?p=Math.max(h,d):p=Math.min(h,d);const y={};Object.defineProperty(y,"maxMessageSize",{get(){return p}}),this._sctp=y}return a.apply(this,arguments)}}function I2(i){if(!(i.RTCPeerConnection&&"createDataChannel"in i.RTCPeerConnection.prototype))return;function e(n,r){const s=n.send;n.send=function(){const o=arguments[0],c=o.length||o.size||o.byteLength;if(n.readyState==="open"&&r.sctp&&c>r.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+r.sctp.maxMessageSize+" bytes)");return s.apply(n,arguments)}}const t=i.RTCPeerConnection.prototype.createDataChannel;i.RTCPeerConnection.prototype.createDataChannel=function(){const r=t.apply(this,arguments);return e(r,this),r},Jp(i,"datachannel",n=>(e(n.channel,n.target),n))}function qx(i){if(!i.RTCPeerConnection||"connectionState"in i.RTCPeerConnection.prototype)return;const e=i.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(t){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),t&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=t)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(t=>{const n=e[t];e[t]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=r=>{const s=r.target;if(s._lastConnectionState!==s.connectionState){s._lastConnectionState=s.connectionState;const a=new Event("connectionstatechange",r);s.dispatchEvent(a)}return r},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}})}function Hx(i,e){if(!i.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e.version>=605)return;const t=i.RTCPeerConnection.prototype.setRemoteDescription;i.RTCPeerConnection.prototype.setRemoteDescription=function(r){if(r&&r.sdp&&r.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const s=r.sdp.split(`
`).filter(a=>a.trim()!=="a=extmap-allow-mixed").join(`
`);i.RTCSessionDescription&&r instanceof i.RTCSessionDescription?arguments[0]=new i.RTCSessionDescription({type:r.type,sdp:s}):r.sdp=s}return t.apply(this,arguments)}}function M2(i,e){if(!(i.RTCPeerConnection&&i.RTCPeerConnection.prototype))return;const t=i.RTCPeerConnection.prototype.addIceCandidate;!t||t.length===0||(i.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():t.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function O2(i,e){if(!(i.RTCPeerConnection&&i.RTCPeerConnection.prototype))return;const t=i.RTCPeerConnection.prototype.setLocalDescription;!t||t.length===0||(i.RTCPeerConnection.prototype.setLocalDescription=function(){let r=arguments[0]||{};if(typeof r!="object"||r.type&&r.sdp)return t.apply(this,arguments);if(r={type:r.type,sdp:r.sdp},!r.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":r.type="offer";break;default:r.type="answer";break}return r.sdp||r.type!=="offer"&&r.type!=="answer"?t.apply(this,[r]):(r.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(a=>t.apply(this,[a]))})}const Dj=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Hx,shimAddIceCandidateNullOrEmpty:M2,shimConnectionState:qx,shimMaxMessageSize:R2,shimParameterlessSetLocalDescription:O2,shimRTCIceCandidate:N2,shimRTCIceCandidateRelayProtocol:Ux,shimSendThrowTypeError:I2},Symbol.toStringTag,{value:"Module"}));function jj({window:i}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const t=yL,n=Ij(i),r={browserDetails:n,commonShim:Dj,extractVersion:L2,disableLog:Nj,disableWarnings:Rj,sdp:Fj};switch(n.browser){case"chrome":if(!Vk||!Bx||!e.shimChrome)return t("Chrome shim is not included in this adapter release."),r;if(n.version===null)return t("Chrome shim can not determine version, not shimming."),r;t("adapter.js shimming chrome."),r.browserShim=Vk,M2(i,n),O2(i),bL(i,n),_L(i),Bx(i,n),wL(i),CL(i,n),xL(i),SL(i),kL(i,n),N2(i),Ux(i),qx(i),R2(i,n),I2(i),Hx(i,n);break;case"firefox":if(!Wk||!zx||!e.shimFirefox)return t("Firefox shim is not included in this adapter release."),r;t("adapter.js shimming firefox."),r.browserShim=Wk,M2(i,n),O2(i),EL(i,n),zx(i,n),PL(i),NL(i),TL(i),LL(i),RL(i),IL(i),ML(i),OL(i),FL(i),N2(i),qx(i),R2(i,n),I2(i);break;case"safari":if(!Gk||!e.shimSafari)return t("Safari shim is not included in this adapter release."),r;t("adapter.js shimming safari."),r.browserShim=Gk,M2(i,n),O2(i),qL(i),$L(i),BL(i),DL(i),jL(i),HL(i),zL(i),VL(i),N2(i),Ux(i),R2(i,n),I2(i),Hx(i,n);break;default:t("Unsupported browser!");break}return r}const Xk=jj({window:typeof window>"u"?void 0:window});function Qp(i,e,t,n){Object.defineProperty(i,e,{get:t,set:n,enumerable:!0,configurable:!0})}class GL{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=e=>{const t=[],n=e.byteLength,r=Math.ceil(n/this.chunkedMTU);let s=0,a=0;for(;a<n;){const o=Math.min(n,a+this.chunkedMTU),c=e.slice(a,o),h={__peerData:this._dataCount,n:s,data:c,total:r};t.push(h),a=o,s++}return this._dataCount++,t}}}function Bj(i){let e=0;for(const r of i)e+=r.byteLength;const t=new Uint8Array(e);let n=0;for(const r of i)t.set(r,n),n+=r.byteLength;return t}const zw=Xk.default||Xk,K0=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const i=this.getBrowser(),e=this.getVersion();return this.supportedBrowsers.includes(i)?i==="chrome"?e>=this.minChromeVersion:i==="firefox"?e>=this.minFirefoxVersion:i==="safari"?!this.isIOS&&e>=this.minSafariVersion:!1:!1}getBrowser(){return zw.browserDetails.browser}getVersion(){return zw.browserDetails.version||0}isUnifiedPlanSupported(){const i=this.getBrowser(),e=zw.browserDetails.version||0;if(i==="chrome"&&e<this.minChromeVersion)return!1;if(i==="firefox"&&e>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let t,n=!1;try{t=new RTCPeerConnection,t.addTransceiver("audio"),n=!0}catch{}finally{t&&t.close()}return n}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},zj=i=>!i||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(i),YL=()=>Math.random().toString(36).slice(2),Kk={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class Uj extends GL{noop(){}blobToArrayBuffer(e,t){const n=new FileReader;return n.onload=function(r){r.target&&t(r.target.result)},n.readAsArrayBuffer(e),n}binaryStringToArrayBuffer(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n)&255;return t.buffer}isSecure(){return location.protocol==="https:"}constructor(...e){super(...e),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=Kk,this.browser=K0.getBrowser(),this.browserVersion=K0.getVersion(),this.pack=pL,this.unpack=fL,this.supports=function(){const t={browser:K0.isBrowserSupported(),webRTC:K0.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!t.webRTC)return t;let n;try{n=new RTCPeerConnection(Kk),t.audioVideo=!0;let r;try{r=n.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!r.ordered;try{r.binaryType="blob",t.binaryBlob=!K0.isIOS}catch{}}catch{}finally{r&&r.close()}}catch{}finally{n&&n.close()}return t}(),this.validateId=zj,this.randomToken=YL}}const ca=new Uj,qj="PeerJS: ";var Jk;(function(i){i[i.Disabled=0]="Disabled",i[i.Errors=1]="Errors",i[i.Warnings=2]="Warnings",i[i.All=3]="All"})(Jk||(Jk={}));class Hj{get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...t){const n=[qj,...t];for(const r in n)n[r]instanceof Error&&(n[r]="("+n[r].name+") "+n[r].message);e>=3?console.log(...n):e>=2?console.warn("WARNING",...n):e>=1&&console.error("ERROR",...n)}constructor(){this._logLevel=0}}var pt=new Hj,dA={},$j=Object.prototype.hasOwnProperty,zs="~";function z1(){}Object.create&&(z1.prototype=Object.create(null),new z1().__proto__||(zs=!1));function Vj(i,e,t){this.fn=i,this.context=e,this.once=t||!1}function XL(i,e,t,n,r){if(typeof t!="function")throw new TypeError("The listener must be a function");var s=new Vj(t,n||i,r),a=zs?zs+e:e;return i._events[a]?i._events[a].fn?i._events[a]=[i._events[a],s]:i._events[a].push(s):(i._events[a]=s,i._eventsCount++),i}function F2(i,e){--i._eventsCount===0?i._events=new z1:delete i._events[e]}function ys(){this._events=new z1,this._eventsCount=0}ys.prototype.eventNames=function(){var e=[],t,n;if(this._eventsCount===0)return e;for(n in t=this._events)$j.call(t,n)&&e.push(zs?n.slice(1):n);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e};ys.prototype.listeners=function(e){var t=zs?zs+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,s=n.length,a=new Array(s);r<s;r++)a[r]=n[r].fn;return a};ys.prototype.listenerCount=function(e){var t=zs?zs+e:e,n=this._events[t];return n?n.fn?1:n.length:0};ys.prototype.emit=function(e,t,n,r,s,a){var o=zs?zs+e:e;if(!this._events[o])return!1;var c=this._events[o],h=arguments.length,d,p;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,r),!0;case 5:return c.fn.call(c.context,t,n,r,s),!0;case 6:return c.fn.call(c.context,t,n,r,s,a),!0}for(p=1,d=new Array(h-1);p<h;p++)d[p-1]=arguments[p];c.fn.apply(c.context,d)}else{var y=c.length,v;for(p=0;p<y;p++)switch(c[p].once&&this.removeListener(e,c[p].fn,void 0,!0),h){case 1:c[p].fn.call(c[p].context);break;case 2:c[p].fn.call(c[p].context,t);break;case 3:c[p].fn.call(c[p].context,t,n);break;case 4:c[p].fn.call(c[p].context,t,n,r);break;default:if(!d)for(v=1,d=new Array(h-1);v<h;v++)d[v-1]=arguments[v];c[p].fn.apply(c[p].context,d)}}return!0};ys.prototype.on=function(e,t,n){return XL(this,e,t,n,!1)};ys.prototype.once=function(e,t,n){return XL(this,e,t,n,!0)};ys.prototype.removeListener=function(e,t,n,r){var s=zs?zs+e:e;if(!this._events[s])return this;if(!t)return F2(this,s),this;var a=this._events[s];if(a.fn)a.fn===t&&(!r||a.once)&&(!n||a.context===n)&&F2(this,s);else{for(var o=0,c=[],h=a.length;o<h;o++)(a[o].fn!==t||r&&!a[o].once||n&&a[o].context!==n)&&c.push(a[o]);c.length?this._events[s]=c.length===1?c[0]:c:F2(this,s)}return this};ys.prototype.removeAllListeners=function(e){var t;return e?(t=zs?zs+e:e,this._events[t]&&F2(this,t)):(this._events=new z1,this._eventsCount=0),this};ys.prototype.off=ys.prototype.removeListener;ys.prototype.addListener=ys.prototype.on;ys.prefixed=zs;ys.EventEmitter=ys;dA=ys;var Zp={};Qp(Zp,"ConnectionType",()=>xc);Qp(Zp,"PeerErrorType",()=>xr);Qp(Zp,"BaseConnectionErrorType",()=>U1);Qp(Zp,"DataConnectionErrorType",()=>q1);Qp(Zp,"SerializationType",()=>p0);Qp(Zp,"SocketEventType",()=>vc);Qp(Zp,"ServerMessageType",()=>Ai);var xc;(function(i){i.Data="data",i.Media="media"})(xc||(xc={}));var xr;(function(i){i.BrowserIncompatible="browser-incompatible",i.Disconnected="disconnected",i.InvalidID="invalid-id",i.InvalidKey="invalid-key",i.Network="network",i.PeerUnavailable="peer-unavailable",i.SslUnavailable="ssl-unavailable",i.ServerError="server-error",i.SocketError="socket-error",i.SocketClosed="socket-closed",i.UnavailableID="unavailable-id",i.WebRTC="webrtc"})(xr||(xr={}));var U1;(function(i){i.NegotiationFailed="negotiation-failed",i.ConnectionClosed="connection-closed"})(U1||(U1={}));var q1;(function(i){i.NotOpenYet="not-open-yet",i.MessageToBig="message-too-big"})(q1||(q1={}));var p0;(function(i){i.Binary="binary",i.BinaryUTF8="binary-utf8",i.JSON="json",i.None="raw"})(p0||(p0={}));var vc;(function(i){i.Message="message",i.Disconnected="disconnected",i.Error="error",i.Close="close"})(vc||(vc={}));var Ai;(function(i){i.Heartbeat="HEARTBEAT",i.Candidate="CANDIDATE",i.Offer="OFFER",i.Answer="ANSWER",i.Open="OPEN",i.Error="ERROR",i.IdTaken="ID-TAKEN",i.InvalidKey="INVALID-KEY",i.Leave="LEAVE",i.Expire="EXPIRE"})(Ai||(Ai={}));var fA={};fA=JSON.parse('{"name":"peerjs","version":"1.5.4","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz Stückler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","Sören Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","browser-minified-msgpack":"dist/serializer.msgpack.mjs","types":"dist/types.d.ts","engines":{"node":">= 14"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-minified-msgpack":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/MsgPack.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit && tsc -p e2e/tsconfig.json --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"jest","test:watch":"jest --watch","coverage":"jest --coverage --collectCoverageFrom=\\"./lib/**\\"","format":"prettier --write .","format:check":"prettier --check .","semantic-release":"semantic-release","e2e":"wdio run e2e/wdio.local.conf.ts","e2e:bstack":"wdio run e2e/wdio.bstack.conf.ts"},"devDependencies":{"@parcel/config-default":"^2.9.3","@parcel/packager-ts":"^2.9.3","@parcel/transformer-typescript-tsc":"^2.9.3","@parcel/transformer-typescript-types":"^2.9.3","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@swc/core":"^1.3.27","@swc/jest":"^0.2.24","@types/jasmine":"^4.3.4","@wdio/browserstack-service":"^8.11.2","@wdio/cli":"^8.11.2","@wdio/globals":"^8.11.2","@wdio/jasmine-framework":"^8.11.2","@wdio/local-runner":"^8.11.2","@wdio/spec-reporter":"^8.11.2","@wdio/types":"^8.10.4","http-server":"^14.1.1","jest":"^29.3.1","jest-environment-jsdom":"^29.3.1","mock-socket":"^9.0.0","parcel":"^2.9.3","prettier":"^3.0.0","semantic-release":"^21.0.0","ts-node":"^10.9.1","typescript":"^5.0.0","wdio-geckodriver-service":"^5.0.1"},"dependencies":{"@msgpack/msgpack":"^2.8.0","eventemitter3":"^4.0.7","peerjs-js-binarypack":"^2.1.0","webrtc-adapter":"^9.0.0"},"alias":{"process":false,"buffer":false}}');class Wj extends dA.EventEmitter{constructor(e,t,n,r,s,a=5e3){super(),this.pingInterval=a,this._disconnected=!0,this._messagesQueue=[];const o=e?"wss://":"ws://";this._baseUrl=o+t+":"+n+r+"peerjs?key="+s}start(e,t){this._id=e;const n=`${this._baseUrl}&id=${e}&token=${t}`;this._socket||!this._disconnected||(this._socket=new WebSocket(n+"&version="+fA.version),this._disconnected=!1,this._socket.onmessage=r=>{let s;try{s=JSON.parse(r.data),pt.log("Server message received:",s)}catch{pt.log("Invalid server message",r.data);return}this.emit(vc.Message,s)},this._socket.onclose=r=>{this._disconnected||(pt.log("Socket closed.",r),this._cleanup(),this._disconnected=!0,this.emit(vc.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),pt.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){pt.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:Ai.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const t of e)this.send(t)}send(e){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(e);return}if(!e.type){this.emit(vc.Error,"Invalid message");return}if(!this._wsOpen())return;const t=JSON.stringify(e);this._socket.send(t)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class KL{constructor(e){this.connection=e}startConnection(e){const t=this._startPeerConnection();if(this.connection.peerConnection=t,this.connection.type===xc.Media&&e._stream&&this._addTracksToConnection(e._stream,t),e.originator){const n=this.connection,r={ordered:!!e.reliable},s=t.createDataChannel(n.label,r);n._initializeDataChannel(s),this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){pt.log("Creating RTCPeerConnection.");const e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e}_setupListeners(e){const t=this.connection.peer,n=this.connection.connectionId,r=this.connection.type,s=this.connection.provider;pt.log("Listening for ICE candidates."),e.onicecandidate=a=>{!a.candidate||!a.candidate.candidate||(pt.log(`Received ICE candidates for ${t}:`,a.candidate),s.socket.send({type:Ai.Candidate,payload:{candidate:a.candidate,type:r,connectionId:n},dst:t}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":pt.log("iceConnectionState is failed, closing connections to "+t),this.connection.emitError(U1.NegotiationFailed,"Negotiation of connection to "+t+" failed."),this.connection.close();break;case"closed":pt.log("iceConnectionState is closed, closing connections to "+t),this.connection.emitError(U1.ConnectionClosed,"Connection to "+t+" closed."),this.connection.close();break;case"disconnected":pt.log("iceConnectionState changed to disconnected on the connection with "+t);break;case"completed":e.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",e.iceConnectionState)},pt.log("Listening for data channel"),e.ondatachannel=a=>{pt.log("Received data channel");const o=a.channel;s.getConnection(t,n)._initializeDataChannel(o)},pt.log("Listening for remote stream"),e.ontrack=a=>{pt.log("Received remote stream");const o=a.streams[0],c=s.getConnection(t,n);if(c.type===xc.Media){const h=c;this._addStreamToMediaConnection(o,h)}}}cleanup(){pt.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=()=>{};const t=e.signalingState!=="closed";let n=!1;const r=this.connection.dataChannel;r&&(n=!!r.readyState&&r.readyState!=="closed"),(t||n)&&e.close()}async _makeOffer(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=await e.createOffer(this.connection.options.constraints);pt.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{await e.setLocalDescription(n),pt.log("Set localDescription:",n,`for:${this.connection.peer}`);let r={sdp:n,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===xc.Data){const s=this.connection;r={...r,label:s.label,reliable:s.reliable,serialization:s.serialization}}t.socket.send({type:Ai.Offer,payload:r,dst:this.connection.peer})}catch(r){r!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(t.emitError(xr.WebRTC,r),pt.log("Failed to setLocalDescription, ",r))}}catch(n){t.emitError(xr.WebRTC,n),pt.log("Failed to createOffer, ",n)}}async _makeAnswer(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=await e.createAnswer();pt.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{await e.setLocalDescription(n),pt.log("Set localDescription:",n,`for:${this.connection.peer}`),t.socket.send({type:Ai.Answer,payload:{sdp:n,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(r){t.emitError(xr.WebRTC,r),pt.log("Failed to setLocalDescription, ",r)}}catch(n){t.emitError(xr.WebRTC,n),pt.log("Failed to create answer, ",n)}}async handleSDP(e,t){t=new RTCSessionDescription(t);const n=this.connection.peerConnection,r=this.connection.provider;pt.log("Setting remote description",t);const s=this;try{await n.setRemoteDescription(t),pt.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&await s._makeAnswer()}catch(a){r.emitError(xr.WebRTC,a),pt.log("Failed to setRemoteDescription, ",a)}}async handleCandidate(e){pt.log("handleCandidate:",e);try{await this.connection.peerConnection.addIceCandidate(e),pt.log(`Added ICE candidate for:${this.connection.peer}`)}catch(t){this.connection.provider.emitError(xr.WebRTC,t),pt.log("Failed to handleCandidate, ",t)}}_addTracksToConnection(e,t){if(pt.log(`add tracks from stream ${e.id} to peer connection`),!t.addTrack)return pt.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(n=>{t.addTrack(n,e)})}_addStreamToMediaConnection(e,t){pt.log(`add stream ${e.id} to media connection ${t.connectionId}`),t.addStream(e)}}class JL extends dA.EventEmitter{emitError(e,t){pt.error("Error:",t),this.emit("error",new Gj(`${e}`,t))}}class Gj extends Error{constructor(e,t){typeof t=="string"?super(t):(super(),Object.assign(this,t)),this.type=e}}class QL extends JL{get open(){return this._open}constructor(e,t,n){super(),this.peer=e,this.provider=t,this.options=n,this._open=!1,this.metadata=n.metadata}}var SS;const P1=class P1 extends QL{get type(){return xc.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,t,n){super(e,t,n),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||P1.ID_PREFIX+ca.randomToken(),this._negotiator=new KL(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{pt.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{pt.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(e){pt.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const t=e.type,n=e.payload;switch(e.type){case Ai.Answer:this._negotiator.handleSDP(t,n.sdp),this._open=!0;break;case Ai.Candidate:this._negotiator.handleCandidate(n.candidate);break;default:pt.warn(`Unrecognized message type:${t} from peer:${this.peer}`);break}}answer(e,t={}){if(this._localStream){pt.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,t&&t.sdpTransform&&(this.options.sdpTransform=t.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:e});const n=this.provider._getMessages(this.connectionId);for(const r of n)this.handleMessage(r);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}};SS=new WeakMap,J(P1,SS,P1.ID_PREFIX="mc_");let Pb=P1;class Yj{constructor(e){this._options=e}_buildRequest(e){const t=this._options.secure?"https":"http",{host:n,port:r,path:s,key:a}=this._options,o=new URL(`${t}://${n}:${r}${s}${a}/${e}`);return o.searchParams.set("ts",`${Date.now()}${Math.random()}`),o.searchParams.set("version",fA.version),fetch(o.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const e=await this._buildRequest("id");if(e.status!==200)throw new Error(`Error. Status:${e.status}`);return e.text()}catch(e){pt.error("Error retrieving ID",e);let t="";throw this._options.path==="/"&&this._options.host!==ca.CLOUD_HOST&&(t=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+t)}}async listAllPeers(){try{const e=await this._buildRequest("peers");if(e.status!==200){if(e.status===401){let t="";throw this._options.host===ca.CLOUD_HOST?t="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":t="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+t)}throw new Error(`Error. Status:${e.status}`)}return e.json()}catch(e){throw pt.error("Error retrieving list peers",e),new Error("Could not get list peers from the server."+e)}}}var AS,CS;const Rf=class Rf extends QL{get type(){return xc.Data}constructor(e,t,n){super(e,t,n),this.connectionId=this.options.connectionId||Rf.ID_PREFIX+YL(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new KL(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{pt.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=t=>{pt.log(`DC#${this.connectionId} dc onmessage:`,t.data)},this.dataChannel.onclose=()=>{pt.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(e,t=!1){if(!this.open){this.emitError(q1.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(e,t)}async handleMessage(e){const t=e.payload;switch(e.type){case Ai.Answer:await this._negotiator.handleSDP(e.type,t.sdp);break;case Ai.Candidate:await this._negotiator.handleCandidate(t.candidate);break;default:pt.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}};AS=new WeakMap,CS=new WeakMap,J(Rf,AS,Rf.ID_PREFIX="dc_"),J(Rf,CS,Rf.MAX_BUFFERED_AMOUNT=8388608);let Tb=Rf;class pA extends Tb{get bufferSize(){return this._bufferSize}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",t=>this._handleDataMessage(t))}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>Tb.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(t){return pt.error(`DC#:${this.connectionId} Error when sending:`,t),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...e){super(...e),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class Uw extends pA{close(e){super.close(e),this._chunkedData={}}constructor(e,t,n){super(e,t,n),this.chunker=new GL,this.serialization=p0.Binary,this._chunkedData={}}_handleDataMessage({data:e}){const t=fL(e),n=t.__peerData;if(n){if(n.type==="close"){this.close();return}this._handleChunk(t);return}this.emit("data",t)}_handleChunk(e){const t=e.__peerData,n=this._chunkedData[t]||{data:[],count:0,total:e.total};if(n.data[e.n]=new Uint8Array(e.data),n.count++,this._chunkedData[t]=n,n.total===n.count){delete this._chunkedData[t];const r=Bj(n.data);this._handleDataMessage({data:r})}}_send(e,t){const n=pL(e);if(n instanceof Promise)return this._send_blob(n);if(!t&&n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}async _send_blob(e){const t=await e;if(t.byteLength>this.chunker.chunkedMTU){this._sendChunks(t);return}this._bufferedSend(t)}_sendChunks(e){const t=this.chunker.chunk(e);pt.log(`DC#${this.connectionId} Try to send ${t.length} chunks...`);for(const n of t)this.send(n,!0)}}class Xj extends pA{_handleDataMessage({data:e}){super.emit("data",e)}_send(e,t){this._bufferedSend(e)}constructor(...e){super(...e),this.serialization=p0.None}}class Kj extends pA{_handleDataMessage({data:e}){const t=this.parse(this.decoder.decode(e)),n=t.__peerData;if(n&&n.type==="close"){this.close();return}this.emit("data",t)}_send(e,t){const n=this.encoder.encode(this.stringify(e));if(n.byteLength>=ca.chunkedMTU){this.emitError(q1.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(n)}constructor(...e){super(...e),this.serialization=p0.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}var kS;const T1=class T1 extends JL{get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(const[t,n]of this._connections)e[t]=n;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(e,t){super(),this._serializers={raw:Xj,json:Kj,binary:Uw,"binary-utf8":Uw,default:Uw},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let n;if(e&&e.constructor==Object?t=e:e&&(n=e.toString()),t={debug:0,host:ca.CLOUD_HOST,port:ca.CLOUD_PORT,path:"/",key:T1.DEFAULT_KEY,token:ca.randomToken(),config:ca.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...t},this._options=t,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==ca.CLOUD_HOST?this._options.secure=ca.isSecure():this._options.host==ca.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&pt.setLogFunction(this._options.logFunction),pt.logLevel=this._options.debug||0,this._api=new Yj(t),this._socket=this._createServerConnection(),!ca.supports.audioVideo&&!ca.supports.data){this._delayedAbort(xr.BrowserIncompatible,"The current browser does not support WebRTC");return}if(n&&!ca.validateId(n)){this._delayedAbort(xr.InvalidID,`ID "${n}" is invalid`);return}n?this._initialize(n):this._api.retrieveId().then(r=>this._initialize(r)).catch(r=>this._abort(xr.ServerError,r))}_createServerConnection(){const e=new Wj(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return e.on(vc.Message,t=>{this._handleMessage(t)}),e.on(vc.Error,t=>{this._abort(xr.SocketError,t)}),e.on(vc.Disconnected,()=>{this.disconnected||(this.emitError(xr.Network,"Lost connection to server."),this.disconnect())}),e.on(vc.Close,()=>{this.disconnected||this._abort(xr.SocketClosed,"Underlying socket is already closed.")}),e}_initialize(e){this._id=e,this.socket.start(e,this._options.token)}_handleMessage(e){const t=e.type,n=e.payload,r=e.src;switch(t){case Ai.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case Ai.Error:this._abort(xr.ServerError,n.msg);break;case Ai.IdTaken:this._abort(xr.UnavailableID,`ID "${this.id}" is taken`);break;case Ai.InvalidKey:this._abort(xr.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case Ai.Leave:pt.log(`Received leave message from ${r}`),this._cleanupPeer(r),this._connections.delete(r);break;case Ai.Expire:this.emitError(xr.PeerUnavailable,`Could not connect to peer ${r}`);break;case Ai.Offer:{const s=n.connectionId;let a=this.getConnection(r,s);if(a&&(a.close(),pt.warn(`Offer received for existing Connection ID:${s}`)),n.type===xc.Media){const c=new Pb(r,this,{connectionId:s,_payload:n,metadata:n.metadata});a=c,this._addConnection(r,a),this.emit("call",c)}else if(n.type===xc.Data){const c=new this._serializers[n.serialization](r,this,{connectionId:s,_payload:n,metadata:n.metadata,label:n.label,serialization:n.serialization,reliable:n.reliable});a=c,this._addConnection(r,a),this.emit("connection",c)}else{pt.warn(`Received malformed connection type:${n.type}`);return}const o=this._getMessages(s);for(const c of o)a.handleMessage(c);break}default:{if(!n){pt.warn(`You received a malformed message from ${r} of type ${t}`);return}const s=n.connectionId,a=this.getConnection(r,s);a&&a.peerConnection?a.handleMessage(e):s?this._storeMessage(s,e):pt.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,t){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(t)}_getMessages(e){const t=this._lostMessages.get(e);return t?(this._lostMessages.delete(e),t):[]}connect(e,t={}){if(t={serialization:"default",...t},this.disconnected){pt.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(xr.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const n=new this._serializers[t.serialization](e,this,t);return this._addConnection(e,n),n}call(e,t,n={}){if(this.disconnected){pt.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(xr.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!t){pt.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const r=new Pb(e,this,{...n,_stream:t});return this._addConnection(e,r),r}_addConnection(e,t){pt.log(`add connection ${t.type}:${t.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(t)}_removeConnection(e){const t=this._connections.get(e.peer);if(t){const n=t.indexOf(e);n!==-1&&t.splice(n,1)}this._lostMessages.delete(e.connectionId)}getConnection(e,t){const n=this._connections.get(e);if(!n)return null;for(const r of n)if(r.connectionId===t)return r;return null}_delayedAbort(e,t){setTimeout(()=>{this._abort(e,t)},0)}_abort(e,t){pt.error("Aborting!"),this.emitError(e,t),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(pt.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const t=this._connections.get(e);if(t)for(const n of t)n.close()}disconnect(){if(this.disconnected)return;const e=this.id;pt.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)pt.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)pt.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=t=>{}){this._api.listAllPeers().then(t=>e(t)).catch(t=>this._abort(xr.ServerError,t))}};kS=new WeakMap,J(T1,kS,T1.DEFAULT_KEY="peerjs");let $x=T1;var Jj=$x;const ii=a_((i,e)=>({messages:[],users:[],groups:[],selectedUser:null,selectedGroup:null,isUsersLoading:!0,isMessagesLoading:!1,sidebarRefresh:!0,isUserMessageLoading:!1,newMessageFromUser:!1,setNewMsg:t=>i({newMessageFromUser:t}),setVideoCall:t=>i({videoCall:t}),getNotifications:async()=>{Fr.getState().socket.on("notification",()=>{i({sidebarRefresh:!0})})},getUsers:async()=>{try{const t=await Bn.get("/messages/users");i({users:[...t.data]})}catch(t){Zt.error(t.response.data.message)}finally{i({isUsersLoading:!1})}},addFriend:async t=>{try{const n=await Bn.patch(`/messages/add-friend/${t}`);i({users:n.data.updatedFriends}),Zt.success("Friend added successfully"),i({sidebarRefresh:!0})}catch(n){Zt.error(n.response.data.message)}},removeFriend:async t=>{try{const n=await Bn.patch(`/messages/add-friend/${t}`);i({users:n.data.updatedFriends}),Zt.success("Friend removed successfully"),i({sidebarRefresh:!0})}catch(n){Zt.error(n.response.data.message)}},createGroup:async t=>{try{const{groups:n}=e(),r=await Bn.post("/groups/create-group",t);i({groups:r.data.updatedGroups}),Zt.success(r.data.message)}catch(n){Zt.error(n.data.message)}},getMessages:async(t,n)=>{var r;n==1&&i({isMessagesLoading:!0});try{let s;t.fullName===void 0?s=await Bn.get(`/groups/get-group-messages/${t._id}`):s=await Bn.get(`/messages/${t._id}/${n}`),s.data!=null&&i({messages:s.data});const a=e().newMessageFromUser;i({newMessageFromUser:!0})}catch(s){Zt.error(((r=s.response)==null?void 0:r.message)||"An error occurred while fetching messages.")}finally{i({isMessagesLoading:!1})}},getAiMessage:async t=>{const{selectedUser:n,messages:r}=e();try{let s={};n.fullName!==void 0?s=await Bn.post("/messages/ai-chat",{...t,receiverId:n._id,groupId:null}):s=await Bn.post("/messages/ai-chat",{...t,receiverId:null,groupId:n._id});const a={...s.data,_id:"1",senderId:"67af8f1706ba3b36e9679f9d",senderInfo:{fullName:"Rapid AI",profilePic:"https://imgcdn.stablediffusionweb.com/2024/10/20/a11e6805-65f5-4402-bef9-891ab7347104.jpg"}};i({messages:[...r,a]})}catch(s){Zt.error(s.response.data.message)}},sendMessage:async t=>{const{selectedUser:n,messages:r}=e();try{let s;n.name!==void 0?s=await Bn.post("/groups/send-group-message",{...t,groupId:n._id}):s=await Bn.post(`/messages/send/${n._id}`,t),i({messages:[...r,s.data]}),i({sidebarRefresh:!0})}catch(s){Zt.error(s.response.data.message)}finally{}},sendImage:async t=>{const{selectedUser:n,messages:r}=e();try{const s=await Bn.post(`/messages/send-image/${n._id}`,t);i({messages:[...r,s.data]}),i({sidebarRefresh:!0})}catch(s){Zt.error(s.response.data.message)}},endStream:async()=>{try{const{selectedUser:t}=e(),n=await Bn.get(`/auth/user/end-stream/${t._id}`);console.log("here ",n.data),Zt.success("Stream ended successfully")}catch{Zt.error("Couldn't end the stream")}},subscribeToMessages:()=>{const{selectedUser:t}=e();if(!t)return;Fr.getState().socket.on("newMessage",r=>{i({sidebarRefresh:!0}),r.senderId===t._id&&i({messages:[...e().messages,r]})})},subscribeToGroup:()=>{const{selectedUser:t}=e(),n=Fr.getState().socket,r=Fr.getState().authUser;n.emit("joinGroup",{groupId:t._id,userId:r._id}),n.on("receiveGroupMessage",s=>{i({sidebarRefresh:!0}),s.groupId===t._id&&i({messages:[...e().messages,s]})}),n.on("recieveGroupVideoCall",s=>{i({sidebarRefresh:!0}),s.groupId===t._id&&i({messages:[...e().messages,s]})})},unsubscribeFromMessages:()=>{const t=Fr.getState().socket,{selectedUser:n}=e();n!=null&&n.fullName?t.off("newMessage"):t.off("receiveGroupMessage")},setSelectedUser:t=>i({selectedUser:t}),setSidebarRefresh:t=>i({sidebarRefresh:t})})),Qj="http://localhost:3000/",Fr=a_((i,e)=>({authUser:null,isSigningUp:!1,isLoggingIn:!1,isUpdatingProfile:!1,isCheckingAuth:!0,onlineUsers:[],socket:null,peer:null,peerId:null,friendPeerId:null,callerName:null,removePeerId:()=>{i({friendPeerId:null})},checkAuth:async()=>{try{const t=await Bn.get("/auth/check");i({authUser:t.data}),e().connectSocket()}catch(t){console.log("Error in checkAuth:",t),i({authUser:null})}finally{i({isCheckingAuth:!1})}},signup:async t=>{i({isSigningUp:!0});try{const n=await Bn.post("/auth/signup",t);i({authUser:n.data}),Zt.success("Account created successfully"),e().connectSocket()}catch(n){Zt.error(n.response.data.message)}finally{i({isSigningUp:!1})}},login:async t=>{var n;i({isLoggingIn:!0});try{const r=await Bn.post("/auth/login",t);i({authUser:r.data}),Zt.success("Logged in successfully"),e().connectSocket()}catch(r){Zt.error((n=r.response)==null?void 0:n.data.message)}finally{i({isLoggingIn:!1})}},logout:async()=>{try{await Bn.post("/auth/logout"),i({authUser:null}),Zt.success("Logged out successfully"),e().disconnectSocket()}catch(t){Zt.error(t.response.data.message)}},getPeerId:()=>{const t=ii.getState().selectedUser,n=e().authUser,r=e().socket;console.log("calling"),t.name!==void 0?r.emit("get-peer-id",t,n,!0):r.emit("get-peer-id",t._id,n,!1)},updateProfile:async t=>{i({isUpdatingProfile:!0});try{const n=await Bn.put("/auth/update-profile",t);i({authUser:n.data}),Zt.success("Profile updated successfully")}catch(n){console.log("error in update profile:",n),Zt.error(n.response.data.message)}finally{i({isUpdatingProfile:!1})}},connectSocket:()=>{var s;const{authUser:t}=e();if(!t||(s=e().socket)!=null&&s.connected)return;const n=T2(Qj,{query:{userId:t._id}});n.connect(),i({socket:n}),n.on("getOnlineUsers",a=>{i({onlineUsers:a})}),n.on("send-local-peer-id",(a,o)=>{console.log("sending local peer id");const c=e().peerId;o(c)}),n.on("get-local-peer-id",(a,o)=>{i({callerName:o.fullName});const c=ii.getState().setSelectedUser,h=ii.getState().setVideoCall;c({...o}),h(!0),console.log("getting local peer id",a);const d=e().peerId;console.log("this is peerid",d),e().socket.emit("send-peer-id",d,a)}),n.on("take-peer-id",a=>{console.log("taking peer id here",a),i({friendPeerId:a})});const r=new Jj;i({peer:r}),r.on("open",a=>{i({peerId:a}),console.log("do now")})},disconnectSocket:()=>{var t;(t=e().socket)!=null&&t.connected&&e().socket.disconnect()}})),Zj=()=>{const i=te.useRef(null),{logout:e,authUser:t}=Fr(),{addFriend:n}=ii(),[r,s]=te.useState(!1),[a,o]=te.useState(""),{contextSafe:c}=nA(),h=c(()=>{Lf.to(i.current,{x:"0vw"}),s(!1),setTimeout(()=>{let y=Lf.timeline({paused:!0});const v=document.getElementById("backDiv");y.to(v,{opacity:0}),y.to(v,{display:"none"}),y.play()},100)}),d=c(()=>{const y=document.getElementById("backDiv");Lf.to(y,{display:"block"}),Lf.to(i.current,{x:"-30vw"}),Lf.to(y,{opacity:.7})}),p=()=>{n(a)};return L.jsxs(L.Fragment,{children:[L.jsx("button",{onClick:d,children:L.jsx(RM,{})}),L.jsxs("div",{className:"",children:[L.jsx("div",{id:"backDiv",className:"bg-black hidden opacity-0 absolute top-0 left-0 w-screen h-screen z-[100] "}),L.jsxs("div",{ref:i,className:"w-[20vw] mr-[-30vw] h-screen rounded-l-md right-0 fixed bg-base-300 top-0 z-[101]",children:[L.jsx("button",{className:"ml-[-1.34rem] w-[1.33rem] absolute bg-base-100 text-sm h-10 mt-5 rounded-l-sm z-[99]",onClick:()=>{h()},children:L.jsx(fM,{})}),L.jsxs("div",{children:[L.jsx("div",{className:"px-5 pt-5 rounded-sm flex justify-center items-center overflow-hidden max-h-[50vh] max-w-full",children:L.jsx("img",{src:t==null?void 0:t.profilePic,alt:""})}),L.jsx("h1",{className:"w-full text-center text-3xl font-bold",children:t==null?void 0:t.fullName})]}),L.jsx("div",{className:"flex items-center  px-4 py-5 gap-4 flex-col",children:t&&L.jsxs(L.Fragment,{children:[L.jsx("input",{type:"text",onChange:y=>o(y.target.value)}),L.jsx("button",{onClick:p,children:"add"}),L.jsxs(kd,{to:"/profile",onClick:()=>{h()},className:"btn btn-sm gap-2 w-full",children:[L.jsx(DS,{className:"size-5"}),L.jsx("span",{className:"hidden sm:inline",children:"Profile"})]}),L.jsxs(kd,{onClick:()=>{h()},to:"/create-group",className:"btn btn-sm w-full gap-2 transition-colors",children:[L.jsx(jS,{className:"w-4 h-4"}),L.jsx("span",{className:"hidden sm:inline",children:"Create Group"})]}),L.jsxs(kd,{onClick:()=>{h()},to:"/settings",className:"btn btn-sm w-full gap-2 transition-colors",children:[L.jsx(BM,{className:"w-4 h-4"}),L.jsx("span",{className:"hidden sm:inline",children:"Settings"})]}),L.jsxs("button",{onClick:()=>{h(),e()},className:"flex gap-2 items-center",children:[L.jsx(EM,{className:"size-5"}),L.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})})]})]})]})},e4=()=>L.jsx("header",{className:`bg-base-100 border-b border-base-300 fixed w-full top-0 z-40 
    backdrop-blur-lg bg-base-100/80`,children:L.jsx("div",{className:"container mx-auto px-4 h-16",children:L.jsxs("div",{className:"flex items-center justify-between h-full",children:[L.jsx("div",{className:"flex items-center gap-8",children:L.jsxs(kd,{to:"/",className:"flex items-center gap-2.5 hover:opacity-80 transition-all",children:[L.jsx("div",{className:"size-9 rounded-lg bg-primary/10 flex items-center justify-center",children:L.jsx(zp,{className:"w-5 h-5 text-primary"})}),L.jsx("h1",{className:"text-lg font-bold",children:"RapidStudy"})]})}),L.jsx("div",{children:L.jsx(Zj,{})})]})})}),Ju=a_((i,e)=>({streamMode:!1,streamData:[],streamSet:!1,streamYoutube:!1,pdfScroll:0,pdfCheck:!1,pdfScrollTop:0,setStreamYoutube:t=>i({streamYoutube:t}),setPdfScroll:t=>i({pdfScroll:t}),checkAndLoadUrl:async t=>{await Bn.get(`/stream/check-url/?url=${t}`)},getStreamCreation:async()=>{const t=Fr.getState().socket;t.on("stream",async n=>{n.stopTime==null?(i({streamData:n}),i({streamSet:!0})):(i({streamData:[]}),i({streamSet:!1}))}),t.on("streamControls",async(n,r,s)=>{i({pdfCheck:!e().pdfCheck}),setTimeout(async()=>{const a=e().pdfScroll,o=e().streamData;n==999999&&(o==null?void 0:o._id)==r._id?await Bn.get(`/stream/stream-control/${s}/${a}/${r._id}`):i({pdfScrollTop:n})},100)})},getStreamAiMessage:async t=>{var s,a;const n=ii.getState().selectedUser,r=ii.getState().messages;try{let o={};if(n.fullName!==void 0){const{streamData:h}=e();console.log("streamData",h),o=await Bn.post("/stream/stream-ai",{...t,data:(a=(s=h==null?void 0:h.streamInfo)==null?void 0:s.pdfData)==null?void 0:a.slice(0,5800),receiverId:n._id,groupId:null})}else o=await Bn.post("/stream/stream-ai",{...t,receiverId:null,groupId:n._id});const c={...o.data,_id:"1",senderId:"67af8f1706ba3b36e9679f9d",senderInfo:{fullName:"Rapid AI",profilePic:"https://imgcdn.stablediffusionweb.com/2024/10/20/a11e6805-65f5-4402-bef9-891ab7347104.jpg"}};i({messages:[...r,c]})}catch(o){Zt.error("error in getting stream ai message"+o)}},createStream:async t=>{try{const n=await Bn.post("/stream/create-stream",t);i({streamData:n.data}),Zt.success("Stream created successfully"+n.data)}catch{Zt.error("Couldn't create the stream")}},getStream:async()=>{try{const t=ii.getState().selectedUser,n=await Bn.get(`/stream/get-stream/${t._id}`);n.data.length?(console.log("here ",n.data),i({streamData:n.data[0]})):i({streamData:[]})}catch{i({streamData:[]})}},streamStart:async()=>{console.log("stream start")},endStream:async()=>{try{const t=ii.getState().selectedUser,n=await Bn.get(`/stream/end-stream/${t._id}`);console.log("here ",n.data),Zt.success("Stream ended successfully")}catch{Zt.error("Couldn't end the stream")}},setStreamMode:t=>i({streamMode:t}),setStreamData:t=>i({streamData:t}),setStartStreaming:t=>i({startStreaming:t})})),t4=()=>{const i=Array(8).fill(null);return L.jsxs("aside",{className:`h-full w-20   lg:w-72 border-r border-base-300 
    flex flex-col transition-all duration-200`,children:[L.jsx("div",{className:"border-b border-base-300 w-full p-5",children:L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx(jS,{className:"w-6 h-6"}),L.jsx("span",{className:"font-medium hidden lg:block",children:"Contacts"})]})}),L.jsx("div",{className:"overflow-y-auto  py-3",children:i.map((e,t)=>L.jsxs("div",{className:"w-full p-3 flex items-center gap-3",children:[L.jsx("div",{className:"relative mx-auto lg:mx-0",children:L.jsx("div",{className:"skeleton size-12 rounded-full"})}),L.jsxs("div",{className:"hidden lg:block text-left min-w-0 flex-1",children:[L.jsx("div",{className:"skeleton h-4 w-32 mb-2"}),L.jsx("div",{className:"skeleton h-3 w-16"})]})]},t))})]})},n4=()=>{const{getUsers:i,getNotifications:e,sidebarRefresh:t,setSidebarRefresh:n,groups:r,users:s,selectedUser:a,setSelectedUser:o,isUsersLoading:c,addFriend:h}=ii(),{getStreamCreation:d,streamMode:p}=Ju(),{onlineUsers:y,authUser:v}=Fr(),[x,w]=te.useState("");te.useEffect(()=>{t&&(i(),console.log(v),console.log("refreshih",t),n(!1))},[t]),te.useEffect(()=>{e(),d(),i()},[]);const C=[...s,...r];return c?L.jsx(t4,{}):L.jsxs("aside",{className:`h-full w-24 ${p?" ":"lg:w-72"} border-r border-base-300 flex flex-col transition-all duration-200`,children:[L.jsx("div",{className:"border-b border-base-300 w-full p-5",children:L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx(jS,{className:"size-6"}),L.jsx("span",{className:`hidden ${p?"":"lg:block "} font-medium  `,children:"Contacts"})]})}),L.jsxs("div",{className:"overflow-y-auto w-full py-3",children:[C.map(S=>{var P,R,M,O,$;return L.jsxs("button",{onClick:()=>o(S),className:`
              w-full p-3 flex items-center gap-3
              hover:bg-base-300 transition-colors
              ${(a==null?void 0:a._id)===S._id?"bg-base-300 ring-1 ring-base-300":""}
            `,children:[L.jsxs("div",{className:"relative mx-auto lg:mx-0",children:[L.jsx("img",{loading:"blur",src:S.name!==void 0?S.profilePic||"/group.png":S.profilePic||"/avatar.png",alt:S.name,className:"size-12 object-cover rounded-full brightness-95"}),y.includes(S._id)&&L.jsx("span",{className:`absolute bottom-0 right-0 size-3 bg-green-500 \r
                  rounded-full ring-2 ring-zinc-900`})]}),L.jsxs("div",{className:`hidden ${p?"":"lg:block "} text-left min-w-0`,children:[L.jsx("div",{className:"font-medium truncate",children:S.fullName||S.name}),L.jsxs("div",{className:"text-sm text-zinc-400 flex",children:[S.name&&L.jsx("span",{className:"text-green-400 font-semibold pr-1",children:((P=S==null?void 0:S.timeline)==null?void 0:P.senderId)==v._id?"You :":"Idk :"}),L.jsxs("div",{className:"overflow-x-hidden flex ",children:[L.jsx("span",{children:(M=(R=S==null?void 0:S.timeline)==null?void 0:R.text)==null?void 0:M.slice(0,20)})," ",L.jsxs("span",{children:[" ",(($=(O=S==null?void 0:S.timeline)==null?void 0:O.text)==null?void 0:$.length)>=20?"...":""]})]})]})]})]},S._id)}),C.length===0&&L.jsx("div",{className:"text-center text-zinc-500 py-4",children:"No online users"})]})]})};function mA(){return L.jsx("div",{children:L.jsxs("div",{role:"status",className:"m-auto w-fit p-4 z-50",children:[L.jsxs("svg",{"aria-hidden":"true",className:"   w-10 h-10 fill-primary-content    animate-spin text-secondary  ",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[L.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),L.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),L.jsx("span",{className:"   sr-only",children:"Loading..."})]})})}const r4=()=>{var P,R;const[i,e]=te.useState(""),[t,n]=te.useState(""),r=te.useRef(null),{authUser:s}=Fr(),[a,o]=te.useState(!1),{selectedUser:c}=ii(),{setPdfScroll:h,pdfCheck:d,checkAndLoadUrl:p,pdfScrollTop:y,setStreamData:v,setStartStreaming:x,endStream:w,streamData:C}=Ju();te.useEffect(()=>{r.current&&(h(r.current.scrollTop),console.log(`Scroll Top: ${r.current.scrollTop}`))},[d]),te.useEffect(()=>{console.log("pdfScrollTop",y),r.current&&(r.current.scrollTop=y)},[y]);const S=async M=>{if(o(!0),M.preventDefault(),!i){Zt.error("No URL provided"),o(!1);return}let O=i.trim();console.log("formattedUrl",O),!O.startsWith("http://")&&!O.startsWith("https://")&&(O="https://"+O);try{await p(O),new URL(O),n(O)}catch{Zt.error("URL is not embeddable. Please try another.")}finally{o(!1)}};return L.jsx("div",{className:"flex flex-col items-center gap-4 p-6",children:t?L.jsxs("div",{className:"w-full max-w-4xl h-[75vh] border border-gray-300 rounded-lg overflow-hidden shadow-md",children:[L.jsx("iframe",{ref:r,src:t,title:"Website Preview",className:"w-full h-full",onError:()=>{console.log("wtf"),Zt.error("URL is not working/valid. Please try another URL."),x(!1),v([]),w()}}),((P=C==null?void 0:C.senderInfo)==null?void 0:P.fullName)!==(s==null?void 0:s.fullName)&&L.jsx("button",{className:"bg-base-content text-base-300 p-2 px-3 rounded-md",onClick:async()=>{await Bn.get(`/auth/user/stream-control/${c._id}/999999/${C._id}`)},children:"Seek"}),((R=C==null?void 0:C.senderInfo)==null?void 0:R.fullName)===(s==null?void 0:s.fullName)&&L.jsx("button",{className:"bg-base-content text-base-300 p-2 px-3 rounded-md",onClick:()=>{x(!1),v([]),w()},children:"End Stream"})]}):L.jsxs(L.Fragment,{children:[L.jsxs("h1",{className:"text-xl font-bold flex",children:["Stream Seamlessly using ",L.jsx("span",{className:"ml-2 text-base-300 invert ",children:"RapidStudy"})," ",L.jsx(zp,{className:"w-6 mr-2 ml-1 h-6 text-primary "}),"Streams"]}),L.jsxs("form",{onSubmit:S,className:"flex flex-col my-4 gap-2 w-full max-w-md",children:[L.jsx("input",{type:"text",placeholder:"Enter website URL",value:i,onChange:M=>e(M.target.value),className:"input input-bordered w-full"}),L.jsx("button",{type:"submit",disabled:a,className:"btn   btn-primary w-full disabled:bg-gray-600 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg  transition",children:"Load"}),a&&L.jsx(mA,{})]})]})})},i4=()=>L.jsx("div",{className:"w-[70vw] flex flex-1 flex-col items-center justify-center p-16 bg-base-100/50",children:L.jsxs("div",{className:"max-w-md text-center space-y-6",children:[L.jsx("div",{className:"flex justify-center gap-4 mb-4",children:L.jsx("div",{className:"relative",children:L.jsx("div",{className:`w-16 h-16 rounded-2xl bg-primary/10 flex items-center
             justify-center animate-bounce`,children:L.jsx(FS,{className:"w-8 h-8 text-primary "})})})}),L.jsx("h2",{className:"text-2xl font-bold",children:"Welcome to RapidStudy!"}),L.jsx("p",{className:"text-base-content/60",children:"Select a conversation from the sidebar to start chatting"})]})});function ZL(i){return new Date(i).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})}const Qk=()=>{var v,x,w,C;const{selectedUser:i,videoCall:e,setSelectedUser:t,setVideoCall:n,sendMessage:r}=ii(),{streamMode:s,setStreamMode:a,streamData:o,streamSet:c,setStreamData:h,getStreamAiMessage:d}=Ju(),{onlineUsers:p}=Fr(),y=()=>{a(!s)};return L.jsx("div",{className:"p-2.5 border-b border-base-300",children:L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("div",{className:"avatar",children:L.jsx("div",{className:"size-10 rounded-full relative",children:L.jsx("img",{loading:"blur",src:i.name?i.profilePic||"/group.png":i.profilePic||"/avatar.png",alt:i==null?void 0:i.fullName})})}),L.jsxs("div",{children:[L.jsx("h3",{className:"font-medium",children:i.fullName||i.name}),L.jsx("p",{className:"text-sm text-base-content/70",children:p.includes(i._id)?"Online":"Offline"})]})]}),L.jsxs("div",{className:"flex gap-5",children:[L.jsx("button",{className:`  btn btn-circle  ${e?"text-red-500":"text-zinc-400"} `,onClick:()=>n(!e),children:L.jsx(GM,{})}),L.jsxs("button",{className:` streamIcon btn btn-circle  ${o.length!=0?"text-red-500":"text-zinc-400"} `,onClick:y,type:"button",children:[o.length!=0&&L.jsx("div",{className:" p-1  bg-base-content max-w-74 rounded-md  absolute z-[100] mt-[10rem] max-h-30 streamInfo text-base-200",children:L.jsxs("div",{className:"p-2  ",children:[L.jsxs("div",{className:"flex gap-1 items-center justify-center flex-col w-full",children:[L.jsx("h1",{className:"text-base-50 font-bold text-xl",children:(v=o==null?void 0:o.streamInfo)==null?void 0:v.title}),L.jsx("h1",{children:(x=o==null?void 0:o.streamInfo)==null?void 0:x.description})]}),L.jsxs("div",{className:"flex gap-2 mt-1 items-center opacity-70  justify-center ",children:[L.jsx("h1",{children:"Created by  "}),L.jsx("img",{className:"size-6 object-cover rounded-full",src:(w=o==null?void 0:o.senderInfo)==null?void 0:w.profilePic,alt:"profile"}),L.jsxs("h1",{children:[" ",(C=o==null?void 0:o.senderInfo)==null?void 0:C.fullName]}),L.jsx("h1",{children:"on "+new Date(o==null?void 0:o.createdAt).toDateString()+" at "+ZL(new Date(o==null?void 0:o.createdAt))})]})]})}),L.jsx(HM,{})]}),L.jsx("button",{className:"mx-3 ",onClick:()=>{t(null),h([])},children:L.jsx(lv,{})})]})]})})};var Vx=new Map,s2=new WeakMap,Zk=0,s4=void 0;function a4(i){return i?(s2.has(i)||(Zk+=1,s2.set(i,Zk.toString())),s2.get(i)):"0"}function o4(i){return Object.keys(i).sort().filter(e=>i[e]!==void 0).map(e=>`${e}_${e==="root"?a4(i.root):i[e]}`).toString()}function l4(i){const e=o4(i);let t=Vx.get(e);if(!t){const n=new Map;let r;const s=new IntersectionObserver(a=>{a.forEach(o=>{var c;const h=o.isIntersecting&&r.some(d=>o.intersectionRatio>=d);i.trackVisibility&&typeof o.isVisible>"u"&&(o.isVisible=h),(c=n.get(o.target))==null||c.forEach(d=>{d(h,o)})})},i);r=s.thresholds||(Array.isArray(i.threshold)?i.threshold:[i.threshold||0]),t={id:e,observer:s,elements:n},Vx.set(e,t)}return t}function c4(i,e,t={},n=s4){if(typeof window.IntersectionObserver>"u"&&n!==void 0){const c=i.getBoundingClientRect();return e(n,{isIntersecting:n,target:i,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:c,intersectionRect:c,rootBounds:c}),()=>{}}const{id:r,observer:s,elements:a}=l4(t),o=a.get(i)||[];return a.has(i)||a.set(i,o),o.push(e),s.observe(i),function(){o.splice(o.indexOf(e),1),o.length===0&&(a.delete(i),s.unobserve(i)),a.size===0&&(s.disconnect(),Vx.delete(r))}}function u4({threshold:i,delay:e,trackVisibility:t,rootMargin:n,root:r,triggerOnce:s,skip:a,initialInView:o,fallbackInView:c,onChange:h}={}){var d;const[p,y]=te.useState(null),v=te.useRef(h),[x,w]=te.useState({inView:!!o,entry:void 0});v.current=h,te.useEffect(()=>{if(a||!p)return;let R;return R=c4(p,(M,O)=>{w({inView:M,entry:O}),v.current&&v.current(M,O),O.isIntersecting&&s&&R&&(R(),R=void 0)},{root:r,rootMargin:n,threshold:i,trackVisibility:t,delay:e},c),()=>{R&&R()}},[Array.isArray(i)?i.toString():i,p,r,n,s,a,t,c,e]);const C=(d=x.entry)==null?void 0:d.target,S=te.useRef(void 0);!p&&C&&!s&&!a&&S.current!==C&&(S.current=C,w({inView:!!o,entry:void 0}));const P=[y,x.inView,x.entry];return P.ref=P[0],P.inView=P[1],P.entry=P[2],P}const eE=()=>{const{selectedUser:i,videoCall:e,setVideoCall:t}=ii(),{streamMode:n,setStreamMode:r,streamData:s,streamSet:a,getStreamAiMessage:o}=Ju(),[c,h]=te.useState(""),[d,p]=te.useState(null),y=te.useRef(null),{getAiMessage:v}=ii(),{authUser:x}=Fr(),[w,C]=te.useState(""),{sendMessage:S}=ii(),P=$=>{const U=$.target.files[0];if(!U.type.startsWith("image/")){Zt.error("Please select an image file");return}const D=new FileReader;D.onloadend=()=>{p(D.result)},D.readAsDataURL(U)};te.useEffect(()=>{h("")},[i]);const R=()=>{p(null),y.current&&(y.current.value="")};te.useEffect(()=>{s.length!=0},[s,n]);const M=async $=>{if($.preventDefault(),!(!c.trim()&&!d))try{h("");let U=d,D=c.trim();p(null),y.current&&(y.current.value=""),await S({text:D,image:U}),w.trim()!==""&&(s.length!=0&&n==!1?await v({input:w,user:x.fullName}):await o({input:w,user:x.fullName})),C("")}catch(U){console.error("Failed to send message:",U)}},O=$=>{let U=$.target.value;if(U.includes("@rapid")){let D=U.substring(U.indexOf("@rapid")+6);$.target.style.color="skyblue",$.target.style.fontWeight="bold",C(D)}else $.target.style.color="inherit",$.target.style.fontWeight="normal";h(U)};return L.jsxs("div",{className:"p-4 w-full",children:[d&&L.jsx("div",{className:"mb-3 flex items-center gap-2",children:L.jsxs("div",{className:"relative",children:[L.jsx("img",{loading:"blur",src:d,alt:"Preview",className:"w-20 h-20 object-cover rounded-lg border border-zinc-700"}),L.jsx("button",{onClick:R,className:`absolute -top-1.5 -right-1.5 w-5 h-5 rounded-full bg-base-300
              flex items-center justify-center`,type:"button",children:L.jsx(lv,{className:"size-3"})})]})}),L.jsxs("form",{onSubmit:M,className:"flex items-center gap-2",children:[L.jsxs("div",{className:"flex-1 flex gap-2",children:[L.jsx("input",{type:"text",className:"w-full input input-bordered rounded-lg input-sm sm:input-md",placeholder:"Type a message...",value:c,onChange:$=>O($)}),L.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:y,onChange:P}),L.jsx("button",{type:"button",className:`hidden sm:flex btn btn-circle
                     ${d?"text-emerald-500":"text-zinc-400"}`,onClick:()=>{var $;return($=y.current)==null?void 0:$.click()},children:L.jsx(wM,{size:20})})]}),L.jsx("button",{type:"submit",className:"btn  btn-circle ",disabled:!c.trim()&&!d,children:L.jsx(CP,{size:22})})]})]})},h4=()=>{const i=Array(6).fill(null);return L.jsx("div",{className:"flex-1 w-[64.5vw] overflow-y-hidden p-4 space-y-4",children:i.map((e,t)=>L.jsxs("div",{className:`chat ${t%2===0?"chat-start":"chat-end"}`,children:[L.jsx("div",{className:"chat-image avatar",children:L.jsx("div",{className:"size-10 rounded-full",children:L.jsx("div",{className:"skeleton w-full h-full rounded-full"})})}),L.jsx("div",{className:"chat-header mb-1",children:L.jsx("div",{className:"skeleton h-4 w-16"})}),L.jsx("div",{className:"chat-bubble bg-transparent p-0",children:L.jsx("div",{className:"skeleton h-16 w-[200px]"})})]},t))})},d4=te.forwardRef(({stopSound:i,setIncomingCall:e,incomingCall:t},n)=>{const r=te.useRef(null),s=te.useRef(null),a=te.useRef(null),o=te.useRef(null),c=te.useRef(null),h=te.useRef(null),d=te.useRef(null),p=te.useRef(null),{peer:y,peerId:v,getPeerId:x,friendPeerId:w,removePeerId:C}=Fr(),[S,P]=te.useState(""),[R,M]=te.useState(""),[O,$]=te.useState(!1),[U,D]=te.useState(!1),[Q,ue]=te.useState(!1),[j,V]=te.useState("");te.useEffect(()=>((async()=>{console.log("initializing");try{const I=await navigator.mediaDevices.getUserMedia({video:{width:640,height:480},audio:!0});r.current&&(r.current.srcObject=I),d.current=I,h.current=y,console.log(y),P(v),ue(!0),y.on("connection",K=>{K.on("data",Z=>{Z==="rejected"&&(o.current&&(o.current.pause(),o.current.currentTime=0),c.current&&(c.current.muted=!1,c.current.currentTime=0,c.current.play().catch(()=>{}),setTimeout(()=>{c.current&&(c.current.pause(),c.current.currentTime=0)},2e3)),C(),V("Call was rejected"),D(!1),$(!1))})})}catch(I){console.log(I),ye("Failed to access camera/microphone")}})(),()=>{d.current&&d.current.getTracks().forEach(I=>I.stop())}),[]),te.useEffect(()=>{if(j){const se=setTimeout(()=>V(""),2e3);return()=>clearTimeout(se)}},[j]);const ee=()=>{i(),!(!t||!d.current)&&(t.answer(d.current),pe(t),e(null),V("Call accepted"))};te.useImperativeHandle(n,()=>({acceptCall:ee,rejectCall:re}));const re=()=>{var se;if(i(),t){const I=t.peer,K=(se=h.current)==null?void 0:se.connect(I);K.on("open",()=>{K.send("rejected"),K.close()})}e(null)},pe=se=>{p.current=se,D(!1),se.on("stream",I=>{s.current&&(s.current.srcObject=I,o.current&&(o.current.pause(),o.current.currentTime=0),c.current&&(c.current.pause(),c.current.currentTime=0))}),se.on("close",()=>{he()}),se.on("error",()=>{he()}),$(!0)};te.useEffect(()=>{console.log("friend id",w),M(w)},[w]),te.useEffect(()=>{console.log("use effect ",R),R&&(()=>{try{D(!0);const I=h.current.call(R,d.current);pe(I),console.log(I),h.current.connect(R).on("data",Z=>{Z==="rejected"&&(o.current&&(o.current.pause(),o.current.currentTime=0),c.current&&(c.current.pause(),c.current.currentTime=0),V("Call was rejected"),I.close(),D(!1),$(!1))})}catch{ye("Failed to start call"),D(!1)}})()},[R]);const fe=()=>{o.current?(console.log("ringing"),o.current.muted=!1,o.current.volume=1,o.current.loop=!0,o.current.play(),o.current.play().catch(se=>console.error("Playback error:",se))):console.log("audo is ",o.current),C(),x()},he=()=>{o.current&&(o.current.pause(),o.current.currentTime=0),C(),p.current&&(p.current.close(),p.current=null),s.current&&(s.current.srcObject=null),$(!1),D(!1),V("Call ended")},ne=()=>{const se=a.current;if(!se)return;const I=se.requestFullscreen||se.webkitRequestFullscreen||se.mozRequestFullScreen||se.msRequestFullscreen;I&&I.call(se)},ye=se=>{V(se),alert(se)},me=()=>Q?U?"Connecting...":O?"Connected":"Ready to connect":"Initializing...";return L.jsxs("div",{className:"min-h-screen z-[10] bg-base-100  p-6",children:[L.jsx("audio",{ref:c,src:"/sound/unavailable.mp3",preload:"auto"}),L.jsx("audio",{ref:o,src:"/sound/outgoing.mp3",preload:"auto"}),L.jsxs("div",{className:"max-w-6xl mx-auto",children:[j&&L.jsx("div",{className:"fixed top-16 left-1/2 transform -translate-x-1/2 bg-base-content text-white px-4 py-2 rounded shadow-lg z-50",children:j}),L.jsxs("div",{className:"mb-6 text-center",children:[L.jsxs("h1",{className:"text-3xl font-bold  mb-2",children:[L.jsx(zp,{className:"inline w-8 h-8 mr-2"}),"RapidStudy Calls"]}),L.jsx("p",{className:"text-gray-600",children:L.jsx("span",{className:"font-semibold",children:me()})})]}),L.jsx("div",{ref:a,className:"  rounded-lg shadow-lg p-6 mb-6",children:L.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[L.jsxs("div",{className:"relative",children:[L.jsx("video",{ref:r,autoPlay:!0,muted:!0,playsInline:!0,className:"w-full h-64 lg:h-80 bg-gray-900 rounded-lg object-cover"}),L.jsx("div",{className:"absolute bottom-3 left-3 bg-black bg-opacity-50 text-white px-3 py-1 rounded text-sm",children:"You"})]}),L.jsxs("div",{className:"relative",children:[L.jsx("video",{ref:s,autoPlay:!0,playsInline:!0,className:"w-full h-64 lg:h-80 bg-gray-900 rounded-lg object-cover"}),!O&&L.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800 bg-opacity-80 rounded-lg",children:L.jsxs("div",{className:"text-center text-white",children:[L.jsx(zp,{className:"w-12 h-12 mx-auto mb-4 opacity-60"}),L.jsx("p",{className:"text-lg font-medium",children:"Waiting for connection"}),L.jsx("p",{className:"text-sm opacity-80",children:"Start calling with Rapid Calls"})]})}),L.jsx("div",{className:"absolute bottom-3 left-3 bg-black bg-opacity-50 text-white px-3 py-1 rounded text-sm",children:"Remote User"})]})]})}),L.jsx("div",{className:" rounded-lg shadow-lg p-6",children:L.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[L.jsxs("button",{onClick:fe,disabled:!Q||O||U,className:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[L.jsx(AP,{className:"w-4 h-4"}),U?"Connecting...":"Start Call"]}),L.jsxs("button",{onClick:he,className:"px-6 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[L.jsx(SP,{className:"w-4 h-4"}),"End Call"]}),L.jsxs("button",{onClick:ne,className:"px-6 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 flex items-center gap-2",children:[L.jsx(LM,{className:"w-4 h-4"}),"Fullscreen"]})]})})]})]})}),f4=()=>{const{messages:i,getMessages:e,isMessagesLoading:t,selectedUser:n,subscribeToMessages:r,subscribeToGroup:s,isUserMessageLoading:a,newMessageFromUser:o,unsubscribeFromMessages:c,videoCall:h,setVideoCall:d,setNewMsg:p}=ii(),y=te.useRef(null);te.useRef(null);const{peer:v,peerId:x,callerName:w,getPeerId:C,friendPeerId:S}=Fr(),{streamSet:P,getStream:R,setStreamMode:M,streamMode:O,setStreamData:$,streamData:U}=Ju(),D=te.useRef(null),Q=te.useRef(0),ue=te.useRef(0),{ref:j,inView:V}=u4(),[ee,re]=te.useState(!0),{authUser:pe}=Fr(),fe=te.useRef(null),[he,ne]=te.useState(1),ye=te.useRef(null),[me,se]=te.useState(""),[I,K]=te.useState([]),[Z,oe]=te.useState(""),de=te.useRef(0),[ge,Ce]=te.useState(!1);te.useEffect(()=>{var Me;console.log(de.current),V&&de.current!=null&&ne(he+1),ue.current=(Me=fe.current)==null?void 0:Me.scrollHeight},[V]),te.useEffect(()=>(R(),e(n,he),(n==null?void 0:n.name)===void 0?r():s(),()=>c()),[n==null?void 0:n._id,e,he,r,c]),te.useEffect(()=>{M(!1)},[n==null?void 0:n._id]),te.useEffect(()=>{if(a){setTimeout(()=>{var Ge;(Ge=ye.current)==null||Ge.scrollIntoView({behavior:"smooth"})},0);const Me=setInterval(()=>{se(Ge=>Ge.length===3?"":Ge+".")},250);return()=>clearInterval(Me)}},[a]),te.useEffect(()=>{v.on("call",Me=>{y.current?(console.log("ringing"),y.current.muted=!1,y.current.volume=1,y.current.loop=!0,y.current.play(),y.current.play().catch(Ge=>console.error("Playback error:",Ge))):console.log("audo is ",y.current),console.log(Me),Ce(Me)})},[]);const ke=()=>{y.current&&(y.current.pause(),y.current.currentTime=0)};te.useEffect(()=>{var Me,Ge;Q.current=(Me=fe.current)==null?void 0:Me.scrollHeight,ue.current=(Ge=fe.current)==null?void 0:Ge.scrollTop,console.log(U),K(i)},[i]),te.useEffect(()=>{if(o){if(p(!1),de.current===i.length?re(!1):re(!0),console.log(de.current,i.length),fe.current){const Me=fe.current.scrollHeight-Q.current;fe.current.scrollTop=Me}de.current=i==null?void 0:i.length}},[I]),te.useEffect(()=>{var Me;o||(Me=ye.current)==null||Me.scrollIntoView({behavior:"smooth"})},[h,O,I]);const ze=Me=>{const Ge=Me.target.src;oe(Ge)};return t?L.jsxs("div",{className:"flex-1 flex flex-col overflow-auto",children:[L.jsx(Qk,{}),L.jsx(h4,{}),L.jsx(eE,{})]}):L.jsxs(L.Fragment,{children:[L.jsx("audio",{ref:y,src:"/sound/incomming.mp3",preload:"auto"}),n||ge?L.jsxs("div",{className:"flex-1 w-[70vw] flex flex-col  overflow-auto",children:[L.jsx(Qk,{}),h?L.jsx(d4,{ref:D,stopSound:ke,setIncomingCall:Ce,incomingCall:ge}):L.jsxs(L.Fragment,{children:[Z!==""&&L.jsx("div",{className:" ",children:L.jsxs("div",{className:"absolute w-screen  h-[100vh] inset-0 bg-black bg-opacity-50 flex justify-center items-center",children:[L.jsx("img",{loading:"blur",src:Z,alt:"attachment",className:"z-20 max-w-[90%] max-h-[90%] object-contain"}),L.jsx("button",{className:" bg-[#ffffff14] btn hover:cursor-pointer hover:bg-black rounded-full p-[4px] z-20 -mt-[74vh] -ml-[2vw]",onClick:()=>oe(""),children:L.jsx(lv,{})})]})}),L.jsxs("div",{className:`flex-1  overflow-y-scroll auto p-4 space-y-4 ${h?"hidden":""}`,ref:fe,children:[I.length&&ee?L.jsx("section",{className:"flex justify-center items-center w-full",children:L.jsx("div",{ref:j,children:L.jsx("img",{src:"./spinner.svg",alt:"spinner",className:"object-contain w-[4rem] text-white"})})}):L.jsx(L.Fragment,{}),!I.length&&L.jsxs("div",{className:"flex  items-center justify-center my-5",children:[L.jsx("h1",{className:"font-bold text-xl",children:"Type to start a "}),L.jsx("div",{className:"size-11 mx-2 rounded-lg bg-primary/10 flex items-center justify-center",children:L.jsx(zp,{className:"w-6 h-6 text-primary "})}),L.jsx("h1",{className:"font-bold text-2xl",children:"RapidStudy! "})]}),I.map((Me,Ge)=>{var He,it;return L.jsx(L.Fragment,{children:Me!=null&&Me.AiStart?L.jsxs("div",{ref:ye,className:"flex justify-center items-center mt-2 mb-2",children:[L.jsx("div",{className:"size-10 rounded-full border bg-primary/10 flex items-center justify-center",children:L.jsx(tk,{className:"w-6 h-6 text-primary "})}),L.jsx("h1",{className:"font-bold text-sm ml-2",children:"Rapid AI"})]}):L.jsxs("div",{ref:ye,className:`chat mt-0 ${Me.senderId===pe._id&&!((He=Me==null?void 0:Me.senderInfo)!=null&&He.ai)?"chat-end":"chat-start"}`,children:[L.jsx("div",{className:" chat-image avatar",children:L.jsx("div",{className:"size-10 rounded-full border",children:L.jsx("img",{loading:"blur",src:Me.groupId!==""||Me.type=="ai"?Me.senderInfo.profilePic||"/avatar.png":Me.senderId===pe._id?pe.profilePic||"/avatar.png":n.profilePic||"/avatar.png",alt:"profile pic"})})}),(Ge==0||new Date((it=i[Ge-1])==null?void 0:it.createdAt).getMinutes()!=new Date(Me.createdAt).getMinutes())&&L.jsx("div",{className:"chat-header mb-1",children:L.jsxs("time",{className:"text-xs flex opacity-50 ml-1",children:[Me.senderId===pe._id?Me.type=="ai"?"Rapid AI":"You":n.fullName," • ",Me.type=="ai"?L.jsx("span",{children:L.jsx(tk,{height:"0.88rem"})}):ZL(Me.createdAt)]})}),L.jsxs("div",{className:`chat-bubble  flex flex-col ${Me.senderId===pe._id&&Me.type!="ai"?"chat-end bg-primary text-primary-content":"chat-start  text-base-content  bg-base-200 "}`,children:[Me.image&&L.jsx("img",{loading:"blur",onClick:Re=>ze(Re),src:Me.image,alt:"Attachment",className:"sm:max-w-[200px] hover:cursor-pointer rounded-md mb-2"}),Me.text&&L.jsx("p",{dangerouslySetInnerHTML:{__html:Me.text.replace(/\n/g,"<br/>").replace(/\*\*(.*?)\*\*/g,"<b>$1</b>").replace(/@rapid/g,"<b >$&</b>")}})]})]},Me._id)})})]}),L.jsx(eE,{})]}),ge&&L.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:L.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg text-center",children:[L.jsxs("h2",{className:"text-xl font-bold mb-2",children:["Incoming Call from ",w]}),L.jsx("p",{className:"mb-4",children:"You have an incoming call. Accept?"}),L.jsxs("div",{className:"flex justify-center gap-4",children:[L.jsxs("button",{onClick:()=>{D.current&&D.current.acceptCall()},className:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 flex items-center gap-2",children:[L.jsx(AP,{className:"w-4 h-4"})," Accept"]}),L.jsxs("button",{onClick:()=>{D.current&&D.current.rejectCall()},className:"px-6 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 flex items-center gap-2",children:[L.jsx(SP,{className:"w-4 h-4"})," Reject"]})]})]})})]}):L.jsx(i4,{})]})},p4=({videoId:i,userId:e})=>{var p,y;const t=te.useRef(null),[n,r]=te.useState(0),{streamData:s}=Ju(),[a,o]=te.useState(!1);te.useEffect(()=>{o(!0),console.log(i);const v=()=>{const x=document.createElement("script");x.src="https://www.youtube.com/iframe_api",x.async=!0,document.body.appendChild(x)};return window.YT?c():v(),window.onYouTubeIframeAPIReady=c,()=>{o(!1),delete window.onYouTubeIframeAPIReady}},[]);const c=()=>{o(!0);try{console.log(i);const x=new URL(i).searchParams.get("v");console.log(x),t.current=new window.YT.Player("player",{videoId:x,events:{onStateChange:h}})}finally{o(!1)}},h=v=>{if(v.data===window.YT.PlayerState.PAUSED){const x=t.current.getCurrentTime();r(x),d(x)}},d=async v=>{try{alert("Paused time saved:"+v)}catch(x){console.error("Error saving pause time:",x)}};return L.jsx("div",{children:a?L.jsx(mA,{}):L.jsxs(L.Fragment,{children:[L.jsxs("h2",{className:"flex justify-center items-center my-1",children:[" Video streaming by ",L.jsx("span",{className:"ml-2 mr-1",children:L.jsx("img",{className:"size-6 object-cover rounded-full",src:(p=s==null?void 0:s.senderInfo)==null?void 0:p.profilePic,alt:"profile"})})," ",L.jsx("span",{children:(y=s==null?void 0:s.senderInfo)==null?void 0:y.fullName})]}),L.jsx("div",{id:"player",className:"w-[36rem] m-auto h[20rem] overflow-hidden"})]})})},m4="modulepreload",g4=function(i){return"/"+i},tE={},Df=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let a=function(h){return Promise.all(h.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=a(t.map(h=>{if(h=g4(h),h in tE)return;tE[h]=!0;const d=h.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const y=document.createElement("link");if(y.rel=d?"stylesheet":m4,d||(y.as="script"),y.crossOrigin="",y.href=h,c&&y.setAttribute("nonce",c),document.head.appendChild(y),d)return new Promise((v,x)=>{y.addEventListener("load",v),y.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return r.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};var C1={};C1.d=(i,e)=>{for(var t in e)C1.o(e,t)&&!C1.o(i,t)&&Object.defineProperty(i,t,{enumerable:!0,get:e[t]})};C1.o=(i,e)=>Object.prototype.hasOwnProperty.call(i,e);var qt=globalThis.pdfjsLib={};C1.d(qt,{AbortException:()=>tm,AnnotationEditorLayer:()=>rS,AnnotationEditorParamsType:()=>Bt,AnnotationEditorType:()=>Gt,AnnotationEditorUIManager:()=>$p,AnnotationLayer:()=>pB,AnnotationMode:()=>Yh,ColorPicker:()=>Ib,DOMSVGFactory:()=>EA,DrawLayer:()=>oS,FeatureTest:()=>Ds,GlobalWorkerOptions:()=>zu,ImageKind:()=>D2,InvalidPDFException:()=>tN,MissingPDFException:()=>em,OPS:()=>nl,OutputScale:()=>Kx,PDFDataRangeTransport:()=>JN,PDFDateString:()=>_A,PDFWorker:()=>rg,PasswordResponses:()=>_4,PermissionFlag:()=>b4,PixelsPerInch:()=>Rd,RenderingCancelledException:()=>vA,TextLayer:()=>A5,UnexpectedResponseException:()=>b_,Util:()=>vt,VerbosityLevel:()=>g_,XfaLayer:()=>ZN,build:()=>Y9,createValidAbsoluteUrl:()=>A4,fetchData:()=>w_,getDocument:()=>B9,getFilenameFromUrl:()=>I4,getPdfFilenameFromUrl:()=>M4,getXfaPageViewport:()=>O4,isDataScheme:()=>x_,isPdfFile:()=>bA,noContextMenu:()=>To,normalizeUnicode:()=>L4,setLayerDimensions:()=>Hp,shadow:()=>an,version:()=>G9});const ms=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),eN=[1,0,0,1,0,0],Wx=[.001,0,0,.001,0,0],y4=1e7,qw=1.35,qa={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Yh={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},v4="pdfjs_internal_editor_",Gt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Bt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},b4={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},is={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},D2={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Zr={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},J0={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},g_={ERRORS:0,WARNINGS:1,INFOS:5},nl={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},_4={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let y_=g_.WARNINGS;function w4(i){Number.isInteger(i)&&(y_=i)}function x4(){return y_}function v_(i){y_>=g_.INFOS&&console.log(`Info: ${i}`)}function Xt(i){y_>=g_.WARNINGS&&console.log(`Warning: ${i}`)}function Zn(i){throw new Error(i)}function ri(i,e){i||Zn(e)}function S4(i){switch(i==null?void 0:i.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function A4(i,e=null,t=null){if(!i)return null;try{if(t&&typeof i=="string"){if(t.addDefaultProtocol&&i.startsWith("www.")){const r=i.match(/\./g);(r==null?void 0:r.length)>=2&&(i=`http://${i}`)}if(t.tryConvertEncoding)try{i=T4(i)}catch{}}const n=e?new URL(i,e):new URL(i);if(S4(n))return n}catch{}return null}function an(i,e,t,n=!1){return Object.defineProperty(i,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const Ud=function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class Gx extends Ud{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Yx extends Ud{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class tN extends Ud{constructor(e){super(e,"InvalidPDFException")}}class em extends Ud{constructor(e){super(e,"MissingPDFException")}}class b_ extends Ud{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class C4 extends Ud{constructor(e){super(e,"FormatError")}}class tm extends Ud{constructor(e){super(e,"AbortException")}}function nN(i){(typeof i!="object"||(i==null?void 0:i.length)===void 0)&&Zn("Invalid argument for bytesToString");const e=i.length,t=8192;if(e<t)return String.fromCharCode.apply(null,i);const n=[];for(let r=0;r<e;r+=t){const s=Math.min(r+t,e),a=i.subarray(r,s);n.push(String.fromCharCode.apply(null,a))}return n.join("")}function __(i){typeof i!="string"&&Zn("Invalid argument for stringToBytes");const e=i.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=i.charCodeAt(n)&255;return t}function k4(i){return String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,i&255)}function gA(i){const e=Object.create(null);for(const[t,n]of i)e[t]=n;return e}function E4(){const i=new Uint8Array(4);return i[0]=1,new Uint32Array(i.buffer,0,1)[0]===1}function P4(){try{return new Function(""),!0}catch{return!1}}class Ds{static get isLittleEndian(){return an(this,"isLittleEndian",E4())}static get isEvalSupported(){return an(this,"isEvalSupported",P4())}static get isOffscreenCanvasSupported(){return an(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?an(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):an(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return an(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const Hw=Array.from(Array(256).keys(),i=>i.toString(16).padStart(2,"0"));var Hu,j2,Xx;class vt{static makeHexColor(e,t,n){return`#${Hw[e]}${Hw[t]}${Hw[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const n=e[0]*t[0]+e[1]*t[2]+t[4],r=e[0]*t[1]+e[1]*t[3]+t[5];return[n,r]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2],r=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n;return[r,s]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),r=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),a=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],r[0],s[0],a[0]),Math.min(n[1],r[1],s[1],a[1]),Math.max(n[0],r[0],s[0],a[0]),Math.max(n[1],r[1],s[1],a[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],o=(n+a)/2,c=Math.sqrt((n+a)**2-4*(n*a-s*r))/2,h=o+c||1,d=o-c||1;return[Math.sqrt(h),Math.sqrt(d)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>r)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[n,s,r,a]}static bezierBoundingBox(e,t,n,r,s,a,o,c,h){return h?(h[0]=Math.min(h[0],e,o),h[1]=Math.min(h[1],t,c),h[2]=Math.max(h[2],e,o),h[3]=Math.max(h[3],t,c)):h=[Math.min(e,o),Math.min(t,c),Math.max(e,o),Math.max(t,c)],W(this,Hu,Xx).call(this,e,n,s,o,t,r,a,c,3*(-e+3*(n-s)+o),6*(e-2*n+s),3*(n-e),h),W(this,Hu,Xx).call(this,e,n,s,o,t,r,a,c,3*(-t+3*(r-a)+c),6*(t-2*r+a),3*(r-t),h),h}}Hu=new WeakSet,j2=function(e,t,n,r,s,a,o,c,h,d){if(h<=0||h>=1)return;const p=1-h,y=h*h,v=y*h,x=p*(p*(p*e+3*h*t)+3*y*n)+v*r,w=p*(p*(p*s+3*h*a)+3*y*o)+v*c;d[0]=Math.min(d[0],x),d[1]=Math.min(d[1],w),d[2]=Math.max(d[2],x),d[3]=Math.max(d[3],w)},Xx=function(e,t,n,r,s,a,o,c,h,d,p,y){if(Math.abs(h)<1e-12){Math.abs(d)>=1e-12&&W(this,Hu,j2).call(this,e,t,n,r,s,a,o,c,-p/d,y);return}const v=d**2-4*p*h;if(v<0)return;const x=Math.sqrt(v),w=2*h;W(this,Hu,j2).call(this,e,t,n,r,s,a,o,c,(-d+x)/w,y),W(this,Hu,j2).call(this,e,t,n,r,s,a,o,c,(-d-x)/w,y)},J(vt,Hu);function T4(i){return decodeURIComponent(escape(i))}let $w=null,nE=null;function L4(i){return $w||($w=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,nE=new Map([["ﬅ","ſt"]])),i.replaceAll($w,(e,t,n)=>t?t.normalize("NFKC"):nE.get(n))}function N4(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const i=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(i);else for(let e=0;e<32;e++)i[e]=Math.floor(Math.random()*255);return nN(i)}const yA="pdfjs_internal_id_",lu={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function R4(i){return Uint8Array.prototype.toBase64?i.toBase64():btoa(nN(i))}const hu="http://www.w3.org/2000/svg",If=class If{};jt(If,"CSS",96),jt(If,"PDF",72),jt(If,"PDF_TO_CSS_UNITS",If.CSS/If.PDF);let Rd=If;async function w_(i,e="text"){if(s1(i,document.baseURI)){const t=await fetch(i);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const r=new XMLHttpRequest;r.open("GET",i,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}n(new Error(r.statusText))}},r.send(null)})}class fv{constructor({viewBox:e,scale:t,rotation:n,offsetX:r=0,offsetY:s=0,dontFlip:a=!1}){this.viewBox=e,this.scale=t,this.rotation=n,this.offsetX=r,this.offsetY=s;const o=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let h,d,p,y;switch(n%=360,n<0&&(n+=360),n){case 180:h=-1,d=0,p=0,y=1;break;case 90:h=0,d=1,p=1,y=0;break;case 270:h=0,d=-1,p=-1,y=0;break;case 0:h=1,d=0,p=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(p=-p,y=-y);let v,x,w,C;h===0?(v=Math.abs(c-e[1])*t+r,x=Math.abs(o-e[0])*t+s,w=(e[3]-e[1])*t,C=(e[2]-e[0])*t):(v=Math.abs(o-e[0])*t+r,x=Math.abs(c-e[1])*t+s,w=(e[2]-e[0])*t,C=(e[3]-e[1])*t),this.transform=[h*t,d*t,p*t,y*t,v-h*t*o-p*t*c,x-d*t*o-y*t*c],this.width=w,this.height=C}get rawDims(){const{viewBox:e}=this;return an(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new fv({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:s})}convertToViewportPoint(e,t){return vt.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=vt.applyTransform([e[0],e[1]],this.transform),n=vt.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return vt.applyInverseTransform([e,t],this.transform)}}class vA extends Ud{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function x_(i){const e=i.length;let t=0;for(;t<e&&i[t].trim()==="";)t++;return i.substring(t,t+5).toLowerCase()==="data:"}function bA(i){return typeof i=="string"&&/\.pdf$/i.test(i)}function I4(i){return[i]=i.split(/[#?]/,1),i.substring(i.lastIndexOf("/")+1)}function M4(i,e="document.pdf"){if(typeof i!="string")return e;if(x_(i))return Xt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=t.exec(i);let s=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(s&&(s=s[0],s.includes("%")))try{s=n.exec(decodeURIComponent(s))[0]}catch{}return s||e}class rE{constructor(){jt(this,"started",Object.create(null));jt(this,"times",[])}time(e){e in this.started&&Xt(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Xt(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:r,end:s}of this.times)e.push(`${n.padEnd(t)} ${s-r}ms
`);return e.join("")}}function s1(i,e){try{const{protocol:t}=e?new URL(i,e):new URL(i);return t==="http:"||t==="https:"}catch{return!1}}function To(i){i.preventDefault()}function iE(i){console.log("Deprecated API usage: "+i)}var V1;class _A{static toDateObject(e){if(!e||typeof e!="string")return null;g(this,V1)||z(this,V1,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=g(this,V1).exec(e);if(!t)return null;const n=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;const h=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let p=parseInt(t[9],10)||0;return p=p>=0&&p<=59?p:0,h==="-"?(a+=d,o+=p):h==="+"&&(a-=d,o-=p),new Date(Date.UTC(n,r,s,a,o,c))}}V1=new WeakMap,J(_A,V1);function O4(i,{scale:e=1,rotation:t=0}){const{width:n,height:r}=i.attributes.style,s=[0,0,parseInt(n),parseInt(r)];return new fv({viewBox:s,scale:e,rotation:t})}function wA(i){if(i.startsWith("#")){const e=parseInt(i.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return i.startsWith("rgb(")?i.slice(4,-1).split(",").map(e=>parseInt(e)):i.startsWith("rgba(")?i.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Xt(`Not a valid color format: "${i}"`),[0,0,0])}function F4(i){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of i.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;i.set(t,wA(n))}e.remove()}function fr(i){const{a:e,b:t,c:n,d:r,e:s,f:a}=i.getTransform();return[e,t,n,r,s,a]}function cu(i){const{a:e,b:t,c:n,d:r,e:s,f:a}=i.getTransform().invertSelf();return[e,t,n,r,s,a]}function Hp(i,e,t=!1,n=!0){if(e instanceof fv){const{pageWidth:r,pageHeight:s}=e.rawDims,{style:a}=i,o=Ds.isCSSRoundSupported,c=`var(--scale-factor) * ${r}px`,h=`var(--scale-factor) * ${s}px`,d=o?`round(down, ${c}, var(--scale-round-x, 1px))`:`calc(${c})`,p=o?`round(down, ${h}, var(--scale-round-y, 1px))`:`calc(${h})`;!t||e.rotation%180===0?(a.width=d,a.height=p):(a.width=p,a.height=d)}n&&i.setAttribute("data-main-rotation",e.rotation)}class Kx{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Xh,jf,il,Bf,W1,G1,Db,rN,js,iN,sN,B2,aN,Qx;const fu=class fu{constructor(e){J(this,js);J(this,Xh,null);J(this,jf,null);J(this,il);J(this,Bf,null);J(this,W1,null);z(this,il,e),g(fu,G1)||z(fu,G1,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=z(this,Xh,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=g(this,il)._uiManager._signal;e.addEventListener("contextmenu",To,{signal:t}),e.addEventListener("pointerdown",W(fu,Db,rN),{signal:t});const n=z(this,Bf,document.createElement("div"));n.className="buttons",e.append(n);const r=g(this,il).toolbarPosition;if(r){const{style:s}=e,a=g(this,il)._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return W(this,js,aN).call(this),e}get div(){return g(this,Xh)}hide(){var e;g(this,Xh).classList.add("hidden"),(e=g(this,jf))==null||e.hideDropdown()}show(){var e;g(this,Xh).classList.remove("hidden"),(e=g(this,W1))==null||e.shown()}async addAltText(e){const t=await e.render();W(this,js,B2).call(this,t),g(this,Bf).prepend(t,g(this,js,Qx)),z(this,W1,e)}addColorPicker(e){z(this,jf,e);const t=e.renderButton();W(this,js,B2).call(this,t),g(this,Bf).prepend(t,g(this,js,Qx))}remove(){var e;g(this,Xh).remove(),(e=g(this,jf))==null||e.destroy(),z(this,jf,null)}};Xh=new WeakMap,jf=new WeakMap,il=new WeakMap,Bf=new WeakMap,W1=new WeakMap,G1=new WeakMap,Db=new WeakSet,rN=function(e){e.stopPropagation()},js=new WeakSet,iN=function(e){g(this,il)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},sN=function(e){g(this,il)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},B2=function(e){const t=g(this,il)._uiManager._signal;e.addEventListener("focusin",W(this,js,iN).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",W(this,js,sN).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",To,{signal:t})},aN=function(){const{editorType:e,_uiManager:t}=g(this,il),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",g(fu,G1)[e]),W(this,js,B2).call(this,n),n.addEventListener("click",r=>{t.delete()},{signal:t._signal}),g(this,Bf).append(n)},Qx=function(){const e=document.createElement("div");return e.className="divider",e},J(fu,Db),J(fu,G1,null);let Jx=fu;var Y1,zf,Uf,Fd,oN,lN,cN;class D4{constructor(e){J(this,Fd);J(this,Y1,null);J(this,zf,null);J(this,Uf);z(this,Uf,e)}show(e,t,n){const[r,s]=W(this,Fd,lN).call(this,t,n),{style:a}=g(this,zf)||z(this,zf,W(this,Fd,oN).call(this));e.append(g(this,zf)),a.insetInlineEnd=`${100*r}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){g(this,zf).remove()}}Y1=new WeakMap,zf=new WeakMap,Uf=new WeakMap,Fd=new WeakSet,oN=function(){const e=z(this,zf,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",To,{signal:g(this,Uf)._signal});const t=z(this,Y1,document.createElement("div"));return t.className="buttons",e.append(t),W(this,Fd,cN).call(this),e},lN=function(e,t){let n=0,r=0;for(const s of e){const a=s.y+s.height;if(a<n)continue;const o=s.x+(t?s.width:0);if(a>n){r=o,n=a;continue}t?o>r&&(r=o):o<r&&(r=o)}return[t?1-r:r,n]},cN=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=g(this,Uf)._signal;e.addEventListener("contextmenu",To,{signal:n}),e.addEventListener("click",()=>{g(this,Uf).highlightSelection("floating_button")},{signal:n}),g(this,Y1).append(e)};function Lb(i,e,t){for(const n of t)e.addEventListener(n,i[n].bind(i))}function j4(i){return Math.round(Math.min(255,Math.max(1,255*i))).toString(16).padStart(2,"0")}var jb;class B4{constructor(){J(this,jb,0)}get id(){return`${v4}${Ns(this,jb)._++}`}}jb=new WeakMap;var ug,X1,as,hg,z2;const IA=class IA{constructor(){J(this,hg);J(this,ug,N4());J(this,X1,0);J(this,as,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const s=r.decode().then(()=>(n.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return an(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:n,size:r,type:s}=e;return W(this,hg,z2).call(this,`${t}_${n}_${r}_${s}`,e)}async getFromUrl(e){return W(this,hg,z2).call(this,e,e)}async getFromBlob(e,t){const n=await t;return W(this,hg,z2).call(this,e,n)}async getFromId(e){g(this,as)||z(this,as,new Map);const t=g(this,as).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){g(this,as)||z(this,as,new Map);let n=g(this,as).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),n={bitmap:r.transferToImageBitmap(),id:`image_${g(this,ug)}_${Ns(this,X1)._++}`,refCounter:1,isSvg:!1},g(this,as).set(e,n),g(this,as).set(n.id,n),n}getSvgUrl(e){const t=g(this,as).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var r;g(this,as)||z(this,as,new Map);const t=g(this,as).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(n.width,n.height);s.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=s.convertToBlob()}(r=n.close)==null||r.call(n),t.bitmap=null}isValidId(e){return e.startsWith(`image_${g(this,ug)}_`)}};ug=new WeakMap,X1=new WeakMap,as=new WeakMap,hg=new WeakSet,z2=async function(e,t){g(this,as)||z(this,as,new Map);let n=g(this,as).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${g(this,ug)}_${Ns(this,X1)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(n.url=t,r=await w_(t,"blob")):t instanceof File?r=n.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const s=IA._isSVGFittingCanvas,a=new FileReader,o=new Image,c=new Promise((h,d)=>{o.onload=()=>{n.bitmap=o,n.isSvg=!0,h()},a.onload=async()=>{const p=n.svgUrl=a.result;o.src=await s?`${p}#svgView(preserveAspectRatio(none))`:p},o.onerror=a.onerror=d});a.readAsDataURL(r),await c}else n.bitmap=await createImageBitmap(r);n.refCounter=1}catch(r){console.error(r),n=null}return g(this,as).set(e,n),n&&g(this,as).set(n.id,n),n};let Zx=IA;var vi,Kh,K1,bi;class z4{constructor(e=128){J(this,vi,[]);J(this,Kh,!1);J(this,K1);J(this,bi,-1);z(this,K1,e)}add({cmd:e,undo:t,post:n,mustExec:r,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(r&&e(),g(this,Kh))return;const c={cmd:e,undo:t,post:n,type:s};if(g(this,bi)===-1){g(this,vi).length>0&&(g(this,vi).length=0),z(this,bi,0),g(this,vi).push(c);return}if(a&&g(this,vi)[g(this,bi)].type===s){o&&(c.undo=g(this,vi)[g(this,bi)].undo),g(this,vi)[g(this,bi)]=c;return}const h=g(this,bi)+1;h===g(this,K1)?g(this,vi).splice(0,1):(z(this,bi,h),h<g(this,vi).length&&g(this,vi).splice(h)),g(this,vi).push(c)}undo(){if(g(this,bi)===-1)return;z(this,Kh,!0);const{undo:e,post:t}=g(this,vi)[g(this,bi)];e(),t==null||t(),z(this,Kh,!1),z(this,bi,g(this,bi)-1)}redo(){if(g(this,bi)<g(this,vi).length-1){z(this,bi,g(this,bi)+1),z(this,Kh,!0);const{cmd:e,post:t}=g(this,vi)[g(this,bi)];e(),t==null||t(),z(this,Kh,!1)}}hasSomethingToUndo(){return g(this,bi)!==-1}hasSomethingToRedo(){return g(this,bi)<g(this,vi).length-1}destroy(){z(this,vi,null)}}vi=new WeakMap,Kh=new WeakMap,K1=new WeakMap,bi=new WeakMap;var Bb,uN;class pv{constructor(e){J(this,Bb);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Ds.platform;for(const[n,r,s={}]of e)for(const a of n){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:r,options:s}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:r,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(W(this,Bb,uN).call(this,t));if(!n)return;const{callback:r,options:{bubbles:s=!1,args:a=[],checker:o=null}}=n;o&&!o(e,t)||(r.bind(e,...a,t)(),s||(t.stopPropagation(),t.preventDefault()))}}Bb=new WeakSet,uN=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const zb=class zb{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return F4(e),an(this,"_colors",e)}convert(e){const t=wA(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,r]of this._colors)if(r.every((s,a)=>s===t[a]))return zb._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?vt.makeHexColor(...t):e}};jt(zb,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let e5=zb;var dg,Ma,ei,Oi,fg,gu,pg,sl,Jh,mg,qf,Ql,al,Hf,J1,Q1,gg,Z1,Zl,Qh,yg,Zh,ec,Ub,ed,ey,td,$f,ty,ny,_i,Tn,yu,Vf,ry,iy,nd,tc,vu,sy,bo,st,U2,t5,hN,dN,q2,fN,pN,mN,n5,gN,r5,i5,yN,Rs,Vh,vN,bN,s5,_N,a1,a5;const Km=class Km{constructor(e,t,n,r,s,a,o,c,h,d,p){J(this,st);J(this,dg,new AbortController);J(this,Ma,null);J(this,ei,new Map);J(this,Oi,new Map);J(this,fg,null);J(this,gu,null);J(this,pg,null);J(this,sl,new z4);J(this,Jh,null);J(this,mg,0);J(this,qf,new Set);J(this,Ql,null);J(this,al,null);J(this,Hf,new Set);J(this,J1,!1);J(this,Q1,!1);J(this,gg,!1);J(this,Z1,null);J(this,Zl,null);J(this,Qh,null);J(this,yg,null);J(this,Zh,!1);J(this,ec,null);J(this,Ub,new B4);J(this,ed,!1);J(this,ey,!1);J(this,td,null);J(this,$f,null);J(this,ty,null);J(this,ny,null);J(this,_i,Gt.NONE);J(this,Tn,new Set);J(this,yu,null);J(this,Vf,null);J(this,ry,null);J(this,iy,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});J(this,nd,[0,0]);J(this,tc,null);J(this,vu,null);J(this,sy,null);J(this,bo,null);const y=this._signal=g(this,dg).signal;z(this,vu,e),z(this,sy,t),z(this,fg,n),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:y}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:y}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:y}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:y}),r._on("setpreference",this.onSetPreference.bind(this),{signal:y}),r._on("switchannotationeditorparams",v=>this.updateParams(v.type,v.value),{signal:y}),W(this,st,fN).call(this),W(this,st,yN).call(this),W(this,st,n5).call(this),z(this,gu,s.annotationStorage),z(this,Z1,s.filterFactory),z(this,Vf,a),z(this,yg,o||null),z(this,J1,c),z(this,Q1,h),z(this,gg,d),z(this,ny,p||null),this.viewParameters={realScale:Rd.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=Km.prototype,t=a=>g(a,vu).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),n=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:c}=o;return c!=="text"&&c!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return an(this,"_keyboardManager",new pv([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&g(a,vu).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&g(a,vu).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,n,r;(e=g(this,bo))==null||e.resolve(),z(this,bo,null),(t=g(this,dg))==null||t.abort(),z(this,dg,null),this._signal=null;for(const s of g(this,Oi).values())s.destroy();g(this,Oi).clear(),g(this,ei).clear(),g(this,Hf).clear(),z(this,Ma,null),g(this,Tn).clear(),g(this,sl).destroy(),(n=g(this,fg))==null||n.destroy(),(r=g(this,ec))==null||r.hide(),z(this,ec,null),g(this,Zl)&&(clearTimeout(g(this,Zl)),z(this,Zl,null)),g(this,tc)&&(clearTimeout(g(this,tc)),z(this,tc,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return g(this,ny)}get useNewAltTextFlow(){return g(this,Q1)}get useNewAltTextWhenAddingImage(){return g(this,gg)}get hcmFilter(){return an(this,"hcmFilter",g(this,Vf)?g(this,Z1).addHCMFilter(g(this,Vf).foreground,g(this,Vf).background):"none")}get direction(){return an(this,"direction",getComputedStyle(g(this,vu)).direction)}get highlightColors(){return an(this,"highlightColors",g(this,yg)?new Map(g(this,yg).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return an(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){z(this,ty,e)}editAltText(e,t=!1){var n;(n=g(this,fg))==null||n.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":z(this,gg,t);break}}onPageChanging({pageNumber:e}){z(this,mg,e-1)}focusMainContainer(){g(this,vu).focus()}findParent(e,t){for(const n of g(this,Oi).values()){const{x:r,y:s,width:a,height:o}=n.div.getBoundingClientRect();if(e>=r&&e<=r+a&&t>=s&&t<=s+o)return n}return null}disableUserSelect(e=!1){g(this,sy).classList.toggle("noUserSelect",e)}addShouldRescale(e){g(this,Hf).add(e)}removeShouldRescale(e){g(this,Hf).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Rd.PDF_TO_CSS_UNITS;for(const t of g(this,Hf))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:a}=t,o=t.toString(),h=W(this,st,U2).call(this,t).closest(".textLayer"),d=this.getSelectionBoxes(h);if(!d)return;t.empty();const p=W(this,st,t5).call(this,h),y=g(this,_i)===Gt.NONE,v=()=>{p==null||p.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:a,text:o}),y&&this.showAllEditors("highlight",!0,!0)};if(y){this.switchToMode(Gt.HIGHLIGHT,v);return}v()}addToAnnotationStorage(e){!e.isEmpty()&&g(this,gu)&&!g(this,gu).has(e.id)&&g(this,gu).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,g(this,Zh)&&(z(this,Zh,!1),W(this,st,q2).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of g(this,Tn))if(t.div.contains(e)){z(this,$f,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!g(this,$f))return;const[e,t]=g(this,$f);z(this,$f,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){W(this,st,n5).call(this),W(this,st,r5).call(this)}removeEditListeners(){W(this,st,gN).call(this),W(this,st,i5).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of g(this,al))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of g(this,al))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=g(this,Ma))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of g(this,Tn)){const s=r.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const a of g(this,al))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){Xt(`paste: "${s.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const c of n){const h=await r.deserialize(c);if(!h)return;s.push(h)}const a=()=>{for(const c of s)W(this,st,s5).call(this,c);W(this,st,a5).call(this,s)},o=()=>{for(const c of s)c.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){Xt(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),g(this,_i)!==Gt.NONE&&!this.isEditorHandlingKeyboard&&Km._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,g(this,Zh)&&(z(this,Zh,!1),W(this,st,q2).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(W(this,st,pN).call(this),W(this,st,r5).call(this),W(this,st,Rs).call(this,{isEditing:g(this,_i)!==Gt.NONE,isEmpty:W(this,st,a1).call(this),hasSomethingToUndo:g(this,sl).hasSomethingToUndo(),hasSomethingToRedo:g(this,sl).hasSomethingToRedo(),hasSelectedEditor:!1})):(W(this,st,mN).call(this),W(this,st,i5).call(this),W(this,st,Rs).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!g(this,al)){z(this,al,e);for(const t of g(this,al))W(this,st,Vh).call(this,t.defaultPropertiesToUpdate)}}getId(){return g(this,Ub).id}get currentLayer(){return g(this,Oi).get(g(this,mg))}getLayer(e){return g(this,Oi).get(e)}get currentPageIndex(){return g(this,mg)}addLayer(e){g(this,Oi).set(e.pageIndex,e),g(this,ed)?e.enable():e.disable()}removeLayer(e){g(this,Oi).delete(e.pageIndex)}async updateMode(e,t=null,n=!1){if(g(this,_i)!==e&&!(g(this,bo)&&(await g(this,bo).promise,!g(this,bo)))){if(z(this,bo,Promise.withResolvers()),z(this,_i,e),e===Gt.NONE){this.setEditingState(!1),W(this,st,bN).call(this),g(this,bo).resolve();return}this.setEditingState(!0),await W(this,st,vN).call(this),this.unselectAll();for(const r of g(this,Oi).values())r.updateMode(e);if(!t){n&&this.addNewEditorFromKeyboard(),g(this,bo).resolve();return}for(const r of g(this,ei).values())r.annotationElementId===t?(this.setSelected(r),r.enterInEditMode()):r.unselect();g(this,bo).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==g(this,_i)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var n;if(g(this,al)){switch(e){case Bt.CREATE:this.currentLayer.addNewEditor();return;case Bt.HIGHLIGHT_DEFAULT_COLOR:(n=g(this,ty))==null||n.updateColor(t);break;case Bt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(g(this,ry)||z(this,ry,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const r of g(this,Tn))r.updateParams(e,t);for(const r of g(this,al))r.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var s;for(const a of g(this,ei).values())a.editorType===e&&a.show(t);(((s=g(this,ry))==null?void 0:s.get(Bt.HIGHLIGHT_SHOW_ALL))??!0)!==t&&W(this,st,Vh).call(this,[[Bt.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(g(this,ey)!==e){z(this,ey,e);for(const t of g(this,Oi).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of g(this,ei).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return g(this,ei).get(e)}addEditor(e){g(this,ei).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(g(this,Zl)&&clearTimeout(g(this,Zl)),z(this,Zl,setTimeout(()=>{this.focusMainContainer(),z(this,Zl,null)},0))),g(this,ei).delete(e.id),this.unselect(e),(!e.annotationElementId||!g(this,qf).has(e.annotationElementId))&&((t=g(this,gu))==null||t.remove(e.id))}addDeletedAnnotationElement(e){g(this,qf).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return g(this,qf).has(e)}removeDeletedAnnotationElement(e){g(this,qf).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){g(this,Ma)!==e&&(z(this,Ma,e),e&&W(this,st,Vh).call(this,e.propertiesToUpdate))}updateUI(e){g(this,st,_N)===e&&W(this,st,Vh).call(this,e.propertiesToUpdate)}toggleSelected(e){if(g(this,Tn).has(e)){g(this,Tn).delete(e),e.unselect(),W(this,st,Rs).call(this,{hasSelectedEditor:this.hasSelection});return}g(this,Tn).add(e),e.select(),W(this,st,Vh).call(this,e.propertiesToUpdate),W(this,st,Rs).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of g(this,Tn))t!==e&&t.unselect();g(this,Tn).clear(),g(this,Tn).add(e),e.select(),W(this,st,Vh).call(this,e.propertiesToUpdate),W(this,st,Rs).call(this,{hasSelectedEditor:!0})}isSelected(e){return g(this,Tn).has(e)}get firstSelectedEditor(){return g(this,Tn).values().next().value}unselect(e){e.unselect(),g(this,Tn).delete(e),W(this,st,Rs).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return g(this,Tn).size!==0}get isEnterHandled(){return g(this,Tn).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){g(this,sl).undo(),W(this,st,Rs).call(this,{hasSomethingToUndo:g(this,sl).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:W(this,st,a1).call(this)})}redo(){g(this,sl).redo(),W(this,st,Rs).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:g(this,sl).hasSomethingToRedo(),isEmpty:W(this,st,a1).call(this)})}addCommands(e){g(this,sl).add(e),W(this,st,Rs).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:W(this,st,a1).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...g(this,Tn)],t=()=>{for(const r of e)r.remove()},n=()=>{for(const r of e)W(this,st,s5).call(this,r)};this.addCommands({cmd:t,undo:n,mustExec:!0})}commitOrRemove(){var e;(e=g(this,Ma))==null||e.commitOrRemove()}hasSomethingToControl(){return g(this,Ma)||this.hasSelection}selectAll(){for(const e of g(this,Tn))e.commit();W(this,st,a5).call(this,g(this,ei).values())}unselectAll(){if(!(g(this,Ma)&&(g(this,Ma).commitOrRemove(),g(this,_i)!==Gt.NONE))&&this.hasSelection){for(const e of g(this,Tn))e.unselect();g(this,Tn).clear(),W(this,st,Rs).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;g(this,nd)[0]+=e,g(this,nd)[1]+=t;const[r,s]=g(this,nd),a=[...g(this,Tn)],o=1e3;g(this,tc)&&clearTimeout(g(this,tc)),z(this,tc,setTimeout(()=>{z(this,tc,null),g(this,nd)[0]=g(this,nd)[1]=0,this.addCommands({cmd:()=>{for(const c of a)g(this,ei).has(c.id)&&c.translateInPage(r,s)},undo:()=>{for(const c of a)g(this,ei).has(c.id)&&c.translateInPage(-r,-s)},mustExec:!1})},o));for(const c of a)c.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),z(this,Ql,new Map);for(const e of g(this,Tn))g(this,Ql).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!g(this,Ql))return!1;this.disableUserSelect(!1);const e=g(this,Ql);z(this,Ql,null);let t=!1;for(const[{x:r,y:s,pageIndex:a},o]of e)o.newX=r,o.newY=s,o.newPageIndex=a,t||(t=r!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const n=(r,s,a,o)=>{if(g(this,ei).has(r.id)){const c=g(this,Oi).get(o);c?r._setParentAndPosition(c,s,a):(r.pageIndex=o,r.x=s,r.y=a)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:a,newPageIndex:o}]of e)n(r,s,a,o)},undo:()=>{for(const[r,{savedX:s,savedY:a,savedPageIndex:o}]of e)n(r,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(g(this,Ql))for(const n of g(this,Ql).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||g(this,Tn).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return g(this,Ma)===e}getActive(){return g(this,Ma)}getMode(){return g(this,_i)}get imageManager(){return an(this,"imageManager",new Zx)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let h=0,d=t.rangeCount;h<d;h++)if(!e.contains(t.getRangeAt(h).commonAncestorContainer))return null;const{x:n,y:r,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(h,d,p,y)=>({x:(d-r)/a,y:1-(h+p-n)/s,width:y/a,height:p/s});break;case"180":o=(h,d,p,y)=>({x:1-(h+p-n)/s,y:1-(d+y-r)/a,width:p/s,height:y/a});break;case"270":o=(h,d,p,y)=>({x:1-(d+y-r)/a,y:(h-n)/s,width:y/a,height:p/s});break;default:o=(h,d,p,y)=>({x:(h-n)/s,y:(d-r)/a,width:p/s,height:y/a});break}const c=[];for(let h=0,d=t.rangeCount;h<d;h++){const p=t.getRangeAt(h);if(!p.collapsed)for(const{x:y,y:v,width:x,height:w}of p.getClientRects())x===0||w===0||c.push(o(y,v,x,w))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:t}){(g(this,pg)||z(this,pg,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=g(this,pg))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=g(this,pg))==null?void 0:r.get(e.data.id);if(!t)return;const n=g(this,gu).getRawValue(t);n&&(g(this,_i)===Gt.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}};dg=new WeakMap,Ma=new WeakMap,ei=new WeakMap,Oi=new WeakMap,fg=new WeakMap,gu=new WeakMap,pg=new WeakMap,sl=new WeakMap,Jh=new WeakMap,mg=new WeakMap,qf=new WeakMap,Ql=new WeakMap,al=new WeakMap,Hf=new WeakMap,J1=new WeakMap,Q1=new WeakMap,gg=new WeakMap,Z1=new WeakMap,Zl=new WeakMap,Qh=new WeakMap,yg=new WeakMap,Zh=new WeakMap,ec=new WeakMap,Ub=new WeakMap,ed=new WeakMap,ey=new WeakMap,td=new WeakMap,$f=new WeakMap,ty=new WeakMap,ny=new WeakMap,_i=new WeakMap,Tn=new WeakMap,yu=new WeakMap,Vf=new WeakMap,ry=new WeakMap,iy=new WeakMap,nd=new WeakMap,tc=new WeakMap,vu=new WeakMap,sy=new WeakMap,bo=new WeakMap,st=new WeakSet,U2=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},t5=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of g(this,Oi).values())if(n.hasTextLayer(e))return n;return null},hN=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=W(this,st,U2).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(n);r&&(g(this,ec)||z(this,ec,new D4(this)),g(this,ec).show(n,r,this.direction==="ltr"))},dN=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){g(this,yu)&&((s=g(this,ec))==null||s.hide(),z(this,yu,null),W(this,st,Rs).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===g(this,yu))return;const r=W(this,st,U2).call(this,e).closest(".textLayer");if(!r){g(this,yu)&&((a=g(this,ec))==null||a.hide(),z(this,yu,null),W(this,st,Rs).call(this,{hasSelectedText:!1}));return}if((o=g(this,ec))==null||o.hide(),z(this,yu,t),W(this,st,Rs).call(this,{hasSelectedText:!0}),!(g(this,_i)!==Gt.HIGHLIGHT&&g(this,_i)!==Gt.NONE)&&(g(this,_i)===Gt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),z(this,Zh,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=g(this,_i)===Gt.HIGHLIGHT?W(this,st,t5).call(this,r):null;c==null||c.toggleDrawing();const h=new AbortController,d=this.combinedSignal(h),p=y=>{y.type==="pointerup"&&y.button!==0||(h.abort(),c==null||c.toggleDrawing(!0),y.type==="pointerup"&&W(this,st,q2).call(this,"main_toolbar"))};window.addEventListener("pointerup",p,{signal:d}),window.addEventListener("blur",p,{signal:d})}},q2=function(e=""){g(this,_i)===Gt.HIGHLIGHT?this.highlightSelection(e):g(this,J1)&&W(this,st,hN).call(this)},fN=function(){document.addEventListener("selectionchange",W(this,st,dN).bind(this),{signal:this._signal})},pN=function(){if(g(this,Qh))return;z(this,Qh,new AbortController);const e=this.combinedSignal(g(this,Qh));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},mN=function(){var e;(e=g(this,Qh))==null||e.abort(),z(this,Qh,null)},n5=function(){if(g(this,td))return;z(this,td,new AbortController);const e=this.combinedSignal(g(this,td));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},gN=function(){var e;(e=g(this,td))==null||e.abort(),z(this,td,null)},r5=function(){if(g(this,Jh))return;z(this,Jh,new AbortController);const e=this.combinedSignal(g(this,Jh));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},i5=function(){var e;(e=g(this,Jh))==null||e.abort(),z(this,Jh,null)},yN=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Rs=function(e){Object.entries(e).some(([n,r])=>g(this,iy)[n]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(g(this,iy),e)}),g(this,_i)===Gt.HIGHLIGHT&&e.hasSelectedEditor===!1&&W(this,st,Vh).call(this,[[Bt.HIGHLIGHT_FREE,!0]]))},Vh=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},vN=async function(){if(!g(this,ed)){z(this,ed,!0);const e=[];for(const t of g(this,Oi).values())e.push(t.enable());await Promise.all(e);for(const t of g(this,ei).values())t.enable()}},bN=function(){if(this.unselectAll(),g(this,ed)){z(this,ed,!1);for(const e of g(this,Oi).values())e.disable();for(const e of g(this,ei).values())e.disable()}},s5=function(e){const t=g(this,Oi).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},_N=function(){let e=null;for(e of g(this,Tn));return e},a1=function(){if(g(this,ei).size===0)return!0;if(g(this,ei).size===1)for(const e of g(this,ei).values())return e.isEmpty();return!1},a5=function(e){for(const t of g(this,Tn))t.unselect();g(this,Tn).clear();for(const t of e)t.isEmpty()||(g(this,Tn).add(t),t.select());W(this,st,Rs).call(this,{hasSelectedEditor:this.hasSelection})},jt(Km,"TRANSLATE_SMALL",1),jt(Km,"TRANSLATE_BIG",10);let $p=Km;var wi,nc,ol,vg,rc,Oa,bg,ic,aa,bu,Wf,sc,rd,vl,o1,H2;const Is=class Is{constructor(e){J(this,vl);J(this,wi,null);J(this,nc,!1);J(this,ol,null);J(this,vg,null);J(this,rc,null);J(this,Oa,null);J(this,bg,!1);J(this,ic,null);J(this,aa,null);J(this,bu,null);J(this,Wf,null);J(this,sc,!1);z(this,aa,e),z(this,sc,e._uiManager.useNewAltTextFlow),g(Is,rd)||z(Is,rd,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Is._l10n??(Is._l10n=e)}async render(){const e=z(this,ol,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=z(this,vg,document.createElement("span"));e.append(t),g(this,sc)?(e.classList.add("new"),e.setAttribute("data-l10n-id",g(Is,rd).missing),t.setAttribute("data-l10n-id",g(Is,rd)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=g(this,aa)._uiManager._signal;e.addEventListener("contextmenu",To,{signal:n}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const r=s=>{s.preventDefault(),g(this,aa)._uiManager.editAltText(g(this,aa)),g(this,sc)&&g(this,aa)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:g(this,vl,o1)}})};return e.addEventListener("click",r,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(z(this,bg,!0),r(s))},{signal:n}),await W(this,vl,H2).call(this),e}finish(){g(this,ol)&&(g(this,ol).focus({focusVisible:g(this,bg)}),z(this,bg,!1))}isEmpty(){return g(this,sc)?g(this,wi)===null:!g(this,wi)&&!g(this,nc)}hasData(){return g(this,sc)?g(this,wi)!==null||!!g(this,bu):this.isEmpty()}get guessedText(){return g(this,bu)}async setGuessedText(e){g(this,wi)===null&&(z(this,bu,e),z(this,Wf,await Is._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),W(this,vl,H2).call(this))}toggleAltTextBadge(e=!1){var t;if(!g(this,sc)||g(this,wi)){(t=g(this,ic))==null||t.remove(),z(this,ic,null);return}if(!g(this,ic)){const n=z(this,ic,document.createElement("div"));n.className="noAltTextBadge",g(this,aa).div.append(n)}g(this,ic).classList.toggle("hidden",!e)}serialize(e){let t=g(this,wi);return!e&&g(this,bu)===t&&(t=g(this,Wf)),{altText:t,decorative:g(this,nc),guessedText:g(this,bu),textWithDisclaimer:g(this,Wf)}}get data(){return{altText:g(this,wi),decorative:g(this,nc)}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:r,cancel:s=!1}){n&&(z(this,bu,n),z(this,Wf,r)),!(g(this,wi)===e&&g(this,nc)===t)&&(s||(z(this,wi,e),z(this,nc,t)),W(this,vl,H2).call(this))}toggle(e=!1){g(this,ol)&&(!e&&g(this,Oa)&&(clearTimeout(g(this,Oa)),z(this,Oa,null)),g(this,ol).disabled=!e)}shown(){g(this,aa)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:g(this,vl,o1)}})}destroy(){var e,t;(e=g(this,ol))==null||e.remove(),z(this,ol,null),z(this,vg,null),z(this,rc,null),(t=g(this,ic))==null||t.remove(),z(this,ic,null)}};wi=new WeakMap,nc=new WeakMap,ol=new WeakMap,vg=new WeakMap,rc=new WeakMap,Oa=new WeakMap,bg=new WeakMap,ic=new WeakMap,aa=new WeakMap,bu=new WeakMap,Wf=new WeakMap,sc=new WeakMap,rd=new WeakMap,vl=new WeakSet,o1=function(){return g(this,wi)&&"added"||g(this,wi)===null&&this.guessedText&&"review"||"missing"},H2=async function(){var r,s,a;const e=g(this,ol);if(!e)return;if(g(this,sc)){if(e.classList.toggle("done",!!g(this,wi)),e.setAttribute("data-l10n-id",g(Is,rd)[g(this,vl,o1)]),(r=g(this,vg))==null||r.setAttribute("data-l10n-id",g(Is,rd)[`${g(this,vl,o1)}-label`]),!g(this,wi)){(s=g(this,rc))==null||s.remove();return}}else{if(!g(this,wi)&&!g(this,nc)){e.classList.remove("done"),(a=g(this,rc))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=g(this,rc);if(!t){z(this,rc,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${g(this,aa).id}`;const o=100,c=g(this,aa)._uiManager._signal;c.addEventListener("abort",()=>{clearTimeout(g(this,Oa)),z(this,Oa,null)},{once:!0}),e.addEventListener("mouseenter",()=>{z(this,Oa,setTimeout(()=>{z(this,Oa,null),g(this,rc).classList.add("show"),g(this,aa)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:c}),e.addEventListener("mouseleave",()=>{var h;g(this,Oa)&&(clearTimeout(g(this,Oa)),z(this,Oa,null)),(h=g(this,rc))==null||h.classList.remove("show")},{signal:c})}g(this,nc)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=g(this,wi)),t.parentNode||e.append(t);const n=g(this,aa).getImageForAltText();n==null||n.setAttribute("aria-describedby",t.id)},J(Is,rd,null),jt(Is,"_l10n",null);let Nb=Is;var Gf,ll,hr,_g,Yf,Fi,Xf,id,ay,Kf,sd,oy,Jf,_u,ac,wg,xg,_o,ly,qb,Yt,o5,cy,l5,c5,wN,xN,u5,h5,d5,SN,f5,AN,CN,kN,p5,l1;const An=class An{constructor(e){J(this,Yt);J(this,Gf,null);J(this,ll,null);J(this,hr,null);J(this,_g,!1);J(this,Yf,!1);J(this,Fi,null);J(this,Xf,null);J(this,id,null);J(this,ay,"");J(this,Kf,!1);J(this,sd,null);J(this,oy,!1);J(this,Jf,!1);J(this,_u,!1);J(this,ac,null);J(this,wg,0);J(this,xg,0);J(this,_o,null);jt(this,"_editToolbar",null);jt(this,"_initialOptions",Object.create(null));jt(this,"_initialData",null);jt(this,"_isVisible",!0);jt(this,"_uiManager",null);jt(this,"_focusEventsAllowed",!0);J(this,ly,!1);J(this,qb,An._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:r,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[s,a];const[o,c]=this.parentDimensions;this.x=e.x/o,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=An.prototype._resizeWithKeyboard,t=$p.TRANSLATE_SMALL,n=$p.TRANSLATE_BIG;return an(this,"_resizerKeyboardManager",new pv([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],An.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return an(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new U4({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(An._l10n??(An._l10n=e),An._l10nResizer||(An._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),An._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);An._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Zn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return g(this,ly)}set _isDraggable(e){var t;z(this,ly,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=g(this,qb)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):W(this,Yt,l1).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(g(this,Kf)?z(this,Kf,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,r){const[s,a]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(e+n)/s,this.y=(t+r)/a,this.fixAndSetPosition()}translate(e,t){W(this,Yt,o5).call(this,this.parentDimensions,e,t)}translateInPage(e,t){g(this,sd)||z(this,sd,[this.x,this.y]),W(this,Yt,o5).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){g(this,sd)||z(this,sd,[this.x,this.y]);const[n,r]=this.parentDimensions;if(this.x+=e/n,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:d}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,d)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:a}=this;const[o,c]=this.getBaseTranslation();s+=o,a+=c,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*a).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!g(this,sd)&&(g(this,sd)[0]!==this.x||g(this,sd)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=An,r=n/e,s=n/t;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,n]=this.pageDimensions;let{x:r,y:s,width:a,height:o}=this;if(a*=t,o*=n,r*=t,s*=n,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(t-a,r)),s=Math.max(0,Math.min(n-o,s));break;case 90:r=Math.max(0,Math.min(t-o,r)),s=Math.min(n,Math.max(a,s));break;case 180:r=Math.min(t,Math.max(a,r)),s=Math.min(n,Math.max(o,s));break;case 270:r=Math.min(t,Math.max(o,r)),s=Math.max(0,Math.min(n-a,s));break}this.x=r/=t,this.y=s/=n;const[c,h]=this.getBaseTranslation();r+=c,s+=h;const{style:d}=this.div;d.left=`${(100*r).toFixed(2)}%`,d.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return W(n=An,cy,l5).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return W(n=An,cy,l5).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,r]=this.parentDimensions;this.div.style.width=`${(100*e/n).toFixed(2)}%`,g(this,Yf)||(this.div.style.height=`${(100*t/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,r=n.endsWith("%"),s=!g(this,Yf)&&t.endsWith("%");if(r&&s)return;const[a,o]=this.parentDimensions;r||(e.width=`${(100*parseFloat(n)/a).toFixed(2)}%`),!g(this,Yf)&&!s&&(e.height=`${(100*parseFloat(t)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=g(this,hr))==null||e.finish()}async addEditToolbar(){return this._editToolbar||g(this,Jf)?this._editToolbar:(this._editToolbar=new Jx(this),this.div.append(this._editToolbar.render()),g(this,hr)&&await this._editToolbar.addAltText(g(this,hr)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=g(this,hr))==null||e.destroy())}addContainer(e){var n;const t=(n=this._editToolbar)==null?void 0:n.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){g(this,hr)||(Nb.initialize(An._l10n),z(this,hr,new Nb(this)),g(this,Gf)&&(g(this,hr).data=g(this,Gf),z(this,Gf,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=g(this,hr))==null?void 0:e.data}set altTextData(e){g(this,hr)&&(g(this,hr).data=e)}get guessedAltText(){var e;return(e=g(this,hr))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=g(this,hr))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=g(this,hr))==null?void 0:t.serialize(e)}hasAltText(){return!!g(this,hr)&&!g(this,hr).isEmpty()}hasAltTextData(){var e;return((e=g(this,hr))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=g(this,_g)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),W(this,Yt,f5).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[n,r]=this.getInitialTranslation();return this.translate(n,r),Lb(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=Ds.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(z(this,Kf,!0),this._isDraggable){W(this,Yt,SN).call(this,e);return}W(this,Yt,d5).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){g(this,ac)&&clearTimeout(g(this,ac)),z(this,ac,setTimeout(()=>{var e;z(this,ac,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition()}getRect(e,t,n=this.rotation){const r=this.parentScale,[s,a]=this.pageDimensions,[o,c]=this.pageTranslation,h=e/r,d=t/r,p=this.x*s,y=this.y*a,v=this.width*s,x=this.height*a;switch(n){case 0:return[p+h+o,a-y-d-x+c,p+h+v+o,a-y-d+c];case 90:return[p+d+o,a-y+h+c,p+d+x+o,a-y+h+v+c];case 180:return[p-h-v+o,a-y+d+c,p-h+o,a-y+d+x+c];case 270:return[p-d-x+o,a-y-h-v+c,p-d+o,a-y-h+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,r,s,a]=e,o=s-n,c=a-r;switch(this.rotation){case 0:return[n,t-a,o,c];case 90:return[n,t-r,c,o];case 180:return[s,t-r,o,c];case 270:return[s,t-a,c,o];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){z(this,Jf,!0)}disableEditMode(){z(this,Jf,!1)}isInEditMode(){return g(this,Jf)}shouldGetKeyboardEvents(){return g(this,_u)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){W(this,Yt,f5).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){Zn("An editor must be serializable")}static async deserialize(e,t,n){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});r.rotation=e.rotation,z(r,Gf,e.accessibilityData);const[s,a]=r.pageDimensions,[o,c,h,d]=r.getRectInCurrentCoords(e.rect,a);return r.x=o/s,r.y=c/a,r.width=h/s,r.height=d/a,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=g(this,id))==null||e.abort(),z(this,id,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),g(this,ac)&&(clearTimeout(g(this,ac)),z(this,ac,null)),W(this,Yt,l1).call(this),this.removeEditToolbar(),g(this,_o)){for(const t of g(this,_o).values())clearTimeout(t);z(this,_o,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(W(this,Yt,wN).call(this),g(this,Fi).classList.remove("hidden"),Lb(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),z(this,Xf,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=g(this,Fi).children;if(!g(this,ll)){z(this,ll,Array.from(t));const a=W(this,Yt,AN).bind(this),o=W(this,Yt,CN).bind(this),c=this._uiManager._signal;for(const h of g(this,ll)){const d=h.getAttribute("data-resizer-name");h.setAttribute("role","spinbutton"),h.addEventListener("keydown",a,{signal:c}),h.addEventListener("blur",o,{signal:c}),h.addEventListener("focus",W(this,Yt,kN).bind(this,d),{signal:c}),h.setAttribute("data-l10n-id",An._l10nResizer[d])}}const n=g(this,ll)[0];let r=0;for(const a of t){if(a===n)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(g(this,ll).length/4);if(s!==r){if(s<r)for(let o=0;o<r-s;o++)g(this,Fi).append(g(this,Fi).firstChild);else if(s>r)for(let o=0;o<s-r;o++)g(this,Fi).firstChild.before(g(this,Fi).lastChild);let a=0;for(const o of t){const h=g(this,ll)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",An._l10nResizer[h])}}W(this,Yt,p5).call(this,0),z(this,_u,!0),g(this,Fi).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){g(this,_u)&&W(this,Yt,h5).call(this,g(this,ay),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){W(this,Yt,l1).call(this),this.div.focus()}select(){var e,t,n;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,s;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(n=g(this,hr))==null||n.toggleAltTextBadge(!1)}unselect(){var e,t,n,r,s;(e=g(this,Fi))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(s=g(this,hr))==null||s.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return g(this,oy)}set isEditing(e){z(this,oy,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){z(this,Yf,!0);const n=e/t,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){g(this,_o)||z(this,_o,new Map);const{action:n}=e;let r=g(this,_o).get(n);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),g(this,_o).delete(n),g(this,_o).size===0&&z(this,_o,null)},An._telemetryTimeout),g(this,_o).set(n,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),z(this,_g,!1)}disable(){this.div&&(this.div.tabIndex=-1),z(this,_g,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Gf=new WeakMap,ll=new WeakMap,hr=new WeakMap,_g=new WeakMap,Yf=new WeakMap,Fi=new WeakMap,Xf=new WeakMap,id=new WeakMap,ay=new WeakMap,Kf=new WeakMap,sd=new WeakMap,oy=new WeakMap,Jf=new WeakMap,_u=new WeakMap,ac=new WeakMap,wg=new WeakMap,xg=new WeakMap,_o=new WeakMap,ly=new WeakMap,qb=new WeakMap,Yt=new WeakSet,o5=function([e,t],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/e,this.y+=r/t,this.fixAndSetPosition()},cy=new WeakSet,l5=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},c5=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},wN=function(){if(g(this,Fi))return;z(this,Fi,document.createElement("div")),g(this,Fi).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const r=document.createElement("div");g(this,Fi).append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",W(this,Yt,xN).bind(this,n),{signal:t}),r.addEventListener("contextmenu",To,{signal:t}),r.tabIndex=-1}this.div.prepend(g(this,Fi))},xN=function(e,t){var x;t.preventDefault();const{isMac:n}=Ds.platform;if(t.button!==0||t.ctrlKey&&n)return;(x=g(this,hr))==null||x.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",W(this,Yt,h5).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("contextmenu",To,{signal:a});const o=this.x,c=this.y,h=this.width,d=this.height,p=this.parent.div.style.cursor,y=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const v=()=>{var w;s.abort(),this.parent.togglePointerEvents(!0),(w=g(this,hr))==null||w.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=p,this.div.style.cursor=y,W(this,Yt,u5).call(this,o,c,h,d)};window.addEventListener("pointerup",v,{signal:a}),window.addEventListener("blur",v,{signal:a})},u5=function(e,t,n,r){const s=this.x,a=this.y,o=this.width,c=this.height;s===e&&a===t&&o===n&&c===r||this.addCommands({cmd:()=>{this.width=o,this.height=c,this.x=s,this.y=a;const[h,d]=this.parentDimensions;this.setDims(h*o,d*c),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=r,this.x=e,this.y=t;const[h,d]=this.parentDimensions;this.setDims(h*n,d*r),this.fixAndSetPosition()},mustExec:!0})},h5=function(e,t){const[n,r]=this.parentDimensions,s=this.x,a=this.y,o=this.width,c=this.height,h=An.MIN_SIZE/n,d=An.MIN_SIZE/r,p=he=>Math.round(he*1e4)/1e4,y=W(this,Yt,c5).call(this,this.rotation),v=(he,ne)=>[y[0]*he+y[2]*ne,y[1]*he+y[3]*ne],x=W(this,Yt,c5).call(this,360-this.rotation),w=(he,ne)=>[x[0]*he+x[2]*ne,x[1]*he+x[3]*ne];let C,S,P=!1,R=!1;switch(e){case"topLeft":P=!0,C=(he,ne)=>[0,0],S=(he,ne)=>[he,ne];break;case"topMiddle":C=(he,ne)=>[he/2,0],S=(he,ne)=>[he/2,ne];break;case"topRight":P=!0,C=(he,ne)=>[he,0],S=(he,ne)=>[0,ne];break;case"middleRight":R=!0,C=(he,ne)=>[he,ne/2],S=(he,ne)=>[0,ne/2];break;case"bottomRight":P=!0,C=(he,ne)=>[he,ne],S=(he,ne)=>[0,0];break;case"bottomMiddle":C=(he,ne)=>[he/2,ne],S=(he,ne)=>[he/2,0];break;case"bottomLeft":P=!0,C=(he,ne)=>[0,ne],S=(he,ne)=>[he,0];break;case"middleLeft":R=!0,C=(he,ne)=>[0,ne/2],S=(he,ne)=>[he,ne/2];break}const M=C(o,c),O=S(o,c);let $=v(...O);const U=p(s+$[0]),D=p(a+$[1]);let Q=1,ue=1,[j,V]=this.screenToPageTranslation(t.movementX,t.movementY);if([j,V]=w(j/n,V/r),P){const he=Math.hypot(o,c);Q=ue=Math.max(Math.min(Math.hypot(O[0]-M[0]-j,O[1]-M[1]-V)/he,1/o,1/c),h/o,d/c)}else R?Q=Math.max(h,Math.min(1,Math.abs(O[0]-M[0]-j)))/o:ue=Math.max(d,Math.min(1,Math.abs(O[1]-M[1]-V)))/c;const ee=p(o*Q),re=p(c*ue);$=v(...S(ee,re));const pe=U-$[0],fe=D-$[1];this.width=ee,this.height=re,this.x=pe,this.y=fe,this.setDims(n*ee,r*re),this.fixAndSetPosition()},d5=function(e){const{isMac:t}=Ds.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},SN=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();const n=new AbortController,r=this._uiManager.combinedSignal(n);if(t){this.div.classList.add("moving"),z(this,wg,e.clientX),z(this,xg,e.clientY);const a=o=>{const{clientX:c,clientY:h}=o,[d,p]=this.screenToPageTranslation(c-g(this,wg),h-g(this,xg));z(this,wg,c),z(this,xg,h),this._uiManager.dragSelectedEditors(d,p)};window.addEventListener("pointermove",a,{passive:!0,capture:!0,signal:r})}const s=()=>{n.abort(),t&&this.div.classList.remove("moving"),z(this,Kf,!1),this._uiManager.endDragSession()||W(this,Yt,d5).call(this,e)};window.addEventListener("pointerup",s,{signal:r}),window.addEventListener("blur",s,{signal:r})},f5=function(){if(g(this,id)||!this.div)return;z(this,id,new AbortController);const e=this._uiManager.combinedSignal(g(this,id));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},AN=function(e){An._resizerKeyboardManager.exec(this,e)},CN=function(e){var t;g(this,_u)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==g(this,Fi)&&W(this,Yt,l1).call(this)},kN=function(e){z(this,ay,g(this,_u)?e:"")},p5=function(e){if(g(this,ll))for(const t of g(this,ll))t.tabIndex=e},l1=function(){if(z(this,_u,!1),W(this,Yt,p5).call(this,-1),g(this,Xf)){const{savedX:e,savedY:t,savedWidth:n,savedHeight:r}=g(this,Xf);W(this,Yt,u5).call(this,e,t,n,r),z(this,Xf,null)}},J(An,cy),jt(An,"_l10n",null),jt(An,"_l10nResizer",null),jt(An,"_borderLineWidth",-1),jt(An,"_colorManager",new e5),jt(An,"_zIndex",1),jt(An,"_telemetryTimeout",1e3);let Nn=An;class U4 extends Nn{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const sE=3285377520,yo=4294901760,Xl=65535;class EN{constructor(e){this.h1=e?e&4294967295:sE,this.h2=e?e&4294967295:sE}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let w=0,C=e.length;w<C;w++){const S=e.charCodeAt(w);S<=255?t[n++]=S:(t[n++]=S>>>8,t[n++]=S&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=n>>2,s=n-r*4,a=new Uint32Array(t.buffer,0,r);let o=0,c=0,h=this.h1,d=this.h2;const p=3432918353,y=461845907,v=p&Xl,x=y&Xl;for(let w=0;w<r;w++)w&1?(o=a[w],o=o*p&yo|o*v&Xl,o=o<<15|o>>>17,o=o*y&yo|o*x&Xl,h^=o,h=h<<13|h>>>19,h=h*5+3864292196):(c=a[w],c=c*p&yo|c*v&Xl,c=c<<15|c>>>17,c=c*y&yo|c*x&Xl,d^=c,d=d<<13|d>>>19,d=d*5+3864292196);switch(o=0,s){case 3:o^=t[r*4+2]<<16;case 2:o^=t[r*4+1]<<8;case 1:o^=t[r*4],o=o*p&yo|o*v&Xl,o=o<<15|o>>>17,o=o*y&yo|o*x&Xl,r&1?h^=o:d^=o}this.h1=h,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&yo|e*36045&Xl,t=t*4283543511&yo|((t<<16|e>>>16)*2950163797&yo)>>>16,e^=t>>>1,e=e*444984403&yo|e*60499&Xl,t=t*3301882366&yo|((t<<16|e>>>16)*3120437893&yo)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const m5=Object.freeze({map:null,hash:"",transfer:void 0});var Qf,Zf,xi,Hb,PN;class xA{constructor(){J(this,Hb);J(this,Qf,!1);J(this,Zf,null);J(this,xi,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=g(this,xi).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return g(this,xi).get(e)}remove(e){if(g(this,xi).delete(e),g(this,xi).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of g(this,xi).values())if(t instanceof Nn)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=g(this,xi).get(e);let r=!1;if(n!==void 0)for(const[s,a]of Object.entries(t))n[s]!==a&&(r=!0,n[s]=a);else r=!0,g(this,xi).set(e,t);r&&W(this,Hb,PN).call(this),t instanceof Nn&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return g(this,xi).has(e)}getAll(){return g(this,xi).size>0?gA(g(this,xi)):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return g(this,xi).size}resetModified(){g(this,Qf)&&(z(this,Qf,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new TN(this)}get serializable(){if(g(this,xi).size===0)return m5;const e=new Map,t=new EN,n=[],r=Object.create(null);let s=!1;for(const[a,o]of g(this,xi)){const c=o instanceof Nn?o.serialize(!1,r):o;c&&(e.set(a,c),t.update(`${a}:${JSON.stringify(c)}`),s||(s=!!c.bitmap))}if(s)for(const a of e.values())a.bitmap&&n.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:m5}get editorStats(){let e=null;const t=new Map;for(const n of g(this,xi).values()){if(!(n instanceof Nn))continue;const r=n.telemetryFinalData;if(!r)continue;const{type:s}=r;t.has(s)||t.set(s,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const a=e[s]||(e[s]=new Map);for(const[o,c]of Object.entries(r)){if(o==="type")continue;let h=a.get(o);h||(h=new Map,a.set(o,h));const d=h.get(c)??0;h.set(c,d+1)}}for(const[n,r]of t)e[n]=r.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){z(this,Zf,null)}get modifiedIds(){if(g(this,Zf))return g(this,Zf);const e=[];for(const t of g(this,xi).values())!(t instanceof Nn)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return z(this,Zf,{ids:new Set(e),hash:e.join(",")})}}Qf=new WeakMap,Zf=new WeakMap,xi=new WeakMap,Hb=new WeakSet,PN=function(){g(this,Qf)||(z(this,Qf,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var uy;class TN extends xA{constructor(t){super();J(this,uy);const{map:n,hash:r,transfer:s}=t.serializable,a=structuredClone(n,s?{transfer:s}:null);z(this,uy,{map:a,hash:r,transfer:s})}get print(){Zn("Should not call PrintAnnotationStorage.print")}get serializable(){return g(this,uy)}get modifiedIds(){return an(this,"modifiedIds",{ids:new Set,hash:""})}}uy=new WeakMap;var Sg;class q4{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){J(this,Sg,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),g(this,Sg).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||g(this,Sg).has(e.loadedName))){if(ri(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:r,style:s}=e,a=new FontFace(n,r,s);this.addNativeFontFace(a);try{await a.load(),g(this,Sg).add(n),t==null||t(e)}catch{Xt(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}Zn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(r){throw Xt(`Failed to load font '${n.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return an(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(ms||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),an(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(ri(!r.done,"completeRequest() cannot be called twice."),r.done=!0;n.length>0&&n[0].done;){const s=n.shift();setTimeout(s.callback,0)}}const{loadingRequests:n}=this,r={done:!1,complete:t,callback:e};return n.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return an(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(M,O){return M.charCodeAt(O)<<24|M.charCodeAt(O+1)<<16|M.charCodeAt(O+2)<<8|M.charCodeAt(O+3)&255}function r(M,O,$,U){const D=M.substring(0,O),Q=M.substring(O+$);return D+U+Q}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const c=o.getContext("2d");let h=0;function d(M,O){if(++h>30){Xt("Load test font never loaded."),O();return}if(c.font="30px "+M,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){O();return}setTimeout(d.bind(null,M,O))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=r(y,976,p.length,p);const x=16,w=1482184792;let C=n(y,x);for(s=0,a=p.length-3;s<a;s+=4)C=C-w+n(p,s)|0;s<p.length&&(C=C-w+n(p+"XXX",s)|0),y=r(y,x,4,k4(C));const S=`url(data:font/opentype;base64,${btoa(y)});`,P=`@font-face {font-family:"${p}";src:${S}}`;this.insertRule(P);const R=this._document.createElement("div");R.style.visibility="hidden",R.style.width=R.style.height="10px",R.style.position="absolute",R.style.top=R.style.left="0px";for(const M of[e.loadedName,p]){const O=this._document.createElement("span");O.textContent="Hi",O.style.fontFamily=M,R.append(O)}this._document.body.append(R),d(p,()=>{R.remove(),t.complete()})}}Sg=new WeakMap;class H4{constructor(e,{disableFontFace:t=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this.disableFontFace=t===!0,this._inspectFont=n}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${R4(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(s){Xt(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[t]=function(s,a){};const r=[];for(let s=0,a=n.length;s<a;)switch(n[s++]){case lu.BEZIER_CURVE_TO:{const[o,c,h,d,p,y]=n.slice(s,s+6);r.push(v=>v.bezierCurveTo(o,c,h,d,p,y)),s+=6}break;case lu.MOVE_TO:{const[o,c]=n.slice(s,s+2);r.push(h=>h.moveTo(o,c)),s+=2}break;case lu.LINE_TO:{const[o,c]=n.slice(s,s+2);r.push(h=>h.lineTo(o,c)),s+=2}break;case lu.QUADRATIC_CURVE_TO:{const[o,c,h,d]=n.slice(s,s+4);r.push(p=>p.quadraticCurveTo(o,c,h,d)),s+=4}break;case lu.RESTORE:r.push(o=>o.restore());break;case lu.SAVE:r.push(o=>o.save());break;case lu.SCALE:ri(r.length===2,"Scale command is only valid at the third position.");break;case lu.TRANSFORM:{const[o,c,h,d,p,y]=n.slice(s,s+6);r.push(v=>v.transform(o,c,h,d,p,y)),s+=6}break;case lu.TRANSLATE:{const[o,c]=n.slice(s,s+2);r.push(h=>h.translate(o,c)),s+=2}break}return this.compiledGlyphs[t]=function(a,o){r[0](a),r[1](a),a.scale(o,-o);for(let c=2,h=r.length;c<h;c++)r[c](a)}}}var hy;class LN{constructor({enableHWA:e=!1}){J(this,hy,!1);z(this,hy,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!g(this,hy)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Zn("Abstract method `_createCanvas` called.")}}hy=new WeakMap;class $4 extends LN{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class NN{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Zn("Abstract method `_fetch` called.")}}class RN extends NN{async _fetch(e){const t=await w_(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):__(t)}}class IN{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,r,s){return"none"}destroy(e=!1){}}var ep,tp,oc,wu,os,$b,np,ut,ss,Dm,jm,$2,Bm,MN,g5,zm,c1,u1,y5,h1;class V4 extends IN{constructor({docId:t,ownerDocument:n=globalThis.document}){super();J(this,ut);J(this,ep);J(this,tp);J(this,oc);J(this,wu);J(this,os);J(this,$b);J(this,np,0);z(this,wu,t),z(this,os,n)}addFilter(t){if(!t)return"none";let n=g(this,ut,ss).get(t);if(n)return n;const[r,s,a]=W(this,ut,$2).call(this,t),o=t.length===1?r:`${r}${s}${a}`;if(n=g(this,ut,ss).get(o),n)return g(this,ut,ss).set(t,n),n;const c=`g_${g(this,wu)}_transfer_map_${Ns(this,np)._++}`,h=W(this,ut,Bm).call(this,c);g(this,ut,ss).set(t,h),g(this,ut,ss).set(o,h);const d=W(this,ut,zm).call(this,c);return W(this,ut,u1).call(this,r,s,a,d),h}addHCMFilter(t,n){var x;const r=`${t}-${n}`,s="base";let a=g(this,ut,Dm).get(s);if((a==null?void 0:a.key)===r||(a?((x=a.filter)==null||x.remove(),a.key=r,a.url="none",a.filter=null):(a={key:r,url:"none",filter:null},g(this,ut,Dm).set(s,a)),!t||!n))return a.url;const o=W(this,ut,h1).call(this,t);t=vt.makeHexColor(...o);const c=W(this,ut,h1).call(this,n);if(n=vt.makeHexColor(...c),g(this,ut,jm).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return a.url;const h=new Array(256);for(let w=0;w<=255;w++){const C=w/255;h[w]=C<=.03928?C/12.92:((C+.055)/1.055)**2.4}const d=h.join(","),p=`g_${g(this,wu)}_hcm_filter`,y=a.filter=W(this,ut,zm).call(this,p);W(this,ut,u1).call(this,d,d,d,y),W(this,ut,g5).call(this,y);const v=(w,C)=>{const S=o[w]/255,P=c[w]/255,R=new Array(C+1);for(let M=0;M<=C;M++)R[M]=S+M/C*(P-S);return R.join(",")};return W(this,ut,u1).call(this,v(0,5),v(1,5),v(2,5),y),a.url=W(this,ut,Bm).call(this,p),a.url}addAlphaFilter(t){let n=g(this,ut,ss).get(t);if(n)return n;const[r]=W(this,ut,$2).call(this,[t]),s=`alpha_${r}`;if(n=g(this,ut,ss).get(s),n)return g(this,ut,ss).set(t,n),n;const a=`g_${g(this,wu)}_alpha_map_${Ns(this,np)._++}`,o=W(this,ut,Bm).call(this,a);g(this,ut,ss).set(t,o),g(this,ut,ss).set(s,o);const c=W(this,ut,zm).call(this,a);return W(this,ut,y5).call(this,r,c),o}addLuminosityFilter(t){let n=g(this,ut,ss).get(t||"luminosity");if(n)return n;let r,s;if(t?([r]=W(this,ut,$2).call(this,[t]),s=`luminosity_${r}`):s="luminosity",n=g(this,ut,ss).get(s),n)return g(this,ut,ss).set(t,n),n;const a=`g_${g(this,wu)}_luminosity_map_${Ns(this,np)._++}`,o=W(this,ut,Bm).call(this,a);g(this,ut,ss).set(t,o),g(this,ut,ss).set(s,o);const c=W(this,ut,zm).call(this,a);return W(this,ut,MN).call(this,c),t&&W(this,ut,y5).call(this,r,c),o}addHighlightHCMFilter(t,n,r,s,a){var P;const o=`${n}-${r}-${s}-${a}`;let c=g(this,ut,Dm).get(t);if((c==null?void 0:c.key)===o||(c?((P=c.filter)==null||P.remove(),c.key=o,c.url="none",c.filter=null):(c={key:o,url:"none",filter:null},g(this,ut,Dm).set(t,c)),!n||!r))return c.url;const[h,d]=[n,r].map(W(this,ut,h1).bind(this));let p=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),y=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[v,x]=[s,a].map(W(this,ut,h1).bind(this));y<p&&([p,y,v,x]=[y,p,x,v]),g(this,ut,jm).style.color="";const w=(R,M,O)=>{const $=new Array(256),U=(y-p)/O,D=R/255,Q=(M-R)/(255*O);let ue=0;for(let j=0;j<=O;j++){const V=Math.round(p+j*U),ee=D+j*Q;for(let re=ue;re<=V;re++)$[re]=ee;ue=V+1}for(let j=ue;j<256;j++)$[j]=$[ue-1];return $.join(",")},C=`g_${g(this,wu)}_hcm_${t}_filter`,S=c.filter=W(this,ut,zm).call(this,C);return W(this,ut,g5).call(this,S),W(this,ut,u1).call(this,w(v[0],x[0],5),w(v[1],x[1],5),w(v[2],x[2],5),S),c.url=W(this,ut,Bm).call(this,C),c.url}destroy(t=!1){t&&g(this,ut,Dm).size!==0||(g(this,oc)&&(g(this,oc).parentNode.parentNode.remove(),z(this,oc,null)),g(this,tp)&&(g(this,tp).clear(),z(this,tp,null)),z(this,np,0))}}ep=new WeakMap,tp=new WeakMap,oc=new WeakMap,wu=new WeakMap,os=new WeakMap,$b=new WeakMap,np=new WeakMap,ut=new WeakSet,ss=function(){return g(this,tp)||z(this,tp,new Map)},Dm=function(){return g(this,$b)||z(this,$b,new Map)},jm=function(){if(!g(this,oc)){const t=g(this,os).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=g(this,os).createElementNS(hu,"svg");r.setAttribute("width",0),r.setAttribute("height",0),z(this,oc,g(this,os).createElementNS(hu,"defs")),t.append(r),r.append(g(this,oc)),g(this,os).body.append(t)}return g(this,oc)},$2=function(t){if(t.length===1){const h=t[0],d=new Array(256);for(let y=0;y<256;y++)d[y]=h[y]/255;const p=d.join(",");return[p,p,p]}const[n,r,s]=t,a=new Array(256),o=new Array(256),c=new Array(256);for(let h=0;h<256;h++)a[h]=n[h]/255,o[h]=r[h]/255,c[h]=s[h]/255;return[a.join(","),o.join(","),c.join(",")]},Bm=function(t){if(g(this,ep)===void 0){z(this,ep,"");const n=g(this,os).URL;n!==g(this,os).baseURI&&(x_(n)?Xt('#createUrl: ignore "data:"-URL for performance reasons.'):z(this,ep,n.split("#",1)[0]))}return`url(${g(this,ep)}#${t})`},MN=function(t){const n=g(this,os).createElementNS(hu,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},g5=function(t){const n=g(this,os).createElementNS(hu,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},zm=function(t){const n=g(this,os).createElementNS(hu,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),g(this,ut,jm).append(n),n},c1=function(t,n,r){const s=g(this,os).createElementNS(hu,n);s.setAttribute("type","discrete"),s.setAttribute("tableValues",r),t.append(s)},u1=function(t,n,r,s){const a=g(this,os).createElementNS(hu,"feComponentTransfer");s.append(a),W(this,ut,c1).call(this,a,"feFuncR",t),W(this,ut,c1).call(this,a,"feFuncG",n),W(this,ut,c1).call(this,a,"feFuncB",r)},y5=function(t,n){const r=g(this,os).createElementNS(hu,"feComponentTransfer");n.append(r),W(this,ut,c1).call(this,r,"feFuncA",t)},h1=function(t){return g(this,ut,jm).style.color=t,wA(getComputedStyle(g(this,ut,jm)).getPropertyValue("color"))};class ON{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Zn("Abstract method `_fetch` called.")}}class FN extends ON{async _fetch(e){const t=await w_(e,"arraybuffer");return new Uint8Array(t)}}if(ms){var v5=Promise.withResolvers(),k1=null;(async()=>{const e=await Df(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await Df(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await Df(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Df(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let s,a;return new Map(Object.entries({fs:e,http:t,https:n,url:r,canvas:s,path2d:a}))})().then(e=>{k1=e,v5.resolve()},e=>{Xt(`loadPackages: ${e}`),k1=new Map,v5.resolve()})}class Id{static get promise(){return v5.promise}static get(e){return k1==null?void 0:k1.get(e)}}async function DN(i){const t=await Id.get("fs").promises.readFile(i);return new Uint8Array(t)}class W4 extends IN{}class G4 extends LN{_createCanvas(e,t){return Id.get("canvas").createCanvas(e,t)}}class Y4 extends NN{async _fetch(e){return DN(e)}}class X4 extends ON{async _fetch(e){return DN(e)}}const Os={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function b5(i,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,n),i.clip(r)}class SA{getPattern(){Zn("Abstract method `getPattern` called.")}}class K4 extends SA{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,r){let s;if(r===Os.STROKE||r===Os.FILL){const a=t.current.getClippedPathBoundingBox(r,fr(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,c=Math.ceil(a[3]-a[1])||1,h=t.cachedCanvases.getCanvas("pattern",o,c),d=h.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-a[0],-a[1]),n=vt.transform(n,[1,0,0,1,a[0],a[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),b5(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),s=e.createPattern(h.canvas,"no-repeat");const p=new DOMMatrix(n);s.setTransform(p)}else b5(e,this._bbox),s=this._createGradient(e);return s}}function Vw(i,e,t,n,r,s,a,o){const c=e.coords,h=e.colors,d=i.data,p=i.width*4;let y;c[t+1]>c[n+1]&&(y=t,t=n,n=y,y=s,s=a,a=y),c[n+1]>c[r+1]&&(y=n,n=r,r=y,y=a,a=o,o=y),c[t+1]>c[n+1]&&(y=t,t=n,n=y,y=s,s=a,a=y);const v=(c[t]+e.offsetX)*e.scaleX,x=(c[t+1]+e.offsetY)*e.scaleY,w=(c[n]+e.offsetX)*e.scaleX,C=(c[n+1]+e.offsetY)*e.scaleY,S=(c[r]+e.offsetX)*e.scaleX,P=(c[r+1]+e.offsetY)*e.scaleY;if(x>=P)return;const R=h[s],M=h[s+1],O=h[s+2],$=h[a],U=h[a+1],D=h[a+2],Q=h[o],ue=h[o+1],j=h[o+2],V=Math.round(x),ee=Math.round(P);let re,pe,fe,he,ne,ye,me,se;for(let I=V;I<=ee;I++){if(I<C){const ge=I<x?0:(x-I)/(x-C);re=v-(v-w)*ge,pe=R-(R-$)*ge,fe=M-(M-U)*ge,he=O-(O-D)*ge}else{let ge;I>P?ge=1:C===P?ge=0:ge=(C-I)/(C-P),re=w-(w-S)*ge,pe=$-($-Q)*ge,fe=U-(U-ue)*ge,he=D-(D-j)*ge}let K;I<x?K=0:I>P?K=1:K=(x-I)/(x-P),ne=v-(v-S)*K,ye=R-(R-Q)*K,me=M-(M-ue)*K,se=O-(O-j)*K;const Z=Math.round(Math.min(re,ne)),oe=Math.round(Math.max(re,ne));let de=p*I+Z*4;for(let ge=Z;ge<=oe;ge++)K=(re-ge)/(re-ne),K<0?K=0:K>1&&(K=1),d[de++]=pe-(pe-ye)*K|0,d[de++]=fe-(fe-me)*K|0,d[de++]=he-(he-se)*K|0,d[de++]=255}}function J4(i,e,t){const n=e.coords,r=e.colors;let s,a;switch(e.type){case"lattice":const o=e.verticesPerRow,c=Math.floor(n.length/o)-1,h=o-1;for(s=0;s<c;s++){let d=s*o;for(let p=0;p<h;p++,d++)Vw(i,t,n[d],n[d+1],n[d+o],r[d],r[d+1],r[d+o]),Vw(i,t,n[d+o+1],n[d+1],n[d+o],r[d+o+1],r[d+1],r[d+o])}break;case"triangles":for(s=0,a=n.length;s<a;s+=3)Vw(i,t,n[s],n[s+1],n[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class Q4 extends SA{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const o=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),h=Math.ceil(this._bounds[2])-o,d=Math.ceil(this._bounds[3])-c,p=Math.min(Math.ceil(Math.abs(h*e[0]*1.1)),3e3),y=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),v=h/p,x=d/y,w={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-c,scaleX:1/v,scaleY:1/x},C=p+2*2,S=y+2*2,P=n.getCanvas("mesh",C,S),R=P.context,M=R.createImageData(p,y);if(t){const $=M.data;for(let U=0,D=$.length;U<D;U+=4)$[U]=t[0],$[U+1]=t[1],$[U+2]=t[2],$[U+3]=255}for(const $ of this._figures)J4(M,$,w);return R.putImageData(M,2,2),{canvas:P.canvas,offsetX:o-2*v,offsetY:c-2*x,scaleX:v,scaleY:x}}getPattern(e,t,n,r){b5(e,this._bbox);let s;if(r===Os.SHADING)s=vt.singularValueDecompose2dScale(fr(e));else if(s=vt.singularValueDecompose2dScale(t.baseTransform),this.matrix){const o=vt.singularValueDecompose2dScale(this.matrix);s=[s[0]*o[0],s[1]*o[1]]}const a=this._createMeshCanvas(s,r===Os.SHADING?null:this._background,t.cachedCanvases);return r!==Os.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class Z4 extends SA{getPattern(){return"hotpink"}}function e9(i){switch(i[0]){case"RadialAxial":return new K4(i);case"Mesh":return new Q4(i);case"Dummy":return new Z4}throw new Error(`Unknown IR type: ${i[0]}`)}const aE={COLORED:1,UNCOLORED:2},Vb=class Vb{constructor(e,t,n,r,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=s}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:r,tilingType:s,color:a,canvasGraphicsFactory:o}=this;let{xstep:c,ystep:h}=this;c=Math.abs(c),h=Math.abs(h),v_("TilingType: "+s);const d=t[0],p=t[1],y=t[2],v=t[3],x=y-d,w=v-p,C=vt.singularValueDecompose2dScale(this.matrix),S=vt.singularValueDecompose2dScale(this.baseTransform),P=C[0]*S[0],R=C[1]*S[1];let M=x,O=w,$=!1,U=!1;const D=Math.ceil(c*P),Q=Math.ceil(h*R),ue=Math.ceil(x*P),j=Math.ceil(w*R);D>=ue?M=c:$=!0,Q>=j?O=h:U=!0;const V=this.getSizeAndScale(M,this.ctx.canvas.width,P),ee=this.getSizeAndScale(O,this.ctx.canvas.height,R),re=e.cachedCanvases.getCanvas("pattern",V.size,ee.size),pe=re.context,fe=o.createCanvasGraphics(pe);if(fe.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(fe,r,a),pe.translate(-V.scale*d,-ee.scale*p),fe.transform(V.scale,0,0,ee.scale,0,0),pe.save(),this.clipBbox(fe,d,p,y,v),fe.baseTransform=fr(fe.ctx),fe.executeOperatorList(n),fe.endDrawing(),pe.restore(),$||U){const he=re.canvas;$&&(M=c),U&&(O=h);const ne=this.getSizeAndScale(M,this.ctx.canvas.width,P),ye=this.getSizeAndScale(O,this.ctx.canvas.height,R),me=ne.size,se=ye.size,I=e.cachedCanvases.getCanvas("pattern-workaround",me,se),K=I.context,Z=$?Math.floor(x/c):0,oe=U?Math.floor(w/h):0;for(let de=0;de<=Z;de++)for(let ge=0;ge<=oe;ge++)K.drawImage(he,me*de,se*ge,me,se,0,0,me,se);return{canvas:I.canvas,scaleX:ne.scale,scaleY:ye.scale,offsetX:d,offsetY:p}}return{canvas:re.canvas,scaleX:V.scale,scaleY:ee.scale,offsetX:d,offsetY:p}}getSizeAndScale(e,t,n){const r=Math.max(Vb.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*n);return s>=r?s=r:n=s/e,{scale:n,size:s}}clipBbox(e,t,n,r,s){const a=r-t,o=s-n;e.ctx.rect(t,n,a,o),e.current.updateRectMinMax(fr(e.ctx),[t,n,r,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const r=e.ctx,s=e.current;switch(t){case aE.COLORED:const a=this.ctx;r.fillStyle=a.fillStyle,r.strokeStyle=a.strokeStyle,s.fillColor=a.fillStyle,s.strokeColor=a.strokeStyle;break;case aE.UNCOLORED:const o=vt.makeHexColor(n[0],n[1],n[2]);r.fillStyle=o,r.strokeStyle=o,s.fillColor=o,s.strokeColor=o;break;default:throw new C4(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,r){let s=n;r!==Os.SHADING&&(s=vt.transform(s,t.baseTransform),this.matrix&&(s=vt.transform(s,this.matrix)));const a=this.createPatternCanvas(t);let o=new DOMMatrix(s);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const c=e.createPattern(a.canvas,"repeat");return c.setTransform(o),c}};jt(Vb,"MAX_PATTERN_SIZE",3e3);let _5=Vb;function t9({src:i,srcPos:e=0,dest:t,width:n,height:r,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=Ds.isLittleEndian?4278190080:255,[c,h]=a?[s,o]:[o,s],d=n>>3,p=n&7,y=i.length;t=new Uint32Array(t.buffer);let v=0;for(let x=0;x<r;x++){for(const C=e+d;e<C;e++){const S=e<y?i[e]:255;t[v++]=S&128?h:c,t[v++]=S&64?h:c,t[v++]=S&32?h:c,t[v++]=S&16?h:c,t[v++]=S&8?h:c,t[v++]=S&4?h:c,t[v++]=S&2?h:c,t[v++]=S&1?h:c}if(p===0)continue;const w=e<y?i[e++]:255;for(let C=0;C<p;C++)t[v++]=w&1<<7-C?h:c}return{srcPos:e,destPos:v}}const oE=16,lE=100,n9=15,cE=10,uE=1e3,ua=16;function r9(i,e){if(i._removeMirroring)throw new Error("Context is already forwarding operations.");i.__originalSave=i.save,i.__originalRestore=i.restore,i.__originalRotate=i.rotate,i.__originalScale=i.scale,i.__originalTranslate=i.translate,i.__originalTransform=i.transform,i.__originalSetTransform=i.setTransform,i.__originalResetTransform=i.resetTransform,i.__originalClip=i.clip,i.__originalMoveTo=i.moveTo,i.__originalLineTo=i.lineTo,i.__originalBezierCurveTo=i.bezierCurveTo,i.__originalRect=i.rect,i.__originalClosePath=i.closePath,i.__originalBeginPath=i.beginPath,i._removeMirroring=()=>{i.save=i.__originalSave,i.restore=i.__originalRestore,i.rotate=i.__originalRotate,i.scale=i.__originalScale,i.translate=i.__originalTranslate,i.transform=i.__originalTransform,i.setTransform=i.__originalSetTransform,i.resetTransform=i.__originalResetTransform,i.clip=i.__originalClip,i.moveTo=i.__originalMoveTo,i.lineTo=i.__originalLineTo,i.bezierCurveTo=i.__originalBezierCurveTo,i.rect=i.__originalRect,i.closePath=i.__originalClosePath,i.beginPath=i.__originalBeginPath,delete i._removeMirroring},i.save=function(){e.save(),this.__originalSave()},i.restore=function(){e.restore(),this.__originalRestore()},i.translate=function(n,r){e.translate(n,r),this.__originalTranslate(n,r)},i.scale=function(n,r){e.scale(n,r),this.__originalScale(n,r)},i.transform=function(n,r,s,a,o,c){e.transform(n,r,s,a,o,c),this.__originalTransform(n,r,s,a,o,c)},i.setTransform=function(n,r,s,a,o,c){e.setTransform(n,r,s,a,o,c),this.__originalSetTransform(n,r,s,a,o,c)},i.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},i.rotate=function(n){e.rotate(n),this.__originalRotate(n)},i.clip=function(n){e.clip(n),this.__originalClip(n)},i.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},i.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},i.bezierCurveTo=function(t,n,r,s,a,o){e.bezierCurveTo(t,n,r,s,a,o),this.__originalBezierCurveTo(t,n,r,s,a,o)},i.rect=function(t,n,r,s){e.rect(t,n,r,s),this.__originalRect(t,n,r,s)},i.closePath=function(){e.closePath(),this.__originalClosePath()},i.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class i9{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,n)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function a2(i,e,t,n,r,s,a,o,c,h){const[d,p,y,v,x,w]=fr(i);if(p===0&&y===0){const P=a*d+x,R=Math.round(P),M=o*v+w,O=Math.round(M),$=(a+c)*d+x,U=Math.abs(Math.round($)-R)||1,D=(o+h)*v+w,Q=Math.abs(Math.round(D)-O)||1;return i.setTransform(Math.sign(d),0,0,Math.sign(v),R,O),i.drawImage(e,t,n,r,s,0,0,U,Q),i.setTransform(d,p,y,v,x,w),[U,Q]}if(d===0&&v===0){const P=o*y+x,R=Math.round(P),M=a*p+w,O=Math.round(M),$=(o+h)*y+x,U=Math.abs(Math.round($)-R)||1,D=(a+c)*p+w,Q=Math.abs(Math.round(D)-O)||1;return i.setTransform(0,Math.sign(p),Math.sign(y),0,R,O),i.drawImage(e,t,n,r,s,0,0,Q,U),i.setTransform(d,p,y,v,x,w),[Q,U]}i.drawImage(e,t,n,r,s,a,o,c,h);const C=Math.hypot(d,p),S=Math.hypot(y,v);return[C*c,S*h]}function s9(i){const{width:e,height:t}=i;if(e>uE||t>uE)return null;const n=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let a=new Uint8Array(s*(t+1)),o,c,h;const d=e+7&-8;let p=new Uint8Array(d*t),y=0;for(const S of i.data){let P=128;for(;P>0;)p[y++]=S&P?0:255,P>>=1}let v=0;for(y=0,p[y]!==0&&(a[0]=1,++v),c=1;c<e;c++)p[y]!==p[y+1]&&(a[c]=p[y]?2:1,++v),y++;for(p[y]!==0&&(a[c]=2,++v),o=1;o<t;o++){y=o*d,h=o*s,p[y-d]!==p[y]&&(a[h]=p[y]?1:8,++v);let S=(p[y]?4:0)+(p[y-d]?8:0);for(c=1;c<e;c++)S=(S>>2)+(p[y+1]?4:0)+(p[y-d+1]?8:0),r[S]&&(a[h+c]=r[S],++v),y++;if(p[y-d]!==p[y]&&(a[h+c]=p[y]?2:4,++v),v>n)return null}for(y=d*(t-1),h=o*s,p[y]!==0&&(a[h]=8,++v),c=1;c<e;c++)p[y]!==p[y+1]&&(a[h+c]=p[y]?4:8,++v),y++;if(p[y]!==0&&(a[h+c]=4,++v),v>n)return null;const x=new Int32Array([0,s,-1,0,-s,0,0,0,1]),w=new Path2D;for(o=0;v&&o<=t;o++){let S=o*s;const P=S+e;for(;S<P&&!a[S];)S++;if(S===P)continue;w.moveTo(S%s,o);const R=S;let M=a[S];do{const O=x[M];do S+=O;while(!a[S]);const $=a[S];$!==5&&$!==10?(M=$,a[S]=0):(M=$&51*M>>4,a[S]&=M>>2|M<<2),w.lineTo(S%s,S/s|0),a[S]||--v}while(R!==S);--o}return p=null,a=null,function(S){S.save(),S.scale(1/e,-1/t),S.translate(0,-t),S.fill(w),S.beginPath(),S.restore()}}class hE{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=eN,this.textMatrixScale=1,this.fontMatrix=Wx,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=is.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=vt.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=vt.applyTransform(t,e),r=vt.applyTransform(t.slice(2),e),s=vt.applyTransform([t[0],t[3]],e),a=vt.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],r[0],s[0],a[0]),this.minY=Math.min(this.minY,n[1],r[1],s[1],a[1]),this.maxX=Math.max(this.maxX,n[0],r[0],s[0],a[0]),this.maxY=Math.max(this.maxY,n[1],r[1],s[1],a[1])}updateScalingPathMinMax(e,t){vt.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,r,s,a,o,c,h,d){const p=vt.bezierBoundingBox(t,n,r,s,a,o,c,h,d);d||this.updateRectMinMax(e,p)}getPathBoundingBox(e=Os.FILL,t=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===Os.STROKE){t||Zn("Stroke bounding box must include transform.");const r=vt.singularValueDecompose2dScale(t),s=r[0]*this.lineWidth/2,a=r[1]*this.lineWidth/2;n[0]-=s,n[1]-=a,n[2]+=s,n[3]+=a}return n}updateClipFromPath(){const e=vt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Os.FILL,t=null){return vt.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function dE(i,e){if(typeof ImageData<"u"&&e instanceof ImageData){i.putImageData(e,0,0);return}const t=e.height,n=e.width,r=t%ua,s=(t-r)/ua,a=r===0?s:s+1,o=i.createImageData(n,ua);let c=0,h;const d=e.data,p=o.data;let y,v,x,w;if(e.kind===D2.GRAYSCALE_1BPP){const C=d.byteLength,S=new Uint32Array(p.buffer,0,p.byteLength>>2),P=S.length,R=n+7>>3,M=4294967295,O=Ds.isLittleEndian?4278190080:255;for(y=0;y<a;y++){for(x=y<s?ua:r,h=0,v=0;v<x;v++){const $=C-c;let U=0;const D=$>R?n:$*8-7,Q=D&-8;let ue=0,j=0;for(;U<Q;U+=8)j=d[c++],S[h++]=j&128?M:O,S[h++]=j&64?M:O,S[h++]=j&32?M:O,S[h++]=j&16?M:O,S[h++]=j&8?M:O,S[h++]=j&4?M:O,S[h++]=j&2?M:O,S[h++]=j&1?M:O;for(;U<D;U++)ue===0&&(j=d[c++],ue=128),S[h++]=j&ue?M:O,ue>>=1}for(;h<P;)S[h++]=0;i.putImageData(o,0,y*ua)}}else if(e.kind===D2.RGBA_32BPP){for(v=0,w=n*ua*4,y=0;y<s;y++)p.set(d.subarray(c,c+w)),c+=w,i.putImageData(o,0,v),v+=ua;y<a&&(w=n*r*4,p.set(d.subarray(c,c+w)),i.putImageData(o,0,v))}else if(e.kind===D2.RGB_24BPP)for(x=ua,w=n*x,y=0;y<a;y++){for(y>=s&&(x=r,w=n*x),h=0,v=w;v--;)p[h++]=d[c++],p[h++]=d[c++],p[h++]=d[c++],p[h++]=255;i.putImageData(o,0,y*ua)}else throw new Error(`bad image kind: ${e.kind}`)}function fE(i,e){if(e.bitmap){i.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,r=t%ua,s=(t-r)/ua,a=r===0?s:s+1,o=i.createImageData(n,ua);let c=0;const h=e.data,d=o.data;for(let p=0;p<a;p++){const y=p<s?ua:r;({srcPos:c}=t9({src:h,srcPos:c,dest:d,width:n,height:y,nonBlackColor:0})),i.putImageData(o,0,p*ua)}}function Q0(i,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)i[n]!==void 0&&(e[n]=i[n]);i.setLineDash!==void 0&&(e.setLineDash(i.getLineDash()),e.lineDashOffset=i.lineDashOffset)}function o2(i){if(i.strokeStyle=i.fillStyle="#000000",i.fillRule="nonzero",i.globalAlpha=1,i.lineWidth=1,i.lineCap="butt",i.lineJoin="miter",i.miterLimit=10,i.globalCompositeOperation="source-over",i.font="10px sans-serif",i.setLineDash!==void 0&&(i.setLineDash([]),i.lineDashOffset=0),!ms){const{filter:e}=i;e!=="none"&&e!==""&&(i.filter="none")}}function pE(i,e){if(e)return!0;const t=vt.singularValueDecompose2dScale(i);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*Rd.PDF_TO_CSS_UNITS);return t[0]<=n&&t[1]<=n}const a9=["butt","round","square"],o9=["miter","round","bevel"],l9={},mE={};var Dd,w5,x5;const MA=class MA{constructor(e,t,n,r,s,{optionalContentConfig:a,markedContentStack:o=null},c,h){J(this,Dd);this.ctx=e,this.current=new hE(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new i9(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=h,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:r=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,n){const c=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...fr(this.compositeCtx))}this.ctx.save(),o2(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=fr(this.ctx)}executeOperatorList(e,t,n,r){const s=e.argsArray,a=e.fnArray;let o=t||0;const c=s.length;if(c===o)return o;const h=c-o>cE&&typeof n=="function",d=h?Date.now()+n9:0;let p=0;const y=this.commonObjs,v=this.objs;let x;for(;;){if(r!==void 0&&o===r.nextBreakPoint)return r.breakIt(o,n),o;if(x=a[o],x!==nl.dependency)this[x].apply(this,s[o]);else for(const w of s[o]){const C=w.startsWith("g_")?y:v;if(!C.has(w))return C.get(w,n),o}if(o++,o===c)return o;if(h&&++p>cE){if(Date.now()>d)return n(),o;p=0}}}endDrawing(){W(this,Dd,w5).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),W(this,Dd,x5).call(this)}_scaleImage(e,t){const n=e.width??e.displayWidth,r=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=n,c=r,h="prescale1",d,p;for(;s>2&&o>1||a>2&&c>1;){let y=o,v=c;s>2&&o>1&&(y=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/y),a>2&&c>1&&(v=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,a/=c/v),d=this.cachedCanvases.getCanvas(h,y,v),p=d.context,p.clearRect(0,0,y,v),p.drawImage(e,0,0,o,c,0,0,y,v),e=d.canvas,o=y,c=v,h=h==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:c}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:r}=e,s=this.current.fillColor,a=this.current.patternFill,o=fr(t);let c,h,d,p;if((e.bitmap||e.data)&&e.count>1){const D=e.bitmap||e.data.buffer;h=JSON.stringify(a?o:[o.slice(0,4),s]),c=this._cachedBitmapsMap.get(D),c||(c=new Map,this._cachedBitmapsMap.set(D,c));const Q=c.get(h);if(Q&&!a){const ue=Math.round(Math.min(o[0],o[2])+o[4]),j=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:Q,offsetX:ue,offsetY:j}}d=Q}d||(p=this.cachedCanvases.getCanvas("maskCanvas",n,r),fE(p.context,e));let y=vt.transform(o,[1/n,0,0,-1/r,0,0]);y=vt.transform(y,[1,0,0,1,0,-r]);const[v,x,w,C]=vt.getAxialAlignedBoundingBox([0,0,n,r],y),S=Math.round(w-v)||1,P=Math.round(C-x)||1,R=this.cachedCanvases.getCanvas("fillCanvas",S,P),M=R.context,O=v,$=x;M.translate(-O,-$),M.transform(...y),d||(d=this._scaleImage(p.canvas,cu(M)),d=d.img,c&&a&&c.set(h,d)),M.imageSmoothingEnabled=pE(fr(M),e.interpolate),a2(M,d,0,0,d.width,d.height,0,0,n,r),M.globalCompositeOperation="source-in";const U=vt.transform(cu(M),[1,0,0,1,-O,-$]);return M.fillStyle=a?s.getPattern(t,this,U,Os.FILL):s,M.fillRect(0,0,n,r),c&&!a&&(this.cachedCanvases.delete("fillCanvas"),c.set(h,R.canvas)),{canvas:R.canvas,offsetX:Math.round(O),offsetY:Math.round($)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=a9[e]}setLineJoin(e){this.ctx.lineJoin=o9[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=r.context;const s=this.ctx;s.setTransform(...fr(this.suspendedCtx)),Q0(this.suspendedCtx,s),r9(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Q0(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,r){const s=r[0],a=r[1],o=r[2]-s,c=r[3]-a;o===0||c===0||(this.genericComposeSMask(t.context,n,o,c,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,r,s,a,o,c,h,d,p){let y=e.canvas,v=c-d,x=h-p;if(a){const C=vt.makeHexColor(...a);if(v<0||x<0||v+n>y.width||x+r>y.height){const S=this.cachedCanvases.getCanvas("maskExtension",n,r),P=S.context;P.drawImage(y,-v,-x),P.globalCompositeOperation="destination-atop",P.fillStyle=C,P.fillRect(0,0,n,r),P.globalCompositeOperation="source-over",y=S.canvas,v=x=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const S=new Path2D;S.rect(v,x,n,r),e.clip(S),e.globalCompositeOperation="destination-atop",e.fillStyle=C,e.fillRect(v,x,n,r),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const w=new Path2D;w.rect(c,h,n,r),t.clip(w),t.globalCompositeOperation="destination-in",t.drawImage(y,v,x,n,r,c,h,n,r),t.restore()}save(){this.inSMaskMode?(Q0(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Q0(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,r,s,a){this.ctx.transform(e,t,n,r,s,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const r=this.ctx,s=this.current;let a=s.x,o=s.y,c,h;const d=fr(r),p=d[0]===0&&d[3]===0||d[1]===0&&d[2]===0,y=p?n.slice(0):null;for(let v=0,x=0,w=e.length;v<w;v++)switch(e[v]|0){case nl.rectangle:a=t[x++],o=t[x++];const C=t[x++],S=t[x++],P=a+C,R=o+S;r.moveTo(a,o),C===0||S===0?r.lineTo(P,R):(r.lineTo(P,o),r.lineTo(P,R),r.lineTo(a,R)),p||s.updateRectMinMax(d,[a,o,P,R]),r.closePath();break;case nl.moveTo:a=t[x++],o=t[x++],r.moveTo(a,o),p||s.updatePathMinMax(d,a,o);break;case nl.lineTo:a=t[x++],o=t[x++],r.lineTo(a,o),p||s.updatePathMinMax(d,a,o);break;case nl.curveTo:c=a,h=o,a=t[x+4],o=t[x+5],r.bezierCurveTo(t[x],t[x+1],t[x+2],t[x+3],a,o),s.updateCurvePathMinMax(d,c,h,t[x],t[x+1],t[x+2],t[x+3],a,o,y),x+=6;break;case nl.curveTo2:c=a,h=o,r.bezierCurveTo(a,o,t[x],t[x+1],t[x+2],t[x+3]),s.updateCurvePathMinMax(d,c,h,a,o,t[x],t[x+1],t[x+2],t[x+3],y),a=t[x+2],o=t[x+3],x+=4;break;case nl.curveTo3:c=a,h=o,a=t[x+2],o=t[x+3],r.bezierCurveTo(t[x],t[x+1],a,o,a,o),s.updateCurvePathMinMax(d,c,h,t[x],t[x+1],a,o,a,o,y),x+=4;break;case nl.closePath:r.closePath();break}p&&s.updateScalingPathMinMax(d,y),s.setCurrentPoint(a,o)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(t.save(),t.strokeStyle=n.getPattern(t,this,cu(t),Os.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,n=this.current.fillColor,r=this.current.patternFill;let s=!1;r&&(t.save(),t.fillStyle=n.getPattern(t,this,cu(t),Os.FILL),s=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=l9}eoClip(){this.pendingClip=mE}beginText(){this.current.textMatrix=eN,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var d;const n=this.commonObjs.get(e),r=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=n.fontMatrix||Wx,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Xt("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const s=n.loadedName||"sans-serif",a=((d=n.systemFontInfo)==null?void 0:d.css)||`"${s}", ${n.fallbackName}`;let o="normal";n.black?o="900":n.bold&&(o="bold");const c=n.italic?"italic":"normal";let h=t;t<oE?h=oE:t>lE&&(h=lE),this.current.fontSizeScale=t/h,this.ctx.font=`${c} ${o} ${h}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,r,s,a){this.current.textMatrix=[e,t,n,r,s,a],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,r){const s=this.ctx,a=this.current,o=a.font,c=a.textRenderingMode,h=a.fontSize/a.fontSizeScale,d=c&is.FILL_STROKE_MASK,p=!!(c&is.ADD_TO_PATH_FLAG),y=a.patternFill&&!o.missingFile;let v;(o.disableFontFace||p||y)&&(v=o.getPathGenerator(this.commonObjs,e)),o.disableFontFace||y?(s.save(),s.translate(t,n),s.beginPath(),v(s,h),r&&s.setTransform(...r),(d===is.FILL||d===is.FILL_STROKE)&&s.fill(),(d===is.STROKE||d===is.FILL_STROKE)&&s.stroke(),s.restore()):((d===is.FILL||d===is.FILL_STROKE)&&s.fillText(e,t,n),(d===is.STROKE||d===is.FILL_STROKE)&&s.strokeText(e,t,n)),p&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:fr(s),x:t,y:n,fontSize:h,addToPath:v})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){n=!0;break}return an(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const r=t.fontSize;if(r===0)return;const s=this.ctx,a=t.fontSizeScale,o=t.charSpacing,c=t.wordSpacing,h=t.fontDirection,d=t.textHScale*h,p=e.length,y=n.vertical,v=y?1:-1,x=n.defaultVMetrics,w=r*t.fontMatrix[0],C=t.textRenderingMode===is.FILL&&!n.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),h>0?s.scale(d,-1):s.scale(d,1);let S;if(t.patternFill){s.save();const $=t.fillColor.getPattern(s,this,cu(s),Os.FILL);S=fr(s),s.restore(),s.fillStyle=$}let P=t.lineWidth;const R=t.textMatrixScale;if(R===0||P===0){const $=t.textRenderingMode&is.FILL_STROKE_MASK;($===is.STROKE||$===is.FILL_STROKE)&&(P=this.getSinglePixelWidth())}else P/=R;if(a!==1&&(s.scale(a,a),P/=a),s.lineWidth=P,n.isInvalidPDFjsFont){const $=[];let U=0;for(const D of e)$.push(D.unicode),U+=D.width;s.fillText($.join(""),0,0),t.x+=U*w*d,s.restore(),this.compose();return}let M=0,O;for(O=0;O<p;++O){const $=e[O];if(typeof $=="number"){M+=v*$*r/1e3;continue}let U=!1;const D=($.isSpace?c:0)+o,Q=$.fontChar,ue=$.accent;let j,V,ee=$.width;if(y){const pe=$.vmetric||x,fe=-($.vmetric?pe[1]:ee*.5)*w,he=pe[2]*w;ee=pe?-pe[0]:ee,j=fe/a,V=(M+he)/a}else j=M/a,V=0;if(n.remeasure&&ee>0){const pe=s.measureText(Q).width*1e3/r*a;if(ee<pe&&this.isFontSubpixelAAEnabled){const fe=ee/pe;U=!0,s.save(),s.scale(fe,1),j/=fe}else ee!==pe&&(j+=(ee-pe)/2e3*r/a)}if(this.contentVisible&&($.isInFont||n.missingFile)){if(C&&!ue)s.fillText(Q,j,V);else if(this.paintChar(Q,j,V,S),ue){const pe=j+r*ue.offset.x/a,fe=V-r*ue.offset.y/a;this.paintChar(ue.fontChar,pe,fe,S)}}const re=y?ee*w-D*h:ee*w+D*h;M+=re,U&&s.restore()}y?t.y-=M:t.x+=M*d,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,r=n.font,s=n.fontSize,a=n.fontDirection,o=r.vertical?1:-1,c=n.charSpacing,h=n.wordSpacing,d=n.textHScale*a,p=n.fontMatrix||Wx,y=e.length,v=n.textRenderingMode===is.INVISIBLE;let x,w,C,S;if(!(v||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(d,a),x=0;x<y;++x){if(w=e[x],typeof w=="number"){S=o*w*s/1e3,this.ctx.translate(S,0),n.x+=S*d;continue}const P=(w.isSpace?h:0)+c,R=r.charProcOperatorList[w.operatorListId];if(!R){Xt(`Type3 character "${w.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=w,this.save(),t.scale(s,s),t.transform(...p),this.executeOperatorList(R),this.restore()),C=vt.applyTransform([w.width,0],p)[0]*s+P,t.translate(C,0),n.x+=C*d}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,r,s,a){this.ctx.rect(n,r,s-n,a-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const n=e[1],r=this.baseTransform||fr(this.ctx),s={createCanvasGraphics:a=>new MA(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new _5(e,n,this.ctx,s,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){this.ctx.strokeStyle=this.current.strokeColor=vt.makeHexColor(e,t,n)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,n){this.ctx.fillStyle=this.current.fillColor=vt.makeHexColor(e,t,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=e9(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,cu(t),Os.SHADING);const r=cu(t);if(r){const{width:s,height:a}=t.canvas,[o,c,h,d]=vt.getAxialAlignedBoundingBox([0,0,s,a],r);this.ctx.fillRect(o,c,h-o,d-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Zn("Should not call beginInlineImage")}beginImageData(){Zn("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=fr(this.ctx),t)){const n=t[2]-t[0],r=t[3]-t[1];this.ctx.rect(t[0],t[1],n,r),this.current.updateRectMinMax(fr(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||v_("TODO: Support non-isolated groups."),e.knockout&&Xt("Knockout groups not supported.");const n=fr(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=vt.getAxialAlignedBoundingBox(e.bbox,fr(t));const s=[0,0,t.canvas.width,t.canvas.height];r=vt.intersect(r,s)||[0,0,0,0];const a=Math.floor(r[0]),o=Math.floor(r[1]),c=Math.max(Math.ceil(r[2])-a,1),h=Math.max(Math.ceil(r[3])-o,1);this.current.startNewPathAndClipBox([0,0,c,h]);let d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);const p=this.cachedCanvases.getCanvas(d,c,h),y=p.context;y.translate(-a,-o),y.transform(...n),e.smask?this.smaskStack.push({canvas:p.canvas,context:y,offsetX:a,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,o),t.save()),Q0(t,y),this.ctx=y,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=fr(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const s=vt.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],r);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,n,r,s){if(W(this,Dd,w5).call(this),o2(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const a=t[2]-t[0],o=t[3]-t[1];if(s&&this.annotationCanvasMap){n=n.slice(),n[4]-=t[0],n[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=a,t[3]=o;const[c,h]=vt.singularValueDecompose2dScale(fr(this.ctx)),{viewportScale:d}=this,p=Math.ceil(a*this.outputScaleX*d),y=Math.ceil(o*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(p,y);const{canvas:v,context:x}=this.annotationCanvas;this.annotationCanvasMap.set(e,v),this.annotationCanvas.savedCtx=this.ctx,this.ctx=x,this.ctx.save(),this.ctx.setTransform(c,0,0,-h,0,o*h),o2(this.ctx)}else o2(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],a,o),this.ctx.clip(),this.ctx.beginPath()}this.current=new hE(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),W(this,Dd,x5).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const n=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=s9(e)),r.compiled)){r.compiled(n);return}const s=this._createMaskCanvas(e),a=s.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(a,s.offsetX,s.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,r=0,s,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);const o=this.ctx;o.save();const c=fr(o);o.transform(t,n,r,s,0,0);const h=this._createMaskCanvas(e);o.setTransform(1,0,0,1,h.offsetX-c[4],h.offsetY-c[5]);for(let d=0,p=a.length;d<p;d+=2){const y=vt.transform(c,[t,n,r,s,a[d],a[d+1]]),[v,x]=vt.applyTransform([0,0],y);o.drawImage(h.canvas,v,x)}o.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const s of e){const{data:a,width:o,height:c,transform:h}=s,d=this.cachedCanvases.getCanvas("maskCanvas",o,c),p=d.context;p.save();const y=this.getObject(a,s);fE(p,y),p.globalCompositeOperation="source-in",p.fillStyle=r?n.getPattern(p,this,cu(t),Os.FILL):n,p.fillRect(0,0,o,c),p.restore(),t.save(),t.transform(...h),t.scale(1,-1),a2(t,d.canvas,0,0,o,c,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Xt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,n,r){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){Xt("Dependent image isn't ready yet");return}const a=s.width,o=s.height,c=[];for(let h=0,d=r.length;h<d;h+=2)c.push({transform:[t,0,0,n,r[h],r[h+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(s,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",n,r),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,r=this.ctx;if(this.save(),!ms){const{filter:o}=r;o!=="none"&&o!==""&&(r.filter="none")}r.scale(1/t,-1/n);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const c=this.cachedCanvases.getCanvas("inlineImage",t,n).context;dE(c,e),s=this.applyTransferMapsToCanvas(c)}const a=this._scaleImage(s,cu(r));r.imageSmoothingEnabled=pE(fr(r),e.interpolate),a2(r,a.img,0,0,a.paintWidth,a.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const s=e.width,a=e.height,c=this.cachedCanvases.getCanvas("inlineImage",s,a).context;dE(c,e),r=this.applyTransferMapsToCanvas(c)}for(const s of t)n.save(),n.transform(...s.transform),n.scale(1,-1),a2(n,r,s.x,s.y,s.w,s.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===mE?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=fr(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:r,d:s}=this.ctx.getTransform();let a,o;if(n===0&&r===0){const c=Math.abs(t),h=Math.abs(s);if(c===h)if(e===0)a=o=1/c;else{const d=c*e;a=o=d<1?1/d:1}else if(e===0)a=1/c,o=1/h;else{const d=c*e,p=h*e;a=d<1?1/d:1,o=p<1?1/p:1}}else{const c=Math.abs(t*s-n*r),h=Math.hypot(t,n),d=Math.hypot(r,s);if(e===0)a=d/c,o=h/c;else{const p=e*c;a=d>p?d/p:1,o=h>p?h/p:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[r,s]=this.getScaleForStroking();if(t.lineWidth=n||1,r===1&&s===1){t.stroke();return}const a=t.getLineDash();if(e&&t.save(),t.scale(r,s),a.length>0){const o=Math.max(r,s);t.setLineDash(a.map(c=>c/o)),t.lineDashOffset/=o}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Dd=new WeakSet,w5=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},x5=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let ng=MA;for(const i in nl)ng.prototype[i]!==void 0&&(ng.prototype[nl[i]]=ng.prototype[i]);var dy,fy;class zu{static get workerPort(){return g(this,dy)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");z(this,dy,e)}static get workerSrc(){return g(this,fy)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");z(this,fy,e)}}dy=new WeakMap,fy=new WeakMap,J(zu,dy,null),J(zu,fy,"");const l2={DATA:1,ERROR:2},qr={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Ia(i){switch(i instanceof Error||typeof i=="object"&&i!==null||Zn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),i.name){case"AbortException":return new tm(i.message);case"MissingPDFException":return new em(i.message);case"PasswordException":return new Gx(i.message,i.code);case"UnexpectedResponseException":return new b_(i.message,i.status);case"UnknownErrorException":return new Yx(i.message,i.details);default:return new Yx(i.message,i.toString())}}var Ag,Po,jN,BN,zN,V2;class d1{constructor(e,t,n){J(this,Po);J(this,Ag,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",W(this,Po,jN).bind(this),{signal:g(this,Ag).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},n)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,n,r){const s=this.streamId++,a=this.sourceName,o=this.targetName,c=this.comObj;return new ReadableStream({start:h=>{const d=Promise.withResolvers();return this.streamControllers[s]={controller:h,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:t,desiredSize:h.desiredSize},r),d.promise},pull:h=>{const d=Promise.withResolvers();return this.streamControllers[s].pullCall=d,c.postMessage({sourceName:a,targetName:o,stream:qr.PULL,streamId:s,desiredSize:h.desiredSize}),d.promise},cancel:h=>{ri(h instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[s].cancelCall=d,this.streamControllers[s].isClosed=!0,c.postMessage({sourceName:a,targetName:o,stream:qr.CANCEL,streamId:s,reason:Ia(h)}),d.promise}},n)}destroy(){var e;(e=g(this,Ag))==null||e.abort(),z(this,Ag,null)}}Ag=new WeakMap,Po=new WeakSet,jN=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){W(this,Po,zN).call(this,e);return}if(e.callback){const n=e.callbackId,r=this.callbackCapabilities[n];if(!r)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===l2.DATA)r.resolve(e.data);else if(e.callback===l2.ERROR)r.reject(Ia(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,r=e.sourceName,s=this.comObj;new Promise(function(a){a(t(e.data))}).then(function(a){s.postMessage({sourceName:n,targetName:r,callback:l2.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:n,targetName:r,callback:l2.ERROR,callbackId:e.callbackId,reason:Ia(a)})});return}if(e.streamId){W(this,Po,BN).call(this,e);return}t(e.data)},BN=function(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],c={enqueue(h,d=1,p){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=d,y>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:r,stream:qr.ENQUEUE,streamId:t,chunk:h},p)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:r,stream:qr.CLOSE,streamId:t}),delete a.streamSinks[t])},error(h){ri(h instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:r,stream:qr.ERROR,streamId:t,reason:Ia(h)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,new Promise(function(h){h(o(e.data,c))}).then(function(){s.postMessage({sourceName:n,targetName:r,stream:qr.START_COMPLETE,streamId:t,success:!0})},function(h){s.postMessage({sourceName:n,targetName:r,stream:qr.START_COMPLETE,streamId:t,reason:Ia(h)})})},zN=function(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,s=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case qr.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(Ia(e.reason));break;case qr.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(Ia(e.reason));break;case qr.PULL:if(!o){s.postMessage({sourceName:n,targetName:r,stream:qr.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,new Promise(function(c){var h;c((h=o.onPull)==null?void 0:h.call(o))}).then(function(){s.postMessage({sourceName:n,targetName:r,stream:qr.PULL_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:n,targetName:r,stream:qr.PULL_COMPLETE,streamId:t,reason:Ia(c)})});break;case qr.ENQUEUE:if(ri(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case qr.CLOSE:if(ri(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),W(this,Po,V2).call(this,a,t);break;case qr.ERROR:ri(a,"error should have stream controller"),a.controller.error(Ia(e.reason)),W(this,Po,V2).call(this,a,t);break;case qr.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(Ia(e.reason)),W(this,Po,V2).call(this,a,t);break;case qr.CANCEL:if(!o)break;new Promise(function(c){var h;c((h=o.onCancel)==null?void 0:h.call(o,Ia(e.reason)))}).then(function(){s.postMessage({sourceName:n,targetName:r,stream:qr.CANCEL_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:n,targetName:r,stream:qr.CANCEL_COMPLETE,streamId:t,reason:Ia(c)})}),o.sinkCapability.reject(Ia(e.reason)),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},V2=async function(e,t){var n,r,s;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(r=e.pullCall)==null?void 0:r.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var rp,py;class c9{constructor({parsedData:e,rawData:t}){J(this,rp);J(this,py);z(this,rp,e),z(this,py,t)}getRaw(){return g(this,py)}get(e){return g(this,rp).get(e)??null}getAll(){return gA(g(this,rp))}has(e){return g(this,rp).has(e)}}rp=new WeakMap,py=new WeakMap;const Um=Symbol("INTERNAL");var my,gy,yy,Cg;class u9{constructor(e,{name:t,intent:n,usage:r,rbGroups:s}){J(this,my,!1);J(this,gy,!1);J(this,yy,!1);J(this,Cg,!0);z(this,my,!!(e&qa.DISPLAY)),z(this,gy,!!(e&qa.PRINT)),this.name=t,this.intent=n,this.usage=r,this.rbGroups=s}get visible(){if(g(this,yy))return g(this,Cg);if(!g(this,Cg))return!1;const{print:e,view:t}=this.usage;return g(this,my)?(t==null?void 0:t.viewState)!=="OFF":g(this,gy)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==Um&&Zn("Internal method `_setVisible` called."),z(this,yy,n),z(this,Cg,t)}}my=new WeakMap,gy=new WeakMap,yy=new WeakMap,Cg=new WeakMap;var ad,Ln,kg,Eg,vy,S5;class h9{constructor(e,t=qa.DISPLAY){J(this,vy);J(this,ad,null);J(this,Ln,new Map);J(this,kg,null);J(this,Eg,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,z(this,Eg,e.order);for(const n of e.groups)g(this,Ln).set(n.id,new u9(t,n));if(e.baseState==="OFF")for(const n of g(this,Ln).values())n._setVisible(Um,!1);for(const n of e.on)g(this,Ln).get(n)._setVisible(Um,!0);for(const n of e.off)g(this,Ln).get(n)._setVisible(Um,!1);z(this,kg,this.getHash())}}isVisible(e){if(g(this,Ln).size===0)return!0;if(!e)return v_("Optional content group not defined."),!0;if(e.type==="OCG")return g(this,Ln).has(e.id)?g(this,Ln).get(e.id).visible:(Xt(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return W(this,vy,S5).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!g(this,Ln).has(t))return Xt(`Optional content group not found: ${t}`),!0;if(g(this,Ln).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!g(this,Ln).has(t))return Xt(`Optional content group not found: ${t}`),!0;if(!g(this,Ln).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!g(this,Ln).has(t))return Xt(`Optional content group not found: ${t}`),!0;if(!g(this,Ln).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!g(this,Ln).has(t))return Xt(`Optional content group not found: ${t}`),!0;if(g(this,Ln).get(t).visible)return!1}return!0}return Xt(`Unknown optional content policy ${e.policy}.`),!0}return Xt(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){var s;const r=g(this,Ln).get(e);if(!r){Xt(`Optional content group not found: ${e}`);return}if(n&&t&&r.rbGroups.length)for(const a of r.rbGroups)for(const o of a)o!==e&&((s=g(this,Ln).get(o))==null||s._setVisible(Um,!1,!0));r._setVisible(Um,!!t,!0),z(this,ad,null)}setOCGState({state:e,preserveRB:t}){let n;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":n=r;continue}const s=g(this,Ln).get(r);if(s)switch(n){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!s.visible,t);break}}z(this,ad,null)}get hasInitialVisibility(){return g(this,kg)===null||this.getHash()===g(this,kg)}getOrder(){return g(this,Ln).size?g(this,Eg)?g(this,Eg).slice():[...g(this,Ln).keys()]:null}getGroups(){return g(this,Ln).size>0?gA(g(this,Ln)):null}getGroup(e){return g(this,Ln).get(e)||null}getHash(){if(g(this,ad)!==null)return g(this,ad);const e=new EN;for(const[t,n]of g(this,Ln))e.update(`${t}:${n.visible}`);return z(this,ad,e.hexdigest())}}ad=new WeakMap,Ln=new WeakMap,kg=new WeakMap,Eg=new WeakMap,vy=new WeakSet,S5=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let r=1;r<t;r++){const s=e[r];let a;if(Array.isArray(s))a=W(this,vy,S5).call(this,s);else if(g(this,Ln).has(s))a=g(this,Ln).get(s).visible;else return Xt(`Optional content group not found: ${s}`),!0;switch(n){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return n==="And"};class d9{constructor(e,{disableRange:t=!1,disableStream:n=!1}){ri(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const c=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,h)=>{this._onReceiveData({begin:c,chunk:h})}),e.addProgressListener((c,h)=>{this._onProgress({loaded:c,total:h})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const r=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(n),!0)});ri(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,r,s;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(s=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||s.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){ri(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new f9(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new p9(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class f9{constructor(e,t,n=!1,r=null){this._stream=e,this._done=n||!1,this._filename=bA(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class p9{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function m9(i){let e=!0,t=n("filename\\*","i").exec(i);if(t){t=t[1];let d=o(t);return d=unescape(d),d=c(d),d=h(d),s(d)}if(t=a(i),t){const d=h(t);return s(d)}if(t=n("filename","i").exec(i),t){t=t[1];let d=o(t);return d=h(d),s(d)}function n(d,p){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function r(d,p){if(d){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const y=new TextDecoder(d,{fatal:!0}),v=__(p);p=y.decode(v),e=!1}catch{}}return p}function s(d){return e&&/[\x80-\xff]/.test(d)&&(d=r("utf-8",d),e&&(d=r("iso-8859-1",d))),d}function a(d){const p=[];let y;const v=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=v.exec(d))!==null;){let[,w,C,S]=y;if(w=parseInt(w,10),w in p){if(w===0)break;continue}p[w]=[C,S]}const x=[];for(let w=0;w<p.length&&w in p;++w){let[C,S]=p[w];S=o(S),C&&(S=unescape(S),w===0&&(S=c(S))),x.push(S)}return x.join("")}function o(d){if(d.startsWith('"')){const p=d.slice(1).split('\\"');for(let y=0;y<p.length;++y){const v=p[y].indexOf('"');v!==-1&&(p[y]=p[y].slice(0,v),p.length=y+1),p[y]=p[y].replaceAll(/\\(.)/g,"$1")}d=p.join('"')}return d}function c(d){const p=d.indexOf("'");if(p===-1)return d;const y=d.slice(0,p),x=d.slice(p+1).replace(/^[^']*'/,"");return r(y,x)}function h(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,y,v,x){if(v==="q"||v==="Q")return x=x.replaceAll("_"," "),x=x.replaceAll(/=([0-9a-fA-F]{2})/g,function(w,C){return String.fromCharCode(parseInt(C,16))}),r(y,x);try{x=atob(x)}catch{}return r(y,x)})}return""}function AA(i,e){const t=new Headers;if(!i||!e||typeof e!="object")return t;for(const n in e){const r=e[n];r!==void 0&&t.append(n,r)}return t}function CA({responseHeaders:i,isHttp:e,rangeChunkSize:t,disableRange:n}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(i.get("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*t)||n||!e||i.get("Accept-Ranges")!=="bytes"||(i.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function kA(i){const e=i.get("Content-Disposition");if(e){let t=m9(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(bA(t))return t}return null}function S_(i,e){return i===404||i===0&&e.startsWith("file:")?new em('Missing PDF "'+e+'".'):new b_(`Unexpected server response (${i}) while retrieving PDF "${e}".`,i)}function UN(i){return i===200||i===206}function qN(i,e,t){return{method:"GET",headers:i,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function HN(i){return i instanceof Uint8Array?i.buffer:i instanceof ArrayBuffer?i:(Xt(`getArrayBuffer - unexpected data format: ${i}`),new Uint8Array(i).buffer)}class gE{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=AA(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return ri(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new g9(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new y9(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class g9{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),r=t.url;fetch(r,qN(n,this._withCredentials,this._abortController)).then(s=>{if(!UN(s.status))throw S_(s.status,r);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:c}=CA({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=c||this._contentLength,this._filename=kA(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new tm("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:HN(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class y9{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${n-1}`);const a=r.url;fetch(a,qN(s,this._withCredentials,this._abortController)).then(o=>{if(!UN(o.status))throw S_(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:HN(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const Ww=200,Gw=206;function v9(i){const e=i.response;return typeof e!="string"?e:__(e).buffer}class b9{constructor({url:e,httpHeaders:t,withCredentials:n}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=AA(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const r={begin:e,end:t};for(const s in n)r[s]=n[s];return this.request(r)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,a]of this.headers)t.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=Gw):r.expectedStatus=Ww,t.responseType="arraybuffer",e.onError&&(t.onerror=function(s){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var r;const n=this.pendingRequests[e];n&&((r=n.onProgress)==null||r.call(n,t))}onStateChange(e,t){var c,h,d;const n=this.pendingRequests[e];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){(c=n.onError)==null||c.call(n,r.status);return}const s=r.status||Ww;if(!(s===Ww&&n.expectedStatus===Gw)&&s!==n.expectedStatus){(h=n.onError)==null||h.call(n,r.status);return}const o=v9(r);if(s===Gw){const p=r.getResponseHeader("Content-Range"),y=/bytes (\d+)-(\d+)\/(\d+)/.exec(p);n.onDone({begin:parseInt(y[1],10),chunk:o})}else o?n.onDone({begin:0,chunk:o}):(d=n.onError)==null||d.call(n,r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class _9{constructor(e){this._source=e,this._manager=new b9(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return ri(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new w9(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new x9(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class w9{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map(a=>{const[o,...c]=a.split(": ");return[o,c.join(": ")]})),{allowRangeRequests:r,suggestedLength:s}=CA({responseHeaders:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=kA(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=S_(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class x9{constructor(e,t,n){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=S_(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const S9=/^[a-z][a-z0-9\-+.]+:/i;function A9(i){if(S9.test(i))return new URL(i);const e=Id.get("url");return new URL(e.pathToFileURL(i))}function $N(i,e,t){return i.protocol==="http:"?Id.get("http").request(i,{headers:e},t):Id.get("https").request(i,{headers:e},t)}class C9{constructor(e){this.source=e,this.url=A9(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=AA(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return ri(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new P9(this):new k9(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new T9(this,e,t):new E9(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class VN{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new tm("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class WN{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class k9 extends VN{constructor(e){super(e);const t=Object.fromEntries(e.headers),n=r=>{if(r.statusCode===404){const c=new em(`Missing PDF "${this._url}".`);this._storedError=c,this._headersCapability.reject(c);return}this._headersCapability.resolve(),this._setReadableStream(r);const s=new Headers(this._readableStream.headers),{allowRangeRequests:a,suggestedLength:o}=CA({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=o||this._contentLength,this._filename=kA(s)};this._request=$N(this._url,t,n),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class E9 extends WN{constructor(e,t,n){super(e);const r=Object.fromEntries(e.headers);r.Range=`bytes=${t}-${n-1}`;const s=a=>{if(a.statusCode===404){const o=new em(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(a)};this._request=$N(this._url,r,s),this._request.on("error",a=>{this._storedError=a}),this._request.end()}}class P9 extends VN{constructor(e){super(e);const t=Id.get("fs");t.promises.lstat(this._url).then(n=>{this._contentLength=n.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()},n=>{n.code==="ENOENT"&&(n=new em(`Missing PDF "${this._url}".`)),this._storedError=n,this._headersCapability.reject(n)})}}class T9 extends WN{constructor(e,t,n){super(e);const r=Id.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:t,end:n-1}))}}const L9=1e5,ia=30,N9=.8;var eP,od,oa,by,_y,ip,xu,wy,xy,sp,Pg,Tg,ld,Lg,Sy,Ng,ap,Ay,Cy,Ar,op,lp,ky,cd,Rg,Xu,GN,YN,C5,Ka,W2,k5,XN,KN;let A5=(Ar=class{constructor({textContentSource:e,container:t,viewport:n}){J(this,Xu);J(this,od,Promise.withResolvers());J(this,oa,null);J(this,by,!1);J(this,_y,!!((eP=globalThis.FontInspector)!=null&&eP.enabled));J(this,ip,null);J(this,xu,null);J(this,wy,0);J(this,xy,0);J(this,sp,null);J(this,Pg,null);J(this,Tg,0);J(this,ld,0);J(this,Lg,Object.create(null));J(this,Sy,[]);J(this,Ng,null);J(this,ap,[]);J(this,Ay,new WeakMap);J(this,Cy,null);var c;if(e instanceof ReadableStream)z(this,Ng,e);else if(typeof e=="object")z(this,Ng,new ReadableStream({start(h){h.enqueue(e),h.close()}}));else throw new Error('No "textContentSource" parameter specified.');z(this,oa,z(this,Pg,t)),z(this,ld,n.scale*(globalThis.devicePixelRatio||1)),z(this,Tg,n.rotation),z(this,xu,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:s,pageX:a,pageY:o}=n.rawDims;z(this,Cy,[1,0,0,-1,-a,o+s]),z(this,xy,r),z(this,wy,s),W(c=Ar,Ka,XN).call(c),Hp(t,n),g(this,od).promise.finally(()=>{g(Ar,Rg).delete(this),z(this,xu,null),z(this,Lg,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Ds.platform;return an(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{g(this,sp).read().then(({value:t,done:n})=>{if(n){g(this,od).resolve();return}g(this,ip)??z(this,ip,t.lang),Object.assign(g(this,Lg),t.styles),W(this,Xu,GN).call(this,t.items),e()},g(this,od).reject)};return z(this,sp,g(this,Ng).getReader()),g(Ar,Rg).add(this),e(),g(this,od).promise}update({viewport:e,onBefore:t=null}){var s;const n=e.scale*(globalThis.devicePixelRatio||1),r=e.rotation;if(r!==g(this,Tg)&&(t==null||t(),z(this,Tg,r),Hp(g(this,Pg),{rotation:r})),n!==g(this,ld)){t==null||t(),z(this,ld,n);const a={div:null,properties:null,ctx:W(s=Ar,Ka,W2).call(s,g(this,ip))};for(const o of g(this,ap))a.properties=g(this,Ay).get(o),a.div=o,W(this,Xu,C5).call(this,a)}}cancel(){var t;const e=new tm("TextLayer task cancelled.");(t=g(this,sp))==null||t.cancel(e).catch(()=>{}),z(this,sp,null),g(this,od).reject(e)}get textDivs(){return g(this,ap)}get textContentItemsStr(){return g(this,Sy)}static cleanup(){if(!(g(this,Rg).size>0)){g(this,op).clear();for(const{canvas:e}of g(this,lp).values())e.remove();g(this,lp).clear()}}},od=new WeakMap,oa=new WeakMap,by=new WeakMap,_y=new WeakMap,ip=new WeakMap,xu=new WeakMap,wy=new WeakMap,xy=new WeakMap,sp=new WeakMap,Pg=new WeakMap,Tg=new WeakMap,ld=new WeakMap,Lg=new WeakMap,Sy=new WeakMap,Ng=new WeakMap,ap=new WeakMap,Ay=new WeakMap,Cy=new WeakMap,op=new WeakMap,lp=new WeakMap,ky=new WeakMap,cd=new WeakMap,Rg=new WeakMap,Xu=new WeakSet,GN=function(e){var r,s;if(g(this,by))return;(s=g(this,xu)).ctx??(s.ctx=W(r=Ar,Ka,W2).call(r,g(this,ip)));const t=g(this,ap),n=g(this,Sy);for(const a of e){if(t.length>L9){Xt("Ignoring additional textDivs for performance reasons."),z(this,by,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=g(this,oa);z(this,oa,document.createElement("span")),g(this,oa).classList.add("markedContent"),a.id!==null&&g(this,oa).setAttribute("id",`${a.id}`),o.append(g(this,oa))}else a.type==="endMarkedContent"&&z(this,oa,g(this,oa).parentNode);continue}n.push(a.str),W(this,Xu,YN).call(this,a)}},YN=function(e){var w;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};g(this,ap).push(t);const r=vt.transform(g(this,Cy),e.transform);let s=Math.atan2(r[1],r[0]);const a=g(this,Lg)[e.fontName];a.vertical&&(s+=Math.PI/2);let o=g(this,_y)&&a.fontSubstitution||a.fontFamily;o=Ar.fontFamilyMap.get(o)||o;const c=Math.hypot(r[2],r[3]),h=c*W(w=Ar,Ka,KN).call(w,o,g(this,ip));let d,p;s===0?(d=r[4],p=r[5]-h):(d=r[4]+h*Math.sin(s),p=r[5]-h*Math.cos(s));const y="calc(var(--scale-factor)*",v=t.style;g(this,oa)===g(this,Pg)?(v.left=`${(100*d/g(this,xy)).toFixed(2)}%`,v.top=`${(100*p/g(this,wy)).toFixed(2)}%`):(v.left=`${y}${d.toFixed(2)}px)`,v.top=`${y}${p.toFixed(2)}px)`),v.fontSize=`${y}${(g(Ar,cd)*c).toFixed(2)}px)`,v.fontFamily=o,n.fontSize=c,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,g(this,_y)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(n.angle=s*(180/Math.PI));let x=!1;if(e.str.length>1)x=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const C=Math.abs(e.transform[0]),S=Math.abs(e.transform[3]);C!==S&&Math.max(C,S)/Math.min(C,S)>1.5&&(x=!0)}if(x&&(n.canvasWidth=a.vertical?e.height:e.width),g(this,Ay).set(t,n),g(this,xu).div=t,g(this,xu).properties=n,W(this,Xu,C5).call(this,g(this,xu)),n.hasText&&g(this,oa).append(t),n.hasEOL){const C=document.createElement("br");C.setAttribute("role","presentation"),g(this,oa).append(C)}},C5=function(e){var o;const{div:t,properties:n,ctx:r}=e,{style:s}=t;let a="";if(g(Ar,cd)>1&&(a=`scale(${1/g(Ar,cd)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:c}=s,{canvasWidth:h,fontSize:d}=n;W(o=Ar,Ka,k5).call(o,r,d*g(this,ld),c);const{width:p}=r.measureText(t.textContent);p>0&&(a=`scaleX(${h*g(this,ld)/p}) ${a}`)}n.angle!==0&&(a=`rotate(${n.angle}deg) ${a}`),a.length>0&&(s.transform=a)},Ka=new WeakSet,W2=function(e=null){let t=g(this,lp).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),g(this,lp).set(e,t),g(this,ky).set(t,{size:0,family:""})}return t},k5=function(e,t,n){const r=g(this,ky).get(e);t===r.size&&n===r.family||(e.font=`${t}px ${n}`,r.size=t,r.family=n)},XN=function(){if(g(this,cd)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),z(this,cd,e.getBoundingClientRect().height),e.remove()},KN=function(e,t){const n=g(this,op).get(e);if(n)return n;const r=W(this,Ka,W2).call(this,t);r.canvas.width=r.canvas.height=ia,W(this,Ka,k5).call(this,r,ia,e);const s=r.measureText("");let a=s.fontBoundingBoxAscent,o=Math.abs(s.fontBoundingBoxDescent);if(a){const d=a/(a+o);return g(this,op).set(e,d),r.canvas.width=r.canvas.height=0,d}r.strokeStyle="red",r.clearRect(0,0,ia,ia),r.strokeText("g",0,0);let c=r.getImageData(0,0,ia,ia).data;o=0;for(let d=c.length-1-3;d>=0;d-=4)if(c[d]>0){o=Math.ceil(d/4/ia);break}r.clearRect(0,0,ia,ia),r.strokeText("A",0,ia),c=r.getImageData(0,0,ia,ia).data,a=0;for(let d=0,p=c.length;d<p;d+=4)if(c[d]>0){a=ia-Math.floor(d/4/ia);break}r.canvas.width=r.canvas.height=0;const h=a?a/(a+o):N9;return g(this,op).set(e,h),h},J(Ar,Ka),J(Ar,op,new Map),J(Ar,lp,new Map),J(Ar,ky,new WeakMap),J(Ar,cd,null),J(Ar,Rg,new Set),Ar);class H1{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function r(s){var c;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(H1.shouldBuildText(o))(c=s==null?void 0:s.attributes)!=null&&c.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&t.push({str:a}),!!s.children)for(const h of s.children)r(h)}return r(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const R9=65536,I9=100,M9=5e3,O9=ms?G4:$4,F9=ms?Y4:RN,D9=ms?W4:V4,j9=ms?X4:FN;function B9(i={}){typeof i=="string"||i instanceof URL?i={url:i}:(i instanceof ArrayBuffer||ArrayBuffer.isView(i))&&(i={data:i});const e=new E5,{docId:t}=e,n=i.url?z9(i.url):null,r=i.data?U9(i.data):null,s=i.httpHeaders||null,a=i.withCredentials===!0,o=i.password??null,c=i.range instanceof JN?i.range:null,h=Number.isInteger(i.rangeChunkSize)&&i.rangeChunkSize>0?i.rangeChunkSize:R9;let d=i.worker instanceof rg?i.worker:null;const p=i.verbosity,y=typeof i.docBaseUrl=="string"&&!x_(i.docBaseUrl)?i.docBaseUrl:null,v=typeof i.cMapUrl=="string"?i.cMapUrl:null,x=i.cMapPacked!==!1,w=i.CMapReaderFactory||F9,C=typeof i.standardFontDataUrl=="string"?i.standardFontDataUrl:null,S=i.StandardFontDataFactory||j9,P=i.stopAtErrors!==!0,R=Number.isInteger(i.maxImageSize)&&i.maxImageSize>-1?i.maxImageSize:-1,M=i.isEvalSupported!==!1,O=typeof i.isOffscreenCanvasSupported=="boolean"?i.isOffscreenCanvasSupported:!ms,$=typeof i.isChrome=="boolean"?i.isChrome:!Ds.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),U=Number.isInteger(i.canvasMaxAreaInBytes)?i.canvasMaxAreaInBytes:-1,D=typeof i.disableFontFace=="boolean"?i.disableFontFace:ms,Q=i.fontExtraProperties===!0,ue=i.enableXfa===!0,j=i.ownerDocument||globalThis.document,V=i.disableRange===!0,ee=i.disableStream===!0,re=i.disableAutoFetch===!0,pe=i.pdfBug===!0,fe=i.CanvasFactory||O9,he=i.FilterFactory||D9,ne=i.enableHWA===!0,ye=c?c.length:i.length??NaN,me=typeof i.useSystemFonts=="boolean"?i.useSystemFonts:!ms&&!D,se=typeof i.useWorkerFetch=="boolean"?i.useWorkerFetch:w===RN&&S===FN&&v&&C&&s1(v,document.baseURI)&&s1(C,document.baseURI);i.canvasFactory&&iE("`canvasFactory`-instance option, please use `CanvasFactory` instead."),i.filterFactory&&iE("`filterFactory`-instance option, please use `FilterFactory` instead.");const I=null;w4(p);const K={canvasFactory:new fe({ownerDocument:j,enableHWA:ne}),filterFactory:new he({docId:t,ownerDocument:j}),cMapReaderFactory:se?null:new w({baseUrl:v,isCompressed:x}),standardFontDataFactory:se?null:new S({baseUrl:C})};if(!d){const de={verbosity:p,port:zu.workerPort};d=de.port?rg.fromPort(de):new rg(de),e._worker=d}const Z={docId:t,apiVersion:"4.8.69",data:r,password:o,disableAutoFetch:re,rangeChunkSize:h,length:ye,docBaseUrl:y,enableXfa:ue,evaluatorOptions:{maxImageSize:R,disableFontFace:D,ignoreErrors:P,isEvalSupported:M,isOffscreenCanvasSupported:O,isChrome:$,canvasMaxAreaInBytes:U,fontExtraProperties:Q,useSystemFonts:me,cMapUrl:se?v:null,standardFontDataUrl:se?C:null}},oe={disableFontFace:D,fontExtraProperties:Q,ownerDocument:j,pdfBug:pe,styleElement:I,loadingParams:{disableAutoFetch:re,enableXfa:ue}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const de=d.messageHandler.sendWithPromise("GetDocRequest",Z,r?[r.buffer]:null);let ge;if(c)ge=new d9(c,{disableRange:V,disableStream:ee});else if(!r){if(!n)throw new Error("getDocument - no `url` parameter provided.");let Ce;ms?Ce=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&s1(n)?gE:C9:Ce=s1(n)?gE:_9,ge=new Ce({url:n,length:ye,httpHeaders:s,withCredentials:a,rangeChunkSize:h,disableRange:V,disableStream:ee})}return de.then(Ce=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const ke=new d1(t,Ce,d.port),ze=new V9(ke,e,ge,oe,K);e._transport=ze,ke.send("Ready",null)})}).catch(e._capability.reject),e}function z9(i){if(i instanceof URL)return i.href;try{return new URL(i,window.location).href}catch{if(ms&&typeof i=="string")return i}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function U9(i){if(ms&&typeof Buffer<"u"&&i instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength)return i;if(typeof i=="string")return __(i);if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)||typeof i=="object"&&!isNaN(i==null?void 0:i.length))return new Uint8Array(i);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function yE(i){return typeof i=="object"&&Number.isInteger(i==null?void 0:i.num)&&i.num>=0&&Number.isInteger(i==null?void 0:i.gen)&&i.gen>=0}var Wb;const Gb=class Gb{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Ns(Gb,Wb)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,n;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(r){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Wb=new WeakMap,J(Gb,Wb,0);let E5=Gb,JN=class{constructor(e,t,n=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){Zn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class q9{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return an(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ud,Su,Co,qm,G2;class H9{constructor(e,t,n,r=!1){J(this,Co);J(this,ud,null);J(this,Su,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=r?new rE:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new QN,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:s=!1}={}){return new fv({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return an(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:r=Yh.ENABLE,transform:s=null,background:a=null,optionalContentConfigPromise:o=null,annotationCanvasMap:c=null,pageColors:h=null,printAnnotationStorage:d=null,isEditing:p=!1}){var M,O;(M=this._stats)==null||M.time("Overall");const y=this._transport.getRenderingIntent(n,r,d,p),{renderingIntent:v,cacheKey:x}=y;z(this,Su,!1),W(this,Co,G2).call(this),o||(o=this._transport.getOptionalContentConfig(v));let w=this._intentStates.get(x);w||(w=Object.create(null),this._intentStates.set(x,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const C=!!(v&qa.PRINT);w.displayReadyCapability||(w.displayReadyCapability=Promise.withResolvers(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(O=this._stats)==null||O.time("Page Request"),this._pumpOperatorList(y));const S=$=>{var U;w.renderTasks.delete(P),(this._maybeCleanupAfterRender||C)&&z(this,Su,!0),W(this,Co,qm).call(this,!C),$?(P.capability.reject($),this._abortOperatorList({intentState:w,reason:$ instanceof Error?$:new Error($)})):P.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(U=globalThis.Stats)!=null&&U.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},P=new T5({callback:S,params:{canvasContext:e,viewport:t,transform:s,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!C,pdfBug:this._pdfBug,pageColors:h});(w.renderTasks||(w.renderTasks=new Set)).add(P);const R=P.task;return Promise.all([w.displayReadyCapability.promise,o]).then(([$,U])=>{var D;if(this.destroyed){S();return}if((D=this._stats)==null||D.time("Rendering"),!(U.renderingIntent&v))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");P.initializeGraphics({transparency:$,optionalContentConfig:U}),P.operatorListChanged()}).catch(S),R}getOperatorList({intent:e="display",annotationMode:t=Yh.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}={}){var h;function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(c))}const a=this._transport.getRenderingIntent(e,t,n,r,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let c;return o.opListReadCapability||(c=Object.create(null),c.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(c),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(h=this._stats)==null||h.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>H1.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,r){function s(){a.read().then(function({value:c,done:h}){if(h){n(o);return}o.lang??(o.lang=c.lang),Object.assign(o.styles,c.styles),o.items.push(...c.items),s()},r)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),z(this,Su,!1),W(this,Co,G2).call(this),Promise.all(e)}cleanup(e=!1){z(this,Su,!0);const t=W(this,Co,qm).call(this,!1);return e&&t&&this._stats&&(this._stats=new rE),t}_startRenderPage(e,t){var r,s;const n=this._intentStates.get(t);n&&((r=this._stats)==null||r.timeEnd("Page Request"),(s=n.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&W(this,Co,qm).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:r}){const{map:s,transfer:a}=n,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:r},a).getReader(),h=this._intentStates.get(t);h.streamReader=c;const d=()=>{c.read().then(({value:p,done:y})=>{if(y){h.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,h),d())},p=>{if(h.streamReader=null,!this._transport.destroyed){if(h.operatorList){h.operatorList.lastChunk=!0;for(const y of h.renderTasks)y.operatorListChanged();W(this,Co,qm).call(this,!0)}if(h.displayReadyCapability)h.displayReadyCapability.reject(p);else if(h.opListReadCapability)h.opListReadCapability.reject(p);else throw p}})};d()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof vA){let r=I9;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new tm(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}ud=new WeakMap,Su=new WeakMap,Co=new WeakSet,qm=function(e=!1){if(W(this,Co,G2).call(this),!g(this,Su)||this.destroyed)return!1;if(e)return z(this,ud,setTimeout(()=>{z(this,ud,null),W(this,Co,qm).call(this,!1)},M9)),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),z(this,Su,!1),!0},G2=function(){g(this,ud)&&(clearTimeout(g(this,ud)),z(this,ud,null))};var Au,Yb;class $9{constructor(){J(this,Au,new Map);J(this,Yb,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};g(this,Yb).then(()=>{for(const[r]of g(this,Au))r.call(this,n)})}addEventListener(e,t,n=null){let r=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:s}=n;if(s.aborted){Xt("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);r=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}g(this,Au).set(t,r)}removeEventListener(e,t){const n=g(this,Au).get(t);n==null||n(),g(this,Au).delete(t)}terminate(){for(const[,e]of g(this,Au))e==null||e();g(this,Au).clear()}}Au=new WeakMap,Yb=new WeakMap;var Xb,cp,up,Ig,Y2,Mg,X2;const ir=class ir{constructor({name:e=null,port:t=null,verbosity:n=x4()}={}){J(this,Ig);var r;if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((r=g(ir,up))!=null&&r.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(g(ir,up)||z(ir,up,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return ms?Promise.all([Id.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new d1("main","worker",e),this._messageHandler.on("ready",function(){}),W(this,Ig,Y2).call(this)}_initialize(){if(g(ir,cp)||g(ir,Mg,X2)){this._setupFakeWorker();return}let{workerSrc:e}=ir;try{ir._isSameOrigin(window.location.href,e)||(e=ir._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new d1("main","worker",t),r=()=>{s.abort(),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;t.addEventListener("error",()=>{this._webWorker||r()},{signal:s.signal}),n.on("test",o=>{if(s.abort(),this.destroyed||!o){r();return}this._messageHandler=n,this._port=t,this._webWorker=t,W(this,Ig,Y2).call(this)}),n.on("ready",o=>{if(s.abort(),this.destroyed){r();return}try{a()}catch{this._setupFakeWorker()}});const a=()=>{const o=new Uint8Array;n.send("test",o,[o.buffer])};a();return}catch{v_("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){g(ir,cp)||(Xt("Setting up fake worker."),z(ir,cp,!0)),ir._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new $9;this._port=t;const n=`fake${Ns(ir,Xb)._++}`,r=new d1(n+"_worker",n,t);e.setup(r,t),this._messageHandler=new d1(n,n+"_worker",t),W(this,Ig,Y2).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=g(ir,up))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var n;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(n=g(this,up))==null?void 0:n.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new ir(e)}static get workerSrc(){if(zu.workerSrc)return zu.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return an(this,"_setupFakeWorkerGlobal",(async()=>g(this,Mg,X2)?g(this,Mg,X2):(await import(this.workerSrc)).WorkerMessageHandler)())}};Xb=new WeakMap,cp=new WeakMap,up=new WeakMap,Ig=new WeakSet,Y2=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Mg=new WeakSet,X2=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},J(ir,Mg),J(ir,Xb,0),J(ir,cp,!1),J(ir,up),ms&&(z(ir,cp,!0),zu.workerSrc||(zu.workerSrc="./pdf.worker.mjs")),ir._isSameOrigin=(e,t)=>{let n;try{if(n=new URL(e),!n.origin||n.origin==="null")return!1}catch{return!1}const r=new URL(t,n);return n.origin===r.origin},ir._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let rg=ir;var Cu,lc,Og,Fg,cc,hp,f1;class V9{constructor(e,t,n,r,s){J(this,hp);J(this,Cu,new Map);J(this,lc,new Map);J(this,Og,new Map);J(this,Fg,new Map);J(this,cc,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new QN,this.fontLoader=new q4({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return an(this,"annotationStorage",new xA)}getRenderingIntent(e,t=Yh.ENABLE,n=null,r=!1,s=!1){let a=qa.DISPLAY,o=m5;switch(e){case"any":a=qa.ANY;break;case"display":break;case"print":a=qa.PRINT;break;default:Xt(`getRenderingIntent - invalid intent: ${e}`)}const c=a&qa.PRINT&&n instanceof TN?n:this.annotationStorage;switch(t){case Yh.DISABLE:a+=qa.ANNOTATIONS_DISABLE;break;case Yh.ENABLE:break;case Yh.ENABLE_FORMS:a+=qa.ANNOTATIONS_FORMS;break;case Yh.ENABLE_STORAGE:a+=qa.ANNOTATIONS_STORAGE,o=c.serializable;break;default:Xt(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(a+=qa.IS_EDITING),s&&(a+=qa.OPLIST);const{ids:h,hash:d}=c.modifiedIds,p=[a,o.hash,d];return{renderingIntent:a,cacheKey:p.join("_"),annotationStorageSerializable:o,modifiedIds:h}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=g(this,cc))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of g(this,lc).values())e.push(r._destroy());g(this,lc).clear(),g(this,Og).clear(),g(this,Fg).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),g(this,Cu).clear(),this.filterFactory.destroy(),A5.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new tm("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,r)=>{ri(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){r.close();return}ri(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async n=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:s,contentLength:a}=this._fullReader;return(!r||!s)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),this._fullReader.onProgress=c=>{var h;(h=t.onProgress)==null||h.call(t,{loaded:c.loaded,total:c.total})}),{isStreamingSupported:r,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(n,r)=>{ri(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(n.begin,n.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){r.close();return}ri(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{r.error(a)})},r.onCancel=a=>{s.cancel(a),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new q9(n,this))}),e.on("DocException",function(n){let r;switch(n.name){case"PasswordException":r=new Gx(n.message,n.code);break;case"InvalidPDFException":r=new tN(n.message);break;case"MissingPDFException":r=new em(n.message);break;case"UnexpectedResponseException":r=new b_(n.message,n.status);break;case"UnknownErrorException":r=new Yx(n.message,n.details);break;default:Zn("DocException - expected a valid Error.")}t._capability.reject(r)}),e.on("PasswordRequest",n=>{if(z(this,cc,Promise.withResolvers()),t.onPassword){const r=s=>{s instanceof Error?g(this,cc).reject(s):g(this,cc).resolve({password:s})};try{t.onPassword(r,n.code)}catch(s){g(this,cc).reject(s)}}else g(this,cc).reject(new Gx(n.message,n.code));return g(this,cc).promise}),e.on("DataLoaded",n=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;g(this,lc).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,r,s])=>{var a;if(this.destroyed||this.commonObjs.has(n))return null;switch(r){case"Font":const{disableFontFace:o,fontExtraProperties:c,pdfBug:h}=this._params;if("error"in s){const v=s.error;Xt(`Error during font loading: ${v}`),this.commonObjs.resolve(n,v);break}const d=h&&((a=globalThis.FontInspector)!=null&&a.enabled)?(v,x)=>globalThis.FontInspector.fontAdded(v,x):null,p=new H4(s,{disableFontFace:o,inspectFont:d});this.fontLoader.bind(p).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!c&&p.data&&(p.data=null),this.commonObjs.resolve(n,p)});break;case"CopyLocalImage":const{imageRef:y}=s;ri(y,"The imageRef must be defined.");for(const v of g(this,lc).values())for(const[,x]of v.objs)if((x==null?void 0:x.ref)===y)return x.dataLen?(this.commonObjs.resolve(n,structuredClone(x)),x.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,s);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([n,r,s,a])=>{var c;if(this.destroyed)return;const o=g(this,lc).get(r);if(!o.objs.has(n)){if(o._intentStates.size===0){(c=a==null?void 0:a.bitmap)==null||c.close();return}switch(s){case"Image":o.objs.resolve(n,a),(a==null?void 0:a.dataLen)>y4&&(o._maybeCleanupAfterRender=!0);break;case"Pattern":o.objs.resolve(n,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",n=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBuiltInCMap",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(n)}),e.on("FetchStandardFontData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Xt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=g(this,Og).get(t);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&g(this,Fg).set(s.refStr,e);const a=new H9(t,s,this,this._params.pdfBug);return g(this,lc).set(t,a),a});return g(this,Og).set(t,r),r}getPageIndex(e){return yE(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return W(this,hp,f1).call(this,"GetFieldObjects")}hasJSActions(){return W(this,hp,f1).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return W(this,hp,f1).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return W(this,hp,f1).call(this,"GetOptionalContentConfig").then(t=>new h9(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=g(this,Cu).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(r=>{var s,a;return{info:r[0],metadata:r[1]?new c9(r[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return g(this,Cu).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of g(this,lc).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),g(this,Cu).clear(),this.filterFactory.destroy(!0),A5.cleanup()}}cachedPageNumber(e){if(!yE(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return g(this,Fg).get(t)??null}}Cu=new WeakMap,lc=new WeakMap,Og=new WeakMap,Fg=new WeakMap,cc=new WeakMap,hp=new WeakSet,f1=function(e,t=null){const n=g(this,Cu).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,t);return g(this,Cu).set(e,r),r};const c2=Symbol("INITIAL_DATA");var cl,Ey,P5;class QN{constructor(){J(this,Ey);J(this,cl,Object.create(null))}get(e,t=null){if(t){const r=W(this,Ey,P5).call(this,e);return r.promise.then(()=>t(r.data)),null}const n=g(this,cl)[e];if(!n||n.data===c2)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=g(this,cl)[e];return!!t&&t.data!==c2}resolve(e,t=null){const n=W(this,Ey,P5).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in g(this,cl)){const{data:n}=g(this,cl)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}z(this,cl,Object.create(null))}*[Symbol.iterator](){for(const e in g(this,cl)){const{data:t}=g(this,cl)[e];t!==c2&&(yield[e,t])}}}cl=new WeakMap,Ey=new WeakSet,P5=function(e){var t;return(t=g(this,cl))[e]||(t[e]={...Promise.withResolvers(),data:c2})};var hd;class W9{constructor(e){J(this,hd,null);z(this,hd,e),this.onContinue=null}get promise(){return g(this,hd).capability.promise}cancel(e=0){g(this,hd).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=g(this,hd).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=g(this,hd);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}hd=new WeakMap;var dd,dp;const Mf=class Mf{constructor({callback:e,params:t,objs:n,commonObjs:r,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:c,filterFactory:h,useRequestAnimationFrame:d=!1,pdfBug:p=!1,pageColors:y=null}){J(this,dd,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=c,this.filterFactory=h,this._pdfBug=p,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new W9(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var o,c;if(this.cancelled)return;if(this._canvas){if(g(Mf,dp).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");g(Mf,dp).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:r,transform:s,background:a}=this.params;this.gfx=new ng(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:r,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,t=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),g(this,dd)&&(window.cancelAnimationFrame(g(this,dd)),z(this,dd,null)),g(Mf,dp).delete(this._canvas),this.callback(e||new vA(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?z(this,dd,window.requestAnimationFrame(()=>{z(this,dd,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),g(Mf,dp).delete(this._canvas),this.callback())))}};dd=new WeakMap,dp=new WeakMap,J(Mf,dp,new WeakSet);let T5=Mf;const G9="4.8.69",Y9="3634dab10";function vE(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}function Z0(i){return Math.max(0,Math.min(255,255*i))}class bE{static CMYK_G([e,t,n,r]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Z0(e),[e,e,e]}static G_HTML([e]){const t=vE(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(Z0)}static RGB_HTML(e){return`#${e.map(vE).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,n+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,n,r]){return[Z0(1-Math.min(1,e+r)),Z0(1-Math.min(1,n+r)),Z0(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const r=1-e,s=1-t,a=1-n,o=Math.min(r,s,a);return["CMYK",r,s,a,o]}}class X9{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Zn("Abstract method `_createSVG` called.")}}class EA extends X9{_createSVG(e){return document.createElementNS(hu,e)}}class ZN{static setupStorage(e,t,n,r,s){const a=r.getValue(t,{value:null});switch(n.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{r.setValue(t,{value:o.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(a.value===n.attributes.xfaOn?e.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{r.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{r.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of n.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const c=o.target.options,h=c.selectedIndex===-1?"":c[c.selectedIndex].value;r.setValue(t,{value:h})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:r,linkService:s}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${r}`);for(const[c,h]of Object.entries(a))if(h!=null)switch(c){case"class":h.length&&e.setAttribute(c,h.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",h);break;case"style":Object.assign(e.style,h);break;case"textContent":e.textContent=h;break;default:(!o||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,h)}o&&s.addLinkAttributes(e,a.href,a.newWindow),n&&a.dataId&&this.setupStorage(e,a.dataId,t,n)}static render(e){var p,y;const t=e.annotationStorage,n=e.linkService,r=e.xfaHtml,s=e.intent||"display",a=document.createElement(r.name);r.attributes&&this.setAttributes({html:a,element:r,intent:s,linkService:n});const o=s!=="richText",c=e.div;if(c.append(a),e.viewport){const v=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=v}o&&c.setAttribute("class","xfaLayer xfaFont");const h=[];if(r.children.length===0){if(r.value){const v=document.createTextNode(r.value);a.append(v),o&&H1.shouldBuildText(r.name)&&h.push(v)}return{textDivs:h}}const d=[[r,-1,a]];for(;d.length>0;){const[v,x,w]=d.at(-1);if(x+1===v.children.length){d.pop();continue}const C=v.children[++d.at(-1)[1]];if(C===null)continue;const{name:S}=C;if(S==="#text"){const R=document.createTextNode(C.value);h.push(R),w.append(R);continue}const P=(p=C==null?void 0:C.attributes)!=null&&p.xmlns?document.createElementNS(C.attributes.xmlns,S):document.createElement(S);if(w.append(P),C.attributes&&this.setAttributes({html:P,element:C,storage:t,intent:s,linkService:n}),((y=C.children)==null?void 0:y.length)>0)d.push([C,-1,P]);else if(C.value){const R=document.createTextNode(C.value);o&&H1.shouldBuildText(S)&&h.push(R),P.append(R)}}for(const v of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))v.setAttribute("readOnly",!0);return{textDivs:h}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const mv=1e3,K9=9,Vp=new WeakSet;function qu(i){return{width:i[2]-i[0],height:i[3]-i[1]}}class J9{static create(e){switch(e.data.annotationType){case Zr.LINK:return new eR(e);case Zr.TEXT:return new Q9(e);case Zr.WIDGET:switch(e.data.fieldType){case"Tx":return new Z9(e);case"Btn":return e.data.radioButton?new rR(e):e.data.checkBox?new tB(e):new nB(e);case"Ch":return new rB(e);case"Sig":return new eB(e)}return new nm(e);case Zr.POPUP:return new N5(e);case Zr.FREETEXT:return new lR(e);case Zr.LINE:return new sB(e);case Zr.SQUARE:return new aB(e);case Zr.CIRCLE:return new oB(e);case Zr.POLYLINE:return new cR(e);case Zr.CARET:return new cB(e);case Zr.INK:return new PA(e);case Zr.POLYGON:return new lB(e);case Zr.HIGHLIGHT:return new uR(e);case Zr.UNDERLINE:return new uB(e);case Zr.SQUIGGLY:return new hB(e);case Zr.STRIKEOUT:return new dB(e);case Zr.STAMP:return new hR(e);case Zr.FILEATTACHMENT:return new fB(e);default:return new jr(e)}}}var fp,Dg,jg,Py,L5;const OA=class OA{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){J(this,Py);J(this,fp,null);J(this,Dg,!1);J(this,jg,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:n}){return!!(e!=null&&e.str||t!=null&&t.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return OA._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;g(this,fp)||z(this,fp,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&W(this,Py,L5).call(this,t),(n=g(this,jg))==null||n.popup.updateEdited(e)}resetEdited(){var e;g(this,fp)&&(W(this,Py,L5).call(this,g(this,fp).rect),(e=g(this,jg))==null||e.popup.resetEdited(),z(this,fp,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof nm||(s.tabIndex=mv);const{style:a}=s;if(a.zIndex=this.parent.zIndex++,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof N5){const{rotation:w}=t;return!t.hasOwnCanvas&&w!==0&&this.setRotation(w,s),s}const{width:o,height:c}=qu(t.rect);if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const w=t.borderStyle.horizontalCornerRadius,C=t.borderStyle.verticalCornerRadius;if(w>0||C>0){const P=`calc(${w}px * var(--scale-factor)) / calc(${C}px * var(--scale-factor))`;a.borderRadius=P}else if(this instanceof rR){const P=`calc(${o}px * var(--scale-factor)) / calc(${c}px * var(--scale-factor))`;a.borderRadius=P}switch(t.borderStyle.style){case J0.SOLID:a.borderStyle="solid";break;case J0.DASHED:a.borderStyle="dashed";break;case J0.BEVELED:Xt("Unimplemented border style: beveled");break;case J0.INSET:Xt("Unimplemented border style: inset");break;case J0.UNDERLINE:a.borderBottomStyle="solid";break}const S=t.borderColor||null;S?(z(this,Dg,!0),a.borderColor=vt.makeHexColor(S[0]|0,S[1]|0,S[2]|0)):a.borderWidth=0}const h=vt.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:d,pageHeight:p,pageX:y,pageY:v}=r.rawDims;a.left=`${100*(h[0]-y)/d}%`,a.top=`${100*(h[1]-v)/p}%`;const{rotation:x}=t;return t.hasOwnCanvas||x===0?(a.width=`${100*o/d}%`,a.height=`${100*c/p}%`):this.setRotation(x,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims,{width:s,height:a}=qu(this.data.rect);let o,c;e%180===0?(o=100*s/n,c=100*a/r):(o=100*a/n,c=100*s/r),t.style.width=`${o}%`,t.style.height=`${c}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,r)=>{const s=r.detail[t],a=s[0],o=s.slice(1);r.target.style[n]=bE[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[n]:bE[`${a}_rgb`](o)})};return an(this,"_commonActions",{display:t=>{const{display:n}=t.detail,r=n%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const r of Object.keys(t.detail)){const s=e[r]||n[r];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[r,s]of Object.entries(t)){const a=n[r];if(a){const o={detail:{[r]:s},target:e};a(o),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,r,s]=this.data.rect.map(w=>Math.fround(w));if(e.length===8){const[w,C,S,P]=e.subarray(2,6);if(r===w&&s===C&&t===S&&n===P)return}const{style:a}=this.container;let o;if(g(this,Dg)){const{borderColor:w,borderWidth:C}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${w}" stroke-width="${C}">`],this.container.classList.add("hasBorder")}const c=r-t,h=s-n,{svgFactory:d}=this,p=d.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0);const y=d.createElement("defs");p.append(y);const v=d.createElement("clipPath"),x=`clippath_${this.data.id}`;v.setAttribute("id",x),v.setAttribute("clipPathUnits","objectBoundingBox"),y.append(v);for(let w=2,C=e.length;w<C;w+=8){const S=e[w],P=e[w+1],R=e[w+2],M=e[w+3],O=d.createElement("rect"),$=(R-t)/c,U=(s-P)/h,D=(S-R)/c,Q=(P-M)/h;O.setAttribute("x",$),O.setAttribute("y",U),O.setAttribute("width",D),O.setAttribute("height",Q),v.append(O),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${$}" y="${U}" width="${D}" height="${Q}"/>`)}g(this,Dg)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(p),this.container.style.clipPath=`url(#${x})`}_createPopup(){const{data:e}=this,t=z(this,jg,new N5({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){Zn("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:s,id:a,exportValues:o}of r){if(s===-1||a===t)continue;const c=typeof o=="string"?o:null,h=document.querySelector(`[data-element-id="${a}"]`);if(h&&!Vp.has(h)){Xt(`_getElementsByName - element not allowed: ${a}`);continue}n.push({id:a,exportValue:c,domElement:h})}return n}for(const r of document.getElementsByName(e)){const{exportValue:s}=r,a=r.getAttribute("data-element-id");a!==t&&Vp.has(r)&&n.push({id:a,exportValue:s,domElement:r})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};fp=new WeakMap,Dg=new WeakMap,jg=new WeakMap,Py=new WeakSet,L5=function(e){const{container:{style:t},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:c}}}}=this;n==null||n.splice(0,4,...e);const{width:h,height:d}=qu(e);t.left=`${100*(e[0]-o)/s}%`,t.top=`${100*(a-e[3]+c)/a}%`,r===0?(t.width=`${100*h/s}%`,t.height=`${100*d/a}%`):this.setRotation(r)};let jr=OA;var $a,Cf,tR,nR;class eR extends jr{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});J(this,$a);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let s=!1;return t.url?(n.addLinkAttributes(r,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(r,t.action),s=!0):t.attachment?(W(this,$a,tR).call(this,r,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(W(this,$a,nR).call(this,r,t.setOCGState),s=!0):t.dest?(this._bindLink(r,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),s=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(r,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(r),this.container}_bindLink(t,n){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&W(this,$a,Cf).call(this)}_bindNamedAction(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),W(this,$a,Cf).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(n.actions)){const a=r.get(s);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),W(this,$a,Cf).call(this)}_bindResetFormAction(t,n){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),W(this,$a,Cf).call(this),!this._fieldObjects){Xt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var p;r==null||r();const{fields:s,refs:a,include:o}=n,c=[];if(s.length!==0||a.length!==0){const y=new Set(a);for(const v of s){const x=this._fieldObjects[v]||[];for(const{id:w}of x)y.add(w)}for(const v of Object.values(this._fieldObjects))for(const x of v)y.has(x.id)===o&&c.push(x)}else for(const y of Object.values(this._fieldObjects))c.push(...y);const h=this.annotationStorage,d=[];for(const y of c){const{id:v}=y;switch(d.push(v),y.type){case"text":{const w=y.defaultValue||"";h.setValue(v,{value:w});break}case"checkbox":case"radiobutton":{const w=y.defaultValue===y.exportValues;h.setValue(v,{value:w});break}case"combobox":case"listbox":{const w=y.defaultValue||"";h.setValue(v,{value:w});break}default:continue}const x=document.querySelector(`[data-element-id="${v}"]`);if(x){if(!Vp.has(x)){Xt(`_bindResetFormAction - element not allowed: ${v}`);continue}}else continue;x.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}$a=new WeakSet,Cf=function(){this.container.setAttribute("data-internal-link","")},tR=function(t,n,r=null){t.href=this.linkService.getAnchorUrl(""),n.description&&(t.title=n.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(n.content,n.filename,r),!1},W(this,$a,Cf).call(this)},nR=function(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),W(this,$a,Cf).call(this)};class Q9 extends jr{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class nm extends jr{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Ds.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,r,s){n.includes("mouse")?e.addEventListener(n,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(n,a=>{var o;if(n==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(a)}}))})}_setEventListeners(e,t,n,r){var s,a,o;for(const[c,h]of n)(h==="Action"||(s=this.data.actions)!=null&&s[h])&&((h==="Focus"||h==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,c,h,r),h==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):h==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":vt.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||K9,s=e.style;let a;const o=2,c=h=>Math.round(10*h)/10;if(this.data.multiLine){const h=Math.abs(this.data.rect[3]-this.data.rect[1]-o),d=Math.round(h/(qw*r))||1,p=h/d;a=Math.min(r,c(p/qw))}else{const h=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(r,c(h/qw))}s.fontSize=`calc(${a}px * var(--scale-factor))`,s.color=vt.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class Z9 extends nm{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,r){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=n),s.setValue(a.id,{[r]:n})}render(){var r,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const c=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;c&&o.length>c&&(o=o.slice(0,c));let h=a.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;h&&this.data.comb&&(h=h.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:h,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=h??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",h??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Vp.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=mv,this._setRequired(n,this.data.required),c&&(n.maxLength=c),n.addEventListener("input",y=>{e.setValue(t,{value:y.target.value}),this.setPropertyOnSiblings(n,"value",y.target.value,"value"),d.formattedValue=null}),n.addEventListener("resetform",y=>{const v=this.data.defaultFieldValue??"";n.value=d.userValue=v,d.formattedValue=null});let p=y=>{const{formattedValue:v}=d;v!=null&&(y.target.value=v),y.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",v=>{var w;if(d.focused)return;const{target:x}=v;d.userValue&&(x.value=d.userValue),d.lastCommittedValue=x.value,d.commitKey=1,(w=this.data.actions)!=null&&w.Focus||(d.focused=!0)}),n.addEventListener("updatefromsandbox",v=>{this.showElementAndHideCanvas(v.target);const x={value(w){d.userValue=w.detail.value??"",e.setValue(t,{value:d.userValue.toString()}),w.target.value=d.userValue},formattedValue(w){const{formattedValue:C}=w.detail;d.formattedValue=C,C!=null&&w.target!==document.activeElement&&(w.target.value=C),e.setValue(t,{formattedValue:C})},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{var R;const{charLimit:C}=w.detail,{target:S}=w;if(C===0){S.removeAttribute("maxLength");return}S.setAttribute("maxLength",C);let P=d.userValue;!P||P.length<=C||(P=P.slice(0,C),S.value=d.userValue=P,e.setValue(t,{value:P}),(R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:P,willCommit:!0,commitKey:1,selStart:S.selectionStart,selEnd:S.selectionEnd}}))}};this._dispatchEventFromSandbox(x,v)}),n.addEventListener("keydown",v=>{var C;d.commitKey=1;let x=-1;if(v.key==="Escape"?x=0:v.key==="Enter"&&!this.data.multiLine?x=2:v.key==="Tab"&&(d.commitKey=3),x===-1)return;const{value:w}=v.target;d.lastCommittedValue!==w&&(d.lastCommittedValue=w,d.userValue=w,(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:x,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}}))});const y=p;p=null,n.addEventListener("blur",v=>{var w,C;if(!d.focused||!v.relatedTarget)return;(w=this.data.actions)!=null&&w.Blur||(d.focused=!1);const{value:x}=v.target;d.userValue=x,d.lastCommittedValue!==x&&((C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:d.commitKey,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}})),y(v)}),(s=this.data.actions)!=null&&s.Keystroke&&n.addEventListener("beforeinput",v=>{var O;d.lastCommittedValue=null;const{data:x,target:w}=v,{value:C,selectionStart:S,selectionEnd:P}=w;let R=S,M=P;switch(v.inputType){case"deleteWordBackward":{const $=C.substring(0,S).match(/\w*[^\w]*$/);$&&(R-=$[0].length);break}case"deleteWordForward":{const $=C.substring(S).match(/^[^\w]*\w*/);$&&(M+=$[0].length);break}case"deleteContentBackward":S===P&&(R-=1);break;case"deleteContentForward":S===P&&(M+=1);break}v.preventDefault(),(O=this.linkService.eventBus)==null||O.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:C,change:x||"",willCommit:!1,selStart:R,selEnd:M}})}),this._setEventListeners(n,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],v=>v.target.value)}if(p&&n.addEventListener("blur",p),this.data.comb){const v=(this.data.rect[2]-this.data.rect[0])/c;n.classList.add("comb"),n.style.letterSpacing=`calc(${v}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class eB extends nm{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class tB extends nm{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Vp.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=mv,s.addEventListener("change",a=>{const{name:o,checked:c}=a.target;for(const h of this._getElementsByName(o,n)){const d=c&&h.exportValue===t.exportValue;h.domElement&&(h.domElement.checked=d),e.setValue(h.id,{value:d})}e.setValue(n,{value:c})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(n,{value:c.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class rR extends nm{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(n,{value:r})),r)for(const a of this._getElementsByName(t.fieldName,n))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(Vp.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=mv,s.addEventListener("change",a=>{const{name:o,checked:c}=a.target;for(const h of this._getElementsByName(o,n))e.setValue(h.id,{value:!1});e.setValue(n,{value:c})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;s.addEventListener("updatefromsandbox",o=>{const c={value:h=>{const d=a===h.detail.value;for(const p of this._getElementsByName(h.target.name)){const y=d&&p.id===n;p.domElement&&(p.domElement.checked=y),e.setValue(p.id,{value:y})}}};this._dispatchEventFromSandbox(c,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class nB extends eR{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class rB extends nm{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");Vp.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=mv;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",d=>{const p=this.data.defaultFieldValue;for(const y of r.options)y.selected=y.value===p});for(const d of this.data.options){const p=document.createElement("option");p.textContent=d.displayValue,p.value=d.exportValue,n.value.includes(d.exportValue)&&(p.setAttribute("selected",!0),s=!1),r.append(p)}let a=null;if(s){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),r.prepend(d),a=()=>{d.remove(),r.removeEventListener("input",a),a=null},r.addEventListener("input",a)}const o=d=>{const p=d?"value":"textContent",{options:y,multiple:v}=r;return v?Array.prototype.filter.call(y,x=>x.selected).map(x=>x[p]):y.selectedIndex===-1?null:y[y.selectedIndex][p]};let c=o(!1);const h=d=>{const p=d.target.options;return Array.prototype.map.call(p,y=>({displayValue:y.textContent,exportValue:y.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",d=>{const p={value(y){a==null||a();const v=y.detail.value,x=new Set(Array.isArray(v)?v:[v]);for(const w of r.options)w.selected=x.has(w.value);e.setValue(t,{value:o(!0)}),c=o(!1)},multipleSelection(y){r.multiple=!0},remove(y){const v=r.options,x=y.detail.remove;v[x].selected=!1,r.remove(x),v.length>0&&Array.prototype.findIndex.call(v,C=>C.selected)===-1&&(v[0].selected=!0),e.setValue(t,{value:o(!0),items:h(y)}),c=o(!1)},clear(y){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),c=o(!1)},insert(y){const{index:v,displayValue:x,exportValue:w}=y.detail.insert,C=r.children[v],S=document.createElement("option");S.textContent=x,S.value=w,C?C.before(S):r.append(S),e.setValue(t,{value:o(!0),items:h(y)}),c=o(!1)},items(y){const{items:v}=y.detail;for(;r.length!==0;)r.remove(0);for(const x of v){const{displayValue:w,exportValue:C}=x,S=document.createElement("option");S.textContent=w,S.value=C,r.append(S)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:o(!0),items:h(y)}),c=o(!1)},indices(y){const v=new Set(y.detail.indices);for(const x of y.target.options)x.selected=v.has(x.index);e.setValue(t,{value:o(!0)}),c=o(!1)},editable(y){y.target.disabled=!y.detail.editable}};this._dispatchEventFromSandbox(p,d)}),r.addEventListener("input",d=>{var v;const p=o(!0),y=o(!1);e.setValue(t,{value:p}),d.preventDefault(),(v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:c,change:y,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):r.addEventListener("input",function(d){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class N5 extends jr{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:jr._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new iB({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,n.container.ariaHasPopup="dialog",t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(n=>`${yA}${n}`).join(",")),this.container}}var Bg,Kb,Jb,zg,pp,wr,ku,Ug,Ty,Ly,qg,Eu,ul,Pu,Ny,Tu,Ry,mp,gp,On,K2,R5,iR,sR,aR,oR,J2,Q2,I5;class iB{constructor({container:e,color:t,elements:n,titleObj:r,modificationDate:s,contentsObj:a,richText:o,parent:c,rect:h,parentRect:d,open:p}){J(this,On);J(this,Bg,W(this,On,aR).bind(this));J(this,Kb,W(this,On,I5).bind(this));J(this,Jb,W(this,On,Q2).bind(this));J(this,zg,W(this,On,J2).bind(this));J(this,pp,null);J(this,wr,null);J(this,ku,null);J(this,Ug,null);J(this,Ty,null);J(this,Ly,null);J(this,qg,null);J(this,Eu,!1);J(this,ul,null);J(this,Pu,null);J(this,Ny,null);J(this,Tu,null);J(this,Ry,null);J(this,mp,null);J(this,gp,!1);var y;z(this,wr,e),z(this,Ry,r),z(this,ku,a),z(this,Tu,o),z(this,Ly,c),z(this,pp,t),z(this,Ny,h),z(this,qg,d),z(this,Ty,n),z(this,Ug,_A.toDateObject(s)),this.trigger=n.flatMap(v=>v.getElementsToTriggerPopup());for(const v of this.trigger)v.addEventListener("click",g(this,zg)),v.addEventListener("mouseenter",g(this,Jb)),v.addEventListener("mouseleave",g(this,Kb)),v.classList.add("popupTriggerArea");for(const v of n)(y=v.container)==null||y.addEventListener("keydown",g(this,Bg));g(this,wr).hidden=!0,p&&W(this,On,J2).call(this)}render(){if(g(this,ul))return;const e=z(this,ul,document.createElement("div"));if(e.className="popup",g(this,pp)){const s=e.style.outlineColor=vt.makeHexColor(...g(this,pp));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=vt.makeHexColor(...g(this,pp).map(o=>Math.floor(.7*(255-o)+o)))}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),{dir:n.dir,str:n.textContent}=g(this,Ry),e.append(t),g(this,Ug)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:g(this,Ug).valueOf()})),t.append(s)}const r=g(this,On,K2);if(r)ZN.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(g(this,ku));e.append(s)}g(this,wr).append(e)}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const r=e.split(/(?:\r\n?|\n)/);for(let s=0,a=r.length;s<a;++s){const o=r[s];n.append(document.createTextNode(o)),s<a-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:t}){var n;g(this,mp)||z(this,mp,{contentsObj:g(this,ku),richText:g(this,Tu)}),e&&z(this,Pu,null),t&&(z(this,Tu,W(this,On,sR).call(this,t)),z(this,ku,null)),(n=g(this,ul))==null||n.remove(),z(this,ul,null)}resetEdited(){var e;g(this,mp)&&({contentsObj:Ns(this,ku)._,richText:Ns(this,Tu)._}=g(this,mp),z(this,mp,null),(e=g(this,ul))==null||e.remove(),z(this,ul,null),z(this,Pu,null))}forceHide(){z(this,gp,this.isVisible),g(this,gp)&&(g(this,wr).hidden=!0)}maybeShow(){g(this,gp)&&(g(this,ul)||W(this,On,Q2).call(this),z(this,gp,!1),g(this,wr).hidden=!1)}get isVisible(){return g(this,wr).hidden===!1}}Bg=new WeakMap,Kb=new WeakMap,Jb=new WeakMap,zg=new WeakMap,pp=new WeakMap,wr=new WeakMap,ku=new WeakMap,Ug=new WeakMap,Ty=new WeakMap,Ly=new WeakMap,qg=new WeakMap,Eu=new WeakMap,ul=new WeakMap,Pu=new WeakMap,Ny=new WeakMap,Tu=new WeakMap,Ry=new WeakMap,mp=new WeakMap,gp=new WeakMap,On=new WeakSet,K2=function(){const e=g(this,Tu),t=g(this,ku);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&g(this,Tu).html||null},R5=function(){var e,t,n;return((n=(t=(e=g(this,On,K2))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},iR=function(){var e,t,n;return((n=(t=(e=g(this,On,K2))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},sR=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:g(this,On,iR),fontSize:g(this,On,R5)?`calc(${g(this,On,R5)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:r});return n},aR=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&g(this,Eu))&&W(this,On,J2).call(this)},oR=function(){if(g(this,Pu)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:r,pageY:s}}}=g(this,Ly);let a=!!g(this,qg),o=a?g(this,qg):g(this,Ny);for(const x of g(this,Ty))if(!o||vt.intersect(x.data.rect,o)!==null){o=x.data.rect,a=!0;break}const c=vt.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),d=a?o[2]-o[0]+5:0,p=c[0]+d,y=c[1];z(this,Pu,[100*(p-r)/t,100*(y-s)/n]);const{style:v}=g(this,wr);v.left=`${g(this,Pu)[0]}%`,v.top=`${g(this,Pu)[1]}%`},J2=function(){z(this,Eu,!g(this,Eu)),g(this,Eu)?(W(this,On,Q2).call(this),g(this,wr).addEventListener("click",g(this,zg)),g(this,wr).addEventListener("keydown",g(this,Bg))):(W(this,On,I5).call(this),g(this,wr).removeEventListener("click",g(this,zg)),g(this,wr).removeEventListener("keydown",g(this,Bg)))},Q2=function(){g(this,ul)||this.render(),this.isVisible?g(this,Eu)&&g(this,wr).classList.add("focused"):(W(this,On,oR).call(this),g(this,wr).hidden=!1,g(this,wr).style.zIndex=parseInt(g(this,wr).style.zIndex)+1e3)},I5=function(){g(this,wr).classList.remove("focused"),!(g(this,Eu)||!this.isVisible)&&(g(this,wr).hidden=!0,g(this,wr).style.zIndex=parseInt(g(this,wr).style.zIndex)-1e3)};class lR extends jr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Gt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Iy;class sB extends jr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});J(this,Iy,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:n,height:r}=qu(t.rect),s=this.svgFactory.create(n,r,!0),a=z(this,Iy,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,Iy)}addHighlightArea(){this.container.classList.add("highlightArea")}}Iy=new WeakMap;var My;class aB extends jr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});J(this,My,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:n,height:r}=qu(t.rect),s=this.svgFactory.create(n,r,!0),a=t.borderStyle.width,o=z(this,My,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",n-a),o.setAttribute("height",r-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,My)}addHighlightArea(){this.container.classList.add("highlightArea")}}My=new WeakMap;var Oy;class oB extends jr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});J(this,Oy,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:n,height:r}=qu(t.rect),s=this.svgFactory.create(n,r,!0),a=t.borderStyle.width,o=z(this,Oy,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",n/2),o.setAttribute("cy",r/2),o.setAttribute("rx",n/2-a/2),o.setAttribute("ry",r/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,Oy)}addHighlightArea(){this.container.classList.add("highlightArea")}}Oy=new WeakMap;var Fy;class cR extends jr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});J(this,Fy,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:r,popupRef:s}}=this;if(!n)return this.container;const{width:a,height:o}=qu(t),c=this.svgFactory.create(a,o,!0);let h=[];for(let p=0,y=n.length;p<y;p+=2){const v=n[p]-t[0],x=t[3]-n[p+1];h.push(`${v},${x}`)}h=h.join(" ");const d=z(this,Fy,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",h),d.setAttribute("stroke-width",r.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),c.append(d),this.container.append(c),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,Fy)}addHighlightArea(){this.container.classList.add("highlightArea")}}Fy=new WeakMap;class lB extends cR{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class cB extends jr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Dy;class PA extends jr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});J(this,Dy,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Gt.HIGHLIGHT:Gt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:n,borderStyle:r,popupRef:s}}=this,{width:a,height:o}=qu(t),c=this.svgFactory.create(a,o,!0);for(const h of n){let d=[];for(let y=0,v=h.length;y<v;y+=2){const x=h[y]-t[0],w=t[3]-h[y+1];d.push(`${x},${w}`)}d=d.join(" ");const p=this.svgFactory.createElement(this.svgElementName);g(this,Dy).push(p),p.setAttribute("points",d),p.setAttribute("stroke-width",r.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),c.append(p)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(c),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return g(this,Dy)}addHighlightArea(){this.container.classList.add("highlightArea")}}Dy=new WeakMap;class uR extends jr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Gt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class uB extends jr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class hB extends jr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class dB extends jr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class hR extends jr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Gt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var jy,By,M5;class fB extends jr{constructor(t){var r;super(t,{isRenderable:!0});J(this,By);J(this,jy,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let r;n.hasAppearance||n.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),r.addEventListener("dblclick",W(this,By,M5).bind(this)),z(this,jy,r);const{isMac:s}=Ds.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&W(this,By,M5).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return g(this,jy)}addHighlightArea(){this.container.classList.add("highlightArea")}}jy=new WeakMap,By=new WeakSet,M5=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var zy,yp,vp,Uy,Gp,dR,O5,tP;let pB=(tP=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:r,page:s,viewport:a,structTreeLayer:o}){J(this,Gp);J(this,zy,null);J(this,yp,null);J(this,vp,new Map);J(this,Uy,null);this.div=e,z(this,zy,t),z(this,yp,n),z(this,Uy,o||null),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return g(this,vp).size>0}async render(e){var a;const{annotations:t}=e,n=this.div;Hp(n,this.viewport);const r=new Map,s={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new EA,annotationStorage:e.annotationStorage||new xA,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of t){if(o.noHTML)continue;const c=o.annotationType===Zr.POPUP;if(c){const p=r.get(o.id);if(!p)continue;s.elements=p}else{const{width:p,height:y}=qu(o.rect);if(p<=0||y<=0)continue}s.data=o;const h=J9.create(s);if(!h.isRenderable)continue;if(!c&&o.popupRef){const p=r.get(o.popupRef);p?p.push(h):r.set(o.popupRef,[h])}const d=h.render();o.hidden&&(d.style.visibility="hidden"),await W(this,Gp,dR).call(this,d,o.id),h._isEditable&&(g(this,vp).set(h.data.id,h),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(h))}W(this,Gp,O5).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,Hp(t,{rotation:e.rotation}),W(this,Gp,O5).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(g(this,vp).values())}getEditableAnnotation(e){return g(this,vp).get(e)}},zy=new WeakMap,yp=new WeakMap,vp=new WeakMap,Uy=new WeakMap,Gp=new WeakSet,dR=async function(e,t){var a,o;const n=e.firstChild||e,r=n.id=`${yA}${t}`,s=await((a=g(this,Uy))==null?void 0:a.getAriaAttributes(r));if(s)for(const[c,h]of s)n.setAttribute(c,h);this.div.append(e),(o=g(this,zy))==null||o.moveElementInDOM(this.div,e,n,!1)},O5=function(){if(!g(this,yp))return;const e=this.div;for(const[t,n]of g(this,yp)){const r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;n.className="annotationContent";const{firstChild:s}=r;s?s.nodeName==="CANVAS"?s.replaceWith(n):s.classList.contains("annotationContent")?s.after(n):s.before(n):r.append(n)}g(this,yp).clear()},tP);const u2=/\r\n?|\n/g;var hl,Fa,qy,bp,Da,Gr,fR,pR,mR,Z2,$u,eb,tb,gR,D5,yR;const Hn=class Hn extends Nn{constructor(t){super({...t,name:"freeTextEditor"});J(this,Gr);J(this,hl);J(this,Fa,"");J(this,qy,`${this.id}-editor`);J(this,bp,null);J(this,Da);z(this,hl,t.color||Hn._defaultColor||Nn._defaultLineColor),z(this,Da,t.fontSize||Hn._defaultFontSize)}static get _keyboardManager(){const t=Hn.prototype,n=a=>a.isEmpty(),r=$p.TRANSLATE_SMALL,s=$p.TRANSLATE_BIG;return an(this,"_keyboardManager",new pv([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:n}]]))}static initialize(t,n){Nn.initialize(t,n);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case Bt.FREETEXT_SIZE:Hn._defaultFontSize=n;break;case Bt.FREETEXT_COLOR:Hn._defaultColor=n;break}}updateParams(t,n){switch(t){case Bt.FREETEXT_SIZE:W(this,Gr,fR).call(this,n);break;case Bt.FREETEXT_COLOR:W(this,Gr,pR).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Bt.FREETEXT_SIZE,Hn._defaultFontSize],[Bt.FREETEXT_COLOR,Hn._defaultColor||Nn._defaultLineColor]]}get propertiesToUpdate(){return[[Bt.FREETEXT_SIZE,g(this,Da)],[Bt.FREETEXT_COLOR,g(this,hl)]]}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-Hn._internalPadding*t,-(Hn._internalPadding+g(this,Da))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Gt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),z(this,bp,new AbortController);const t=this._uiManager.combinedSignal(g(this,bp));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",g(this,qy)),this._isDraggable=!0,(t=g(this,bp))==null||t.abort(),z(this,bp,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=g(this,Fa),n=z(this,Fa,W(this,Gr,mR).call(this).trimEnd());if(t===n)return;const r=s=>{if(z(this,Fa,s),!s){this.remove();return}W(this,Gr,tb).call(this),this._uiManager.rebuild(this),W(this,Gr,Z2).call(this)};this.addCommands({cmd:()=>{r(n)},undo:()=>{r(t)},mustExec:!1}),W(this,Gr,Z2).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Hn._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",g(this,qy)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${g(this,Da)}px * var(--scale-factor))`,r.color=g(this,hl),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Lb(this,this.div,["dblclick","keydown"]),this.width){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[c,h]=this.getInitialTranslation();[c,h]=this.pageTranslationToScreen(c,h);const[d,p]=this.pageDimensions,[y,v]=this.pageTranslation;let x,w;switch(this.rotation){case 0:x=t+(o[0]-y)/d,w=n+this.height-(o[1]-v)/p;break;case 90:x=t+(o[0]-y)/d,w=n-(o[1]-v)/p,[c,h]=[h,-c];break;case 180:x=t-this.width+(o[0]-y)/d,w=n-(o[1]-v)/p,[c,h]=[-c,-h];break;case 270:x=t+(o[0]-y-this.height*p)/d,w=n+(o[1]-v-this.width*d)/p,[c,h]=[-h,c];break}this.setAt(x*s,w*a,c,h)}else this.setAt(t*s,n*a,this.width*s,this.height*a);W(this,Gr,tb).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var x,w,C;const n=t.clipboardData||window.clipboardData,{types:r}=n;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const s=W(x=Hn,$u,D5).call(x,n.getData("text")||"").replaceAll(u2,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:c,startOffset:h}=o,d=[],p=[];if(c.nodeType===Node.TEXT_NODE){const S=c.parentElement;if(p.push(c.nodeValue.slice(h).replaceAll(u2,"")),S!==this.editorDiv){let P=d;for(const R of this.editorDiv.childNodes){if(R===S){P=p;continue}P.push(W(w=Hn,$u,eb).call(w,R))}}d.push(c.nodeValue.slice(0,h).replaceAll(u2,""))}else if(c===this.editorDiv){let S=d,P=0;for(const R of this.editorDiv.childNodes)P++===h&&(S=p),S.push(W(C=Hn,$u,eb).call(C,R))}z(this,Fa,`${d.join(`
`)}${s}${p.join(`
`)}`),W(this,Gr,tb).call(this);const y=new Range;let v=d.reduce((S,P)=>S+P.length,0);for(const{firstChild:S}of this.editorDiv.childNodes)if(S.nodeType===Node.TEXT_NODE){const P=S.nodeValue.length;if(v<=P){y.setStart(S,v),y.setEnd(S,v);break}v-=P}a.removeAllRanges(),a.addRange(y)}get contentDiv(){return this.editorDiv}static async deserialize(t,n,r){var o;let s=null;if(t instanceof lR){const{data:{defaultAppearanceData:{fontSize:c,fontColor:h},rect:d,rotation:p,id:y,popupRef:v},textContent:x,textPosition:w,parent:{page:{pageNumber:C}}}=t;if(!x||x.length===0)return null;s=t={annotationType:Gt.FREETEXT,color:Array.from(h),fontSize:c,value:x.join(`
`),position:w,pageIndex:C-1,rect:d.slice(0),rotation:p,id:y,deleted:!1,popupRef:v}}const a=await super.deserialize(t,n,r);return z(a,Da,t.fontSize),z(a,hl,vt.makeHexColor(...t.color)),z(a,Fa,W(o=Hn,$u,D5).call(o,t.value)),a.annotationElementId=t.id||null,a._initialData=s,a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Hn._internalPadding*this.parentScale,r=this.getRect(n,n),s=Nn._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:g(this,hl)),a={annotationType:Gt.FREETEXT,color:s,fontSize:g(this,Da),value:W(this,Gr,gR).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?a:this.annotationElementId&&!W(this,Gr,yR).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(this.deleted)return n;const{style:r}=n;r.fontSize=`calc(${g(this,Da)}px * var(--scale-factor))`,r.color=g(this,hl),n.replaceChildren();for(const a of g(this,Fa).split(`
`)){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),n.append(o)}const s=Hn._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:g(this,Fa)}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};hl=new WeakMap,Fa=new WeakMap,qy=new WeakMap,bp=new WeakMap,Da=new WeakMap,Gr=new WeakSet,fR=function(t){const n=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-g(this,Da))*this.parentScale),z(this,Da,s),W(this,Gr,Z2).call(this)},r=g(this,Da);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Bt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},pR=function(t){const n=s=>{z(this,hl,this.editorDiv.style.color=s)},r=g(this,hl);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Bt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},mR=function(){var r;const t=[];this.editorDiv.normalize();let n=null;for(const s of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(W(r=Hn,$u,eb).call(r,s)),n=s);return t.join(`
`)},Z2=function(){const[t,n]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,c=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),r=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/n):(this.width=r.height/t,this.height=r.width/n),this.fixAndSetPosition()},$u=new WeakSet,eb=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(u2,"")},tb=function(){if(this.editorDiv.replaceChildren(),!!g(this,Fa))for(const t of g(this,Fa).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},gR=function(){return g(this,Fa).replaceAll(" "," ")},D5=function(t){return t.replaceAll(" "," ")},yR=function(t){const{value:n,fontSize:r,color:s,pageIndex:a}=this._initialData;return this._hasBeenMoved||t.value!==n||t.fontSize!==r||t.color.some((o,c)=>o!==s[c])||t.pageIndex!==a},J(Hn,$u),jt(Hn,"_freeTextDefaultContent",""),jt(Hn,"_internalPadding",0),jt(Hn,"_defaultColor",null),jt(Hn,"_defaultFontSize",10),jt(Hn,"_type","freetext"),jt(Hn,"_editorType",Gt.FREETEXT);let F5=Hn;class vR{toSVGPath(){Zn("Abstract method `toSVGPath` must be implemented.")}get box(){Zn("Abstract getter `box` must be implemented.")}serialize(e,t){Zn("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){Zn("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){Zn("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var ja,dl,Hg,$g,uc,Qt,_p,wp,Hy,$y,Vg,Wg,fd,Vy,Qb,Zb,si,p1,bR,_R,wR,xR,SR,AR;const pu=class pu{constructor({x:e,y:t},n,r,s,a,o=0){J(this,si);J(this,ja);J(this,dl,[]);J(this,Hg);J(this,$g);J(this,uc,[]);J(this,Qt,new Float64Array(18));J(this,_p);J(this,wp);J(this,Hy);J(this,$y);J(this,Vg);J(this,Wg);J(this,fd,[]);z(this,ja,n),z(this,Wg,s*r),z(this,$g,a),g(this,Qt).set([NaN,NaN,NaN,NaN,e,t],6),z(this,Hg,o),z(this,$y,g(pu,Vy)*r),z(this,Hy,g(pu,Zb)*r),z(this,Vg,r),g(this,fd).push(e,t)}isEmpty(){return isNaN(g(this,Qt)[8])}add({x:e,y:t}){var Q;z(this,_p,e),z(this,wp,t);const[n,r,s,a]=g(this,ja);let[o,c,h,d]=g(this,Qt).subarray(8,12);const p=e-h,y=t-d,v=Math.hypot(p,y);if(v<g(this,Hy))return!1;const x=v-g(this,$y),w=x/v,C=w*p,S=w*y;let P=o,R=c;o=h,c=d,h+=C,d+=S,(Q=g(this,fd))==null||Q.push(e,t);const M=-S/x,O=C/x,$=M*g(this,Wg),U=O*g(this,Wg);return g(this,Qt).set(g(this,Qt).subarray(2,8),0),g(this,Qt).set([h+$,d+U],4),g(this,Qt).set(g(this,Qt).subarray(14,18),12),g(this,Qt).set([h-$,d-U],16),isNaN(g(this,Qt)[6])?(g(this,uc).length===0&&(g(this,Qt).set([o+$,c+U],2),g(this,uc).push(NaN,NaN,NaN,NaN,(o+$-n)/s,(c+U-r)/a),g(this,Qt).set([o-$,c-U],14),g(this,dl).push(NaN,NaN,NaN,NaN,(o-$-n)/s,(c-U-r)/a)),g(this,Qt).set([P,R,o,c,h,d],6),!this.isEmpty()):(g(this,Qt).set([P,R,o,c,h,d],6),Math.abs(Math.atan2(R-c,P-o)-Math.atan2(S,C))<Math.PI/2?([o,c,h,d]=g(this,Qt).subarray(2,6),g(this,uc).push(NaN,NaN,NaN,NaN,((o+h)/2-n)/s,((c+d)/2-r)/a),[o,c,P,R]=g(this,Qt).subarray(14,18),g(this,dl).push(NaN,NaN,NaN,NaN,((P+o)/2-n)/s,((R+c)/2-r)/a),!0):([P,R,o,c,h,d]=g(this,Qt).subarray(0,6),g(this,uc).push(((P+5*o)/6-n)/s,((R+5*c)/6-r)/a,((5*o+h)/6-n)/s,((5*c+d)/6-r)/a,((o+h)/2-n)/s,((c+d)/2-r)/a),[h,d,o,c,P,R]=g(this,Qt).subarray(12,18),g(this,dl).push(((P+5*o)/6-n)/s,((R+5*c)/6-r)/a,((5*o+h)/6-n)/s,((5*c+d)/6-r)/a,((o+h)/2-n)/s,((c+d)/2-r)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=g(this,uc),t=g(this,dl);if(isNaN(g(this,Qt)[6])&&!this.isEmpty())return W(this,si,bR).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?n.push(`L${e[r+4]} ${e[r+5]}`):n.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);W(this,si,wR).call(this,n);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?n.push(`L${t[r+4]} ${t[r+5]}`):n.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return W(this,si,_R).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,r,s,a){return new CR(e,t,n,r,s,a)}getOutlines(){var p;const e=g(this,uc),t=g(this,dl),n=g(this,Qt),[r,s,a,o]=g(this,ja),c=new Float64Array((((p=g(this,fd))==null?void 0:p.length)??0)+2);for(let y=0,v=c.length-2;y<v;y+=2)c[y]=(g(this,fd)[y]-r)/a,c[y+1]=(g(this,fd)[y+1]-s)/o;if(c[c.length-2]=(g(this,_p)-r)/a,c[c.length-1]=(g(this,wp)-s)/o,isNaN(n[6])&&!this.isEmpty())return W(this,si,xR).call(this,c);const h=new Float64Array(g(this,uc).length+24+g(this,dl).length);let d=e.length;for(let y=0;y<d;y+=2){if(isNaN(e[y])){h[y]=h[y+1]=NaN;continue}h[y]=e[y],h[y+1]=e[y+1]}d=W(this,si,AR).call(this,h,d);for(let y=t.length-6;y>=6;y-=6)for(let v=0;v<6;v+=2){if(isNaN(t[y+v])){h[d]=h[d+1]=NaN,d+=2;continue}h[d]=t[y+v],h[d+1]=t[y+v+1],d+=2}return W(this,si,SR).call(this,h,d),this.newFreeDrawOutline(h,c,g(this,ja),g(this,Vg),g(this,Hg),g(this,$g))}};ja=new WeakMap,dl=new WeakMap,Hg=new WeakMap,$g=new WeakMap,uc=new WeakMap,Qt=new WeakMap,_p=new WeakMap,wp=new WeakMap,Hy=new WeakMap,$y=new WeakMap,Vg=new WeakMap,Wg=new WeakMap,fd=new WeakMap,Vy=new WeakMap,Qb=new WeakMap,Zb=new WeakMap,si=new WeakSet,p1=function(){const e=g(this,Qt).subarray(4,6),t=g(this,Qt).subarray(16,18),[n,r,s,a]=g(this,ja);return[(g(this,_p)+(e[0]-t[0])/2-n)/s,(g(this,wp)+(e[1]-t[1])/2-r)/a,(g(this,_p)+(t[0]-e[0])/2-n)/s,(g(this,wp)+(t[1]-e[1])/2-r)/a]},bR=function(){const[e,t,n,r]=g(this,ja),[s,a,o,c]=W(this,si,p1).call(this);return`M${(g(this,Qt)[2]-e)/n} ${(g(this,Qt)[3]-t)/r} L${(g(this,Qt)[4]-e)/n} ${(g(this,Qt)[5]-t)/r} L${s} ${a} L${o} ${c} L${(g(this,Qt)[16]-e)/n} ${(g(this,Qt)[17]-t)/r} L${(g(this,Qt)[14]-e)/n} ${(g(this,Qt)[15]-t)/r} Z`},_R=function(e){const t=g(this,dl);e.push(`L${t[4]} ${t[5]} Z`)},wR=function(e){const[t,n,r,s]=g(this,ja),a=g(this,Qt).subarray(4,6),o=g(this,Qt).subarray(16,18),[c,h,d,p]=W(this,si,p1).call(this);e.push(`L${(a[0]-t)/r} ${(a[1]-n)/s} L${c} ${h} L${d} ${p} L${(o[0]-t)/r} ${(o[1]-n)/s}`)},xR=function(e){const t=g(this,Qt),[n,r,s,a]=g(this,ja),[o,c,h,d]=W(this,si,p1).call(this),p=new Float64Array(36);return p.set([NaN,NaN,NaN,NaN,(t[2]-n)/s,(t[3]-r)/a,NaN,NaN,NaN,NaN,(t[4]-n)/s,(t[5]-r)/a,NaN,NaN,NaN,NaN,o,c,NaN,NaN,NaN,NaN,h,d,NaN,NaN,NaN,NaN,(t[16]-n)/s,(t[17]-r)/a,NaN,NaN,NaN,NaN,(t[14]-n)/s,(t[15]-r)/a],0),this.newFreeDrawOutline(p,e,g(this,ja),g(this,Vg),g(this,Hg),g(this,$g))},SR=function(e,t){const n=g(this,dl);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6},AR=function(e,t){const n=g(this,Qt).subarray(4,6),r=g(this,Qt).subarray(16,18),[s,a,o,c]=g(this,ja),[h,d,p,y]=W(this,si,p1).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-s)/o,(n[1]-a)/c,NaN,NaN,NaN,NaN,h,d,NaN,NaN,NaN,NaN,p,y,NaN,NaN,NaN,NaN,(r[0]-s)/o,(r[1]-a)/c],t),t+=24},J(pu,Vy,8),J(pu,Qb,2),J(pu,Zb,g(pu,Vy)+g(pu,Qb));let Rb=pu;var Gg,xp,Lu,Wy,Ba,Gy,Nr,ha,m1,g1,kR;class CR extends vR{constructor(t,n,r,s,a,o){super();J(this,ha);J(this,Gg);J(this,xp,null);J(this,Lu);J(this,Wy);J(this,Ba);J(this,Gy);J(this,Nr);z(this,Nr,t),z(this,Ba,n),z(this,Gg,r),z(this,Gy,s),z(this,Lu,a),z(this,Wy,o),W(this,ha,kR).call(this,o);const{x:c,y:h,width:d,height:p}=g(this,xp);for(let y=0,v=t.length;y<v;y+=2)t[y]=(t[y]-c)/d,t[y+1]=(t[y+1]-h)/p;for(let y=0,v=n.length;y<v;y+=2)n[y]=(n[y]-c)/d,n[y+1]=(n[y+1]-h)/p}toSVGPath(){const t=[`M${g(this,Nr)[4]} ${g(this,Nr)[5]}`];for(let n=6,r=g(this,Nr).length;n<r;n+=6){if(isNaN(g(this,Nr)[n])){t.push(`L${g(this,Nr)[n+4]} ${g(this,Nr)[n+5]}`);continue}t.push(`C${g(this,Nr)[n]} ${g(this,Nr)[n+1]} ${g(this,Nr)[n+2]} ${g(this,Nr)[n+3]} ${g(this,Nr)[n+4]} ${g(this,Nr)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,r,s],a){const o=r-t,c=s-n;let h,d;switch(a){case 0:h=W(this,ha,m1).call(this,g(this,Nr),t,s,o,-c),d=W(this,ha,m1).call(this,g(this,Ba),t,s,o,-c);break;case 90:h=W(this,ha,g1).call(this,g(this,Nr),t,n,o,c),d=W(this,ha,g1).call(this,g(this,Ba),t,n,o,c);break;case 180:h=W(this,ha,m1).call(this,g(this,Nr),r,n,-o,c),d=W(this,ha,m1).call(this,g(this,Ba),r,n,-o,c);break;case 270:h=W(this,ha,g1).call(this,g(this,Nr),r,s,-o,-c),d=W(this,ha,g1).call(this,g(this,Ba),r,s,-o,-c);break}return{outline:Array.from(h),points:[Array.from(d)]}}get box(){return g(this,xp)}newOutliner(t,n,r,s,a,o=0){return new Rb(t,n,r,s,a,o)}getNewOutline(t,n){const{x:r,y:s,width:a,height:o}=g(this,xp),[c,h,d,p]=g(this,Gg),y=a*d,v=o*p,x=r*d+c,w=s*p+h,C=this.newOutliner({x:g(this,Ba)[0]*y+x,y:g(this,Ba)[1]*v+w},g(this,Gg),g(this,Gy),t,g(this,Wy),n??g(this,Lu));for(let S=2;S<g(this,Ba).length;S+=2)C.add({x:g(this,Ba)[S]*y+x,y:g(this,Ba)[S+1]*v+w});return C.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Gg=new WeakMap,xp=new WeakMap,Lu=new WeakMap,Wy=new WeakMap,Ba=new WeakMap,Gy=new WeakMap,Nr=new WeakMap,ha=new WeakSet,m1=function(t,n,r,s,a){const o=new Float64Array(t.length);for(let c=0,h=t.length;c<h;c+=2)o[c]=n+t[c]*s,o[c+1]=r+t[c+1]*a;return o},g1=function(t,n,r,s,a){const o=new Float64Array(t.length);for(let c=0,h=t.length;c<h;c+=2)o[c]=n+t[c+1]*s,o[c+1]=r+t[c]*a;return o},kR=function(t){const n=g(this,Nr);let r=n[4],s=n[5],a=r,o=s,c=r,h=s,d=r,p=s;const y=t?Math.max:Math.min;for(let S=6,P=n.length;S<P;S+=6){if(isNaN(n[S]))a=Math.min(a,n[S+4]),o=Math.min(o,n[S+5]),c=Math.max(c,n[S+4]),h=Math.max(h,n[S+5]),p<n[S+5]?(d=n[S+4],p=n[S+5]):p===n[S+5]&&(d=y(d,n[S+4]));else{const R=vt.bezierBoundingBox(r,s,...n.slice(S,S+6));a=Math.min(a,R[0]),o=Math.min(o,R[1]),c=Math.max(c,R[2]),h=Math.max(h,R[3]),p<R[3]?(d=R[2],p=R[3]):p===R[3]&&(d=y(d,R[2]))}r=n[S+4],s=n[S+5]}const v=a-g(this,Lu),x=o-g(this,Lu),w=c-a+2*g(this,Lu),C=h-o+2*g(this,Lu);z(this,xp,{x:v,y:x,width:w,height:C,lastPoint:[d,p]})};var Yy,pd,fl,Bs,ER,nb,PR,TR,j5;class _E{constructor(e,t=0,n=0,r=!0){J(this,Bs);J(this,Yy);J(this,pd,[]);J(this,fl,[]);let s=1/0,a=-1/0,o=1/0,c=-1/0;const h=10**-4;for(const{x:C,y:S,width:P,height:R}of e){const M=Math.floor((C-t)/h)*h,O=Math.ceil((C+P+t)/h)*h,$=Math.floor((S-t)/h)*h,U=Math.ceil((S+R+t)/h)*h,D=[M,$,U,!0],Q=[O,$,U,!1];g(this,pd).push(D,Q),s=Math.min(s,M),a=Math.max(a,O),o=Math.min(o,$),c=Math.max(c,U)}const d=a-s+2*n,p=c-o+2*n,y=s-n,v=o-n,x=g(this,pd).at(r?-1:-2),w=[x[0],x[2]];for(const C of g(this,pd)){const[S,P,R]=C;C[0]=(S-y)/d,C[1]=(P-v)/p,C[2]=(R-v)/p}z(this,Yy,{x:y,y:v,width:d,height:p,lastPoint:w})}getOutlines(){g(this,pd).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of g(this,pd))t[3]?(e.push(...W(this,Bs,j5).call(this,t)),W(this,Bs,PR).call(this,t)):(W(this,Bs,TR).call(this,t),e.push(...W(this,Bs,j5).call(this,t)));return W(this,Bs,ER).call(this,e)}}Yy=new WeakMap,pd=new WeakMap,fl=new WeakMap,Bs=new WeakSet,ER=function(e){const t=[],n=new Set;for(const a of e){const[o,c,h]=a;t.push([o,c,a],[o,h,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const c=t[a][2],h=t[a+1][2];c.push(h),h.push(c),n.add(c),n.add(h)}const r=[];let s;for(;n.size>0;){const a=n.values().next().value;let[o,c,h,d,p]=a;n.delete(a);let y=o,v=c;for(s=[o,h],r.push(s);;){let x;if(n.has(d))x=d;else if(n.has(p))x=p;else break;n.delete(x),[o,c,h,d,p]=x,y!==o&&(s.push(y,v,o,v===c?c:h),y=o),v=v===c?h:c}s.push(y,v)}return new mB(r,g(this,Yy))},nb=function(e){const t=g(this,fl);let n=0,r=t.length-1;for(;n<=r;){const s=n+r>>1,a=t[s][0];if(a===e)return s;a<e?n=s+1:r=s-1}return r+1},PR=function([,e,t]){const n=W(this,Bs,nb).call(this,e);g(this,fl).splice(n,0,[e,t])},TR=function([,e,t]){const n=W(this,Bs,nb).call(this,e);for(let r=n;r<g(this,fl).length;r++){const[s,a]=g(this,fl)[r];if(s!==e)break;if(s===e&&a===t){g(this,fl).splice(r,1);return}}for(let r=n-1;r>=0;r--){const[s,a]=g(this,fl)[r];if(s!==e)break;if(s===e&&a===t){g(this,fl).splice(r,1);return}}},j5=function(e){const[t,n,r]=e,s=[[t,n,r]],a=W(this,Bs,nb).call(this,r);for(let o=0;o<a;o++){const[c,h]=g(this,fl)[o];for(let d=0,p=s.length;d<p;d++){const[,y,v]=s[d];if(!(h<=y||v<=c)){if(y>=c){if(v>h)s[d][1]=h;else{if(p===1)return[];s.splice(d,1),d--,p--}continue}s[d][2]=c,v>h&&s.push([t,h,v])}}}return s};var Xy,Yg;class mB extends vR{constructor(t,n){super();J(this,Xy);J(this,Yg);z(this,Yg,t),z(this,Xy,n)}toSVGPath(){const t=[];for(const n of g(this,Yg)){let[r,s]=n;t.push(`M${r} ${s}`);for(let a=2;a<n.length;a+=2){const o=n[a],c=n[a+1];o===r?(t.push(`V${c}`),s=c):c===s&&(t.push(`H${o}`),r=o)}t.push("Z")}return t.join(" ")}serialize([t,n,r,s],a){const o=[],c=r-t,h=s-n;for(const d of g(this,Yg)){const p=new Array(d.length);for(let y=0;y<d.length;y+=2)p[y]=t+d[y]*c,p[y+1]=s-d[y+1]*h;o.push(p)}return o}get box(){return g(this,Xy)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Xy=new WeakMap,Yg=new WeakMap;class B5 extends Rb{newFreeDrawOutline(e,t,n,r,s,a){return new gB(e,t,n,r,s,a)}get classNamesForDrawing(){return["highlight","free"]}}class gB extends CR{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,n,r,s,a=0){return new B5(e,t,n,r,s,a)}}var pl,Sp,Xg,ti,Ky,Kg,Jy,Qy,md,ml,Jg,Zy,Mn,z5,U5,q5,kf,LR,Wh;const sa=class sa{constructor({editor:e=null,uiManager:t=null}){J(this,Mn);J(this,pl,null);J(this,Sp,null);J(this,Xg);J(this,ti,null);J(this,Ky,!1);J(this,Kg,!1);J(this,Jy,null);J(this,Qy);J(this,md,null);J(this,ml,null);J(this,Jg);var n;e?(z(this,Kg,!1),z(this,Jg,Bt.HIGHLIGHT_COLOR),z(this,Jy,e)):(z(this,Kg,!0),z(this,Jg,Bt.HIGHLIGHT_DEFAULT_COLOR)),z(this,ml,(e==null?void 0:e._uiManager)||t),z(this,Qy,g(this,ml)._eventBus),z(this,Xg,(e==null?void 0:e.color)||((n=g(this,ml))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98"),g(sa,Zy)||z(sa,Zy,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return an(this,"_keyboardManager",new pv([[["Escape","mac+Escape"],sa.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],sa.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],sa.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],sa.prototype._moveToPrevious],[["Home","mac+Home"],sa.prototype._moveToBeginning],[["End","mac+End"],sa.prototype._moveToEnd]]))}renderButton(){const e=z(this,pl,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=g(this,ml)._signal;e.addEventListener("click",W(this,Mn,kf).bind(this),{signal:t}),e.addEventListener("keydown",W(this,Mn,q5).bind(this),{signal:t});const n=z(this,Sp,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=g(this,Xg),e.append(n),e}renderMainDropdown(){const e=z(this,ti,W(this,Mn,z5).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===g(this,pl)){W(this,Mn,kf).call(this,e);return}const t=e.target.getAttribute("data-color");t&&W(this,Mn,U5).call(this,t,e)}_moveToNext(e){var t,n;if(!g(this,Mn,Wh)){W(this,Mn,kf).call(this,e);return}if(e.target===g(this,pl)){(t=g(this,ti).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=g(this,ti))==null?void 0:t.firstChild)||e.target===g(this,pl)){g(this,Mn,Wh)&&this._hideDropdownFromKeyboard();return}g(this,Mn,Wh)||W(this,Mn,kf).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!g(this,Mn,Wh)){W(this,Mn,kf).call(this,e);return}(t=g(this,ti).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!g(this,Mn,Wh)){W(this,Mn,kf).call(this,e);return}(t=g(this,ti).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=g(this,ti))==null||e.classList.add("hidden"),(t=g(this,md))==null||t.abort(),z(this,md,null)}_hideDropdownFromKeyboard(){var e;if(!g(this,Kg)){if(!g(this,Mn,Wh)){(e=g(this,Jy))==null||e.unselect();return}this.hideDropdown(),g(this,pl).focus({preventScroll:!0,focusVisible:g(this,Ky)})}}updateColor(e){if(g(this,Sp)&&(g(this,Sp).style.backgroundColor=e),!g(this,ti))return;const t=g(this,ml).highlightColors.values();for(const n of g(this,ti).children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=g(this,pl))==null||e.remove(),z(this,pl,null),z(this,Sp,null),(t=g(this,ti))==null||t.remove(),z(this,ti,null)}};pl=new WeakMap,Sp=new WeakMap,Xg=new WeakMap,ti=new WeakMap,Ky=new WeakMap,Kg=new WeakMap,Jy=new WeakMap,Qy=new WeakMap,md=new WeakMap,ml=new WeakMap,Jg=new WeakMap,Zy=new WeakMap,Mn=new WeakSet,z5=function(){const e=document.createElement("div"),t=g(this,ml)._signal;e.addEventListener("contextmenu",To,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,r]of g(this,ml).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=n,s.setAttribute("data-l10n-id",g(sa,Zy)[n]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=r,s.setAttribute("aria-selected",r===g(this,Xg)),s.addEventListener("click",W(this,Mn,U5).bind(this,r),{signal:t}),e.append(s)}return e.addEventListener("keydown",W(this,Mn,q5).bind(this),{signal:t}),e},U5=function(e,t){t.stopPropagation(),g(this,Qy).dispatch("switchannotationeditorparams",{source:this,type:g(this,Jg),value:e})},q5=function(e){sa._keyboardManager.exec(this,e)},kf=function(e){if(g(this,Mn,Wh)){this.hideDropdown();return}if(z(this,Ky,e.detail===0),g(this,md)||(z(this,md,new AbortController),window.addEventListener("pointerdown",W(this,Mn,LR).bind(this),{signal:g(this,ml).combinedSignal(g(this,md))})),g(this,ti)){g(this,ti).classList.remove("hidden");return}const t=z(this,ti,W(this,Mn,z5).call(this));g(this,pl).append(t)},LR=function(e){var t;(t=g(this,ti))!=null&&t.contains(e.target)||this.hideDropdown()},Wh=function(){return g(this,ti)&&!g(this,ti).classList.contains("hidden")},J(sa,Zy,null);let Ib=sa;var Qg,ev,Nu,Ap,Zg,wo,tv,nv,Cp,gl,ls,la,e0,Ru,ni,t0,xo,rv,Wt,H5,rb,NR,RR,IR,$5,Ef,ko,Hm,MR,ib,y1,OR,FR,DR,jR,BR;const wn=class wn extends Nn{constructor(t){super({...t,name:"highlightEditor"});J(this,Wt);J(this,Qg,null);J(this,ev,0);J(this,Nu);J(this,Ap,null);J(this,Zg,null);J(this,wo,null);J(this,tv,null);J(this,nv,0);J(this,Cp,null);J(this,gl,null);J(this,ls,null);J(this,la,!1);J(this,e0,null);J(this,Ru);J(this,ni,null);J(this,t0,"");J(this,xo);J(this,rv,"");this.color=t.color||wn._defaultColor,z(this,xo,t.thickness||wn._defaultThickness),z(this,Ru,t.opacity||wn._defaultOpacity),z(this,Nu,t.boxes||null),z(this,rv,t.methodOfCreation||""),z(this,t0,t.text||""),this._isDraggable=!1,t.highlightId>-1?(z(this,la,!0),W(this,Wt,rb).call(this,t),W(this,Wt,Ef).call(this)):g(this,Nu)&&(z(this,Qg,t.anchorNode),z(this,ev,t.anchorOffset),z(this,tv,t.focusNode),z(this,nv,t.focusOffset),W(this,Wt,H5).call(this),W(this,Wt,Ef).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=wn.prototype;return an(this,"_keyboardManager",new pv([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:g(this,la)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:g(this,xo),methodOfCreation:g(this,rv)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var r;Nn.initialize(t,n),wn._defaultColor||(wn._defaultColor=((r=n.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case Bt.HIGHLIGHT_DEFAULT_COLOR:wn._defaultColor=n;break;case Bt.HIGHLIGHT_THICKNESS:wn._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return g(this,e0)}updateParams(t,n){switch(t){case Bt.HIGHLIGHT_COLOR:W(this,Wt,NR).call(this,n);break;case Bt.HIGHLIGHT_THICKNESS:W(this,Wt,RR).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Bt.HIGHLIGHT_DEFAULT_COLOR,wn._defaultColor],[Bt.HIGHLIGHT_THICKNESS,wn._defaultThickness]]}get propertiesToUpdate(){return[[Bt.HIGHLIGHT_COLOR,this.color||wn._defaultColor],[Bt.HIGHLIGHT_THICKNESS,g(this,xo)||wn._defaultThickness],[Bt.HIGHLIGHT_FREE,g(this,la)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(z(this,Zg,new Ib({editor:this})),t.addColorPicker(g(this,Zg))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(W(this,Wt,y1).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,W(this,Wt,y1).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){W(this,Wt,$5).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(W(this,Wt,Ef).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let n=!1;this.parent&&!t?W(this,Wt,$5).call(this):t&&(W(this,Wt,Ef).call(this,t),n=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var s,a,o;const{drawLayer:n}=this.parent;let r;g(this,la)?(t=(t-this.rotation+360)%360,r=W(s=wn,ko,Hm).call(s,g(this,gl).box,t)):r=W(a=wn,ko,Hm).call(a,this,t),n.rotate(g(this,ls),t),n.rotate(g(this,ni),t),n.updateBox(g(this,ls),r),n.updateBox(g(this,ni),W(o=wn,ko,Hm).call(o,g(this,wo).box,t))}render(){if(this.div)return this.div;const t=super.render();g(this,t0)&&(t.setAttribute("aria-label",g(this,t0)),t.setAttribute("role","mark")),g(this,la)?t.classList.add("free"):this.div.addEventListener("keydown",W(this,Wt,MR).bind(this),{signal:this._uiManager._signal});const n=z(this,Cp,document.createElement("div"));t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=g(this,Ap);const[r,s]=this.parentDimensions;return this.setDims(this.width*r,this.height*s),Lb(this,g(this,Cp),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent.drawLayer.addClass(g(this,ni),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(g(this,ni),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:W(this,Wt,ib).call(this,!0);break;case 1:case 3:W(this,Wt,ib).call(this,!1);break}}select(){var t,n;super.select(),g(this,ni)&&((t=this.parent)==null||t.drawLayer.removeClass(g(this,ni),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(g(this,ni),"selected"))}unselect(){var t;super.unselect(),g(this,ni)&&((t=this.parent)==null||t.drawLayer.removeClass(g(this,ni),"selected"),g(this,la)||W(this,Wt,ib).call(this,!1))}get _mustFixPosition(){return!g(this,la)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(g(this,ls),t),this.parent.drawLayer.show(g(this,ni),t))}static startHighlighting(t,n,{target:r,x:s,y:a}){const{x:o,y:c,width:h,height:d}=r.getBoundingClientRect(),p=new AbortController,y=t.combinedSignal(p),v=w=>{w.preventDefault(),w.stopPropagation()},x=w=>{p.abort(),W(this,ko,jR).call(this,t,w)};window.addEventListener("blur",x,{signal:y}),window.addEventListener("pointerup",x,{signal:y}),window.addEventListener("pointerdown",v,{capture:!0,passive:!1,signal:y}),window.addEventListener("contextmenu",To,{signal:y}),r.addEventListener("pointermove",W(this,ko,DR).bind(this,t),{signal:y}),this._freeHighlight=new B5({x:s,y:a},[o,c,h,d],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(t,n,r){var w,C,S,P;let s=null;if(t instanceof uR){const{data:{quadPoints:R,rect:M,rotation:O,id:$,color:U,opacity:D,popupRef:Q},parent:{page:{pageNumber:ue}}}=t;s=t={annotationType:Gt.HIGHLIGHT,color:Array.from(U),opacity:D,quadPoints:R,boxes:null,pageIndex:ue-1,rect:M.slice(0),rotation:O,id:$,deleted:!1,popupRef:Q}}else if(t instanceof PA){const{data:{inkLists:R,rect:M,rotation:O,id:$,color:U,borderStyle:{rawWidth:D},popupRef:Q},parent:{page:{pageNumber:ue}}}=t;s=t={annotationType:Gt.HIGHLIGHT,color:Array.from(U),thickness:D,inkLists:R,boxes:null,pageIndex:ue-1,rect:M.slice(0),rotation:O,id:$,deleted:!1,popupRef:Q}}const{color:a,quadPoints:o,inkLists:c,opacity:h}=t,d=await super.deserialize(t,n,r);d.color=vt.makeHexColor(...a),z(d,Ru,h||1),c&&z(d,xo,t.thickness),d.annotationElementId=t.id||null,d._initialData=s;const[p,y]=d.pageDimensions,[v,x]=d.pageTranslation;if(o){const R=z(d,Nu,[]);for(let M=0;M<o.length;M+=8)R.push({x:(o[M]-v)/p,y:1-(o[M+1]-x)/y,width:(o[M+2]-o[M])/p,height:(o[M+1]-o[M+5])/y});W(w=d,Wt,H5).call(w),W(C=d,Wt,Ef).call(C),d.rotate(d.rotation)}else if(c){z(d,la,!0);const R=c[0],M={x:R[0]-v,y:y-(R[1]-x)},O=new B5(M,[0,0,p,y],1,g(d,xo)/2,!0,.001);for(let D=0,Q=R.length;D<Q;D+=2)M.x=R[D]-v,M.y=y-(R[D+1]-x),O.add(M);const{id:$,clipPathId:U}=n.drawLayer.draw(O,d.color,d._defaultOpacity,!0);W(S=d,Wt,rb).call(S,{highlightOutlines:O.getOutlines(),highlightId:$,clipPathId:U}),W(P=d,Wt,Ef).call(P)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),r=Nn._colorManager.convert(this.color),s={annotationType:Gt.HIGHLIGHT,color:r,opacity:g(this,Ru),thickness:g(this,xo),quadPoints:W(this,Wt,OR).call(this),outlines:W(this,Wt,FR).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:W(this,Wt,y1).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!W(this,Wt,BR).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Qg=new WeakMap,ev=new WeakMap,Nu=new WeakMap,Ap=new WeakMap,Zg=new WeakMap,wo=new WeakMap,tv=new WeakMap,nv=new WeakMap,Cp=new WeakMap,gl=new WeakMap,ls=new WeakMap,la=new WeakMap,e0=new WeakMap,Ru=new WeakMap,ni=new WeakMap,t0=new WeakMap,xo=new WeakMap,rv=new WeakMap,Wt=new WeakSet,H5=function(){const t=new _E(g(this,Nu),.001);z(this,gl,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=g(this,gl).box;const n=new _E(g(this,Nu),.0025,.001,this._uiManager.direction==="ltr");z(this,wo,n.getOutlines());const{lastPoint:r}=g(this,wo).box;z(this,e0,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},rb=function({highlightOutlines:t,highlightId:n,clipPathId:r}){var p,y;if(z(this,gl,t),z(this,wo,t.getNewOutline(g(this,xo)/2+1.5,.0025)),n>=0)z(this,ls,n),z(this,Ap,r),this.parent.drawLayer.finalizeLine(n,t),z(this,ni,this.parent.drawLayer.drawOutline(g(this,wo)));else if(this.parent){const v=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(g(this,ls),t),this.parent.drawLayer.updateBox(g(this,ls),W(p=wn,ko,Hm).call(p,g(this,gl).box,(v-this.rotation+360)%360)),this.parent.drawLayer.updateLine(g(this,ni),g(this,wo)),this.parent.drawLayer.updateBox(g(this,ni),W(y=wn,ko,Hm).call(y,g(this,wo).box,v))}const{x:a,y:o,width:c,height:h}=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=c,this.height=h;break;case 90:{const[v,x]=this.parentDimensions;this.x=o,this.y=1-a,this.width=c*x/v,this.height=h*v/x;break}case 180:this.x=1-a,this.y=1-o,this.width=c,this.height=h;break;case 270:{const[v,x]=this.parentDimensions;this.x=1-o,this.y=a,this.width=c*x/v,this.height=h*v/x;break}}const{lastPoint:d}=g(this,wo).box;z(this,e0,[(d[0]-a)/c,(d[1]-o)/h])},NR=function(t){const n=(a,o)=>{var c,h,d;this.color=a,(c=this.parent)==null||c.drawLayer.changeColor(g(this,ls),a),(h=g(this,Zg))==null||h.updateColor(a),z(this,Ru,o),(d=this.parent)==null||d.drawLayer.changeOpacity(g(this,ls),o)},r=this.color,s=g(this,Ru);this.addCommands({cmd:n.bind(this,t,wn._defaultOpacity),undo:n.bind(this,r,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Bt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},RR=function(t){const n=g(this,xo),r=s=>{z(this,xo,s),W(this,Wt,IR).call(this,s)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Bt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},IR=function(t){if(!g(this,la))return;W(this,Wt,rb).call(this,{highlightOutlines:g(this,gl).getNewOutline(t/2)}),this.fixAndSetPosition();const[n,r]=this.parentDimensions;this.setDims(this.width*n,this.height*r)},$5=function(){g(this,ls)===null||!this.parent||(this.parent.drawLayer.remove(g(this,ls)),z(this,ls,null),this.parent.drawLayer.remove(g(this,ni)),z(this,ni,null))},Ef=function(t=this.parent){g(this,ls)===null&&({id:Ns(this,ls)._,clipPathId:Ns(this,Ap)._}=t.drawLayer.draw(g(this,gl),this.color,g(this,Ru)),z(this,ni,t.drawLayer.drawOutline(g(this,wo))),g(this,Cp)&&(g(this,Cp).style.clipPath=g(this,Ap)))},ko=new WeakSet,Hm=function({x:t,y:n,width:r,height:s},a){switch(a){case 90:return{x:1-n-s,y:t,width:s,height:r};case 180:return{x:1-t-r,y:1-n-s,width:r,height:s};case 270:return{x:n,y:1-t-r,width:s,height:r}}return{x:t,y:n,width:r,height:s}},MR=function(t){wn._keyboardManager.exec(this,t)},ib=function(t){if(!g(this,Qg))return;const n=window.getSelection();t?n.setPosition(g(this,Qg),g(this,ev)):n.setPosition(g(this,tv),g(this,nv))},y1=function(){return g(this,la)?this.rotation:0},OR=function(){if(g(this,la))return null;const[t,n]=this.pageDimensions,[r,s]=this.pageTranslation,a=g(this,Nu),o=new Float32Array(a.length*8);let c=0;for(const{x:h,y:d,width:p,height:y}of a){const v=h*t+r,x=(1-d-y)*n+s;o[c]=o[c+4]=v,o[c+1]=o[c+3]=x,o[c+2]=o[c+6]=v+p*t,o[c+5]=o[c+7]=x+y*n,c+=8}return o},FR=function(t){return g(this,gl).serialize(t,W(this,Wt,y1).call(this))},DR=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},jR=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},BR=function(t){const{color:n}=this._initialData;return t.color.some((r,s)=>r!==n[s])},J(wn,ko),jt(wn,"_defaultColor",null),jt(wn,"_defaultOpacity",1),jt(wn,"_defaultThickness",12),jt(wn,"_type","highlight"),jt(wn,"_editorType",Gt.HIGHLIGHT),jt(wn,"_freeHighlightId",-1),jt(wn,"_freeHighlight",null),jt(wn,"_freeHighlightClipId","");let Mb=wn;var kp,Ep,hc,Iu,So,Pp,Tp,Lp,Mu,n0,Np,Rp,gd,nt,zR,UR,qR,HR,W5,$R,G5,VR,WR,GR,YR,XR,Pf,Y5,X5,K5,sb,ab,$m,J5,ob,Ku,KR,Q5,JR,QR,Z5,lb,v1;const ur=class ur extends Nn{constructor(t){super({...t,name:"inkEditor"});J(this,nt);J(this,kp,0);J(this,Ep,0);J(this,hc,null);J(this,Iu,new Path2D);J(this,So,!1);J(this,Pp,null);J(this,Tp,!1);J(this,Lp,!1);J(this,Mu,null);J(this,n0,null);J(this,Np,0);J(this,Rp,0);J(this,gd,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,n){Nn.initialize(t,n)}static updateDefaultParams(t,n){switch(t){case Bt.INK_THICKNESS:ur._defaultThickness=n;break;case Bt.INK_COLOR:ur._defaultColor=n;break;case Bt.INK_OPACITY:ur._defaultOpacity=n/100;break}}updateParams(t,n){switch(t){case Bt.INK_THICKNESS:W(this,nt,zR).call(this,n);break;case Bt.INK_COLOR:W(this,nt,UR).call(this,n);break;case Bt.INK_OPACITY:W(this,nt,qR).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Bt.INK_THICKNESS,ur._defaultThickness],[Bt.INK_COLOR,ur._defaultColor||Nn._defaultLineColor],[Bt.INK_OPACITY,Math.round(ur._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Bt.INK_THICKNESS,this.thickness||ur._defaultThickness],[Bt.INK_COLOR,this.color||ur._defaultColor||Nn._defaultLineColor],[Bt.INK_OPACITY,Math.round(100*(this.opacity??ur._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(W(this,nt,sb).call(this),W(this,nt,ab).call(this)),this.isAttachedToDOM||(this.parent.add(this),W(this,nt,$m).call(this)),W(this,nt,v1).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,g(this,hc)&&(clearTimeout(g(this,hc)),z(this,hc,null)),(t=g(this,Mu))==null||t.disconnect(),z(this,Mu,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,n]=this.parentDimensions,r=this.width*t,s=this.height*n;this.setDimensions(r,s)}enableEditMode(){g(this,So)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,W(this,nt,Y5).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),W(this,nt,X5).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){g(this,So)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),z(this,So,!0),this.div.classList.add("disabled"),W(this,nt,v1).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||g(this,So)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),W(this,nt,$R).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),W(this,nt,G5).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),W(this,nt,K5).call(this,t)}canvasPointerleave(t){W(this,nt,K5).call(this,t)}get isResizable(){return!this.isEmpty()&&g(this,So)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,s,a,o]=W(this,nt,HR).call(this);if(this.setAt(r,s,0,0),this.setDims(a,o),W(this,nt,sb).call(this),this.width){const[c,h]=this.parentDimensions;this.setAspectRatio(this.width*c,this.height*h),this.setAt(t*c,n*h,this.width*c,this.height*h),z(this,Lp,!0),W(this,nt,$m).call(this),this.setDims(this.width*c,this.height*h),W(this,nt,Pf).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return W(this,nt,ab).call(this),this.div}setDimensions(t,n){const r=Math.round(t),s=Math.round(n);if(g(this,Np)===r&&g(this,Rp)===s)return;z(this,Np,r),z(this,Rp,s),this.canvas.style.visibility="hidden";const[a,o]=this.parentDimensions;this.width=t/a,this.height=n/o,this.fixAndSetPosition(),g(this,So)&&W(this,nt,J5).call(this,t,n),W(this,nt,$m).call(this),W(this,nt,Pf).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(t,n,r){var C,S,P;if(t instanceof PA)return null;const s=await super.deserialize(t,n,r);s.thickness=t.thickness,s.color=vt.makeHexColor(...t.color),s.opacity=t.opacity;const[a,o]=s.pageDimensions,c=s.width*a,h=s.height*o,d=s.parentScale,p=t.thickness/2;z(s,So,!0),z(s,Np,Math.round(c)),z(s,Rp,Math.round(h));const{paths:y,rect:v,rotation:x}=t;for(let{bezier:R}of y){R=W(C=ur,Ku,JR).call(C,R,v,x);const M=[];s.paths.push(M);let O=d*(R[0]-p),$=d*(R[1]-p);for(let D=2,Q=R.length;D<Q;D+=6){const ue=d*(R[D]-p),j=d*(R[D+1]-p),V=d*(R[D+2]-p),ee=d*(R[D+3]-p),re=d*(R[D+4]-p),pe=d*(R[D+5]-p);M.push([[O,$],[ue,j],[V,ee],[re,pe]]),O=re,$=pe}const U=W(this,Ku,KR).call(this,M);s.bezierPath2D.push(U)}const w=W(S=s,nt,Z5).call(S);return z(s,Ep,Math.max(Nn.MIN_SIZE,w[2]-w[0])),z(s,kp,Math.max(Nn.MIN_SIZE,w[3]-w[1])),W(P=s,nt,J5).call(P,c,h),s}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),n=Nn._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Gt.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:W(this,nt,QR).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};kp=new WeakMap,Ep=new WeakMap,hc=new WeakMap,Iu=new WeakMap,So=new WeakMap,Pp=new WeakMap,Tp=new WeakMap,Lp=new WeakMap,Mu=new WeakMap,n0=new WeakMap,Np=new WeakMap,Rp=new WeakMap,gd=new WeakMap,nt=new WeakSet,zR=function(t){const n=s=>{this.thickness=s,W(this,nt,v1).call(this)},r=this.thickness;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Bt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},UR=function(t){const n=s=>{this.color=s,W(this,nt,Pf).call(this)},r=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Bt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},qR=function(t){const n=s=>{this.opacity=s,W(this,nt,Pf).call(this)};t/=100;const r=this.opacity;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Bt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},HR=function(){const{parentRotation:t,parentDimensions:[n,r]}=this;switch(t){case 90:return[0,r,r,n];case 180:return[n,r,n,r];case 270:return[n,0,r,n];default:return[0,0,n,r]}},W5=function(){const{ctx:t,color:n,opacity:r,thickness:s,parentScale:a,scaleFactor:o}=this;t.lineWidth=s*a/o,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${n}${j4(r)}`},$R=function(t,n){this.canvas.addEventListener("contextmenu",To,{signal:this._uiManager._signal}),W(this,nt,X5).call(this),z(this,Pp,new AbortController);const r=this._uiManager.combinedSignal(g(this,Pp));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:r}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:r}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:r}),this.isEditing=!0,g(this,Lp)||(z(this,Lp,!0),W(this,nt,$m).call(this),this.thickness||(this.thickness=ur._defaultThickness),this.color||(this.color=ur._defaultColor||Nn._defaultLineColor),this.opacity??(this.opacity=ur._defaultOpacity)),this.currentPath.push([t,n]),z(this,Tp,!1),W(this,nt,W5).call(this),z(this,gd,()=>{W(this,nt,GR).call(this),g(this,gd)&&window.requestAnimationFrame(g(this,gd))}),window.requestAnimationFrame(g(this,gd))},G5=function(t,n){const[r,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===r&&n===s)return;const a=this.currentPath;let o=g(this,Iu);if(a.push([t,n]),z(this,Tp,!0),a.length<=2){o.moveTo(...a[0]),o.lineTo(t,n);return}a.length===3&&(z(this,Iu,o=new Path2D),o.moveTo(...a[0])),W(this,nt,YR).call(this,o,...a.at(-3),...a.at(-2),t,n)},VR=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);g(this,Iu).lineTo(...t)},WR=function(t,n){z(this,gd,null),t=Math.min(Math.max(t,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),W(this,nt,G5).call(this,t,n),W(this,nt,VR).call(this);let r;if(this.currentPath.length!==1)r=W(this,nt,XR).call(this);else{const h=[t,n];r=[[h,h.slice(),h.slice(),h]]}const s=g(this,Iu),a=this.currentPath;this.currentPath=[],z(this,Iu,new Path2D);const o=()=>{this.allRawPaths.push(a),this.paths.push(r),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},c=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(W(this,nt,sb).call(this),W(this,nt,ab).call(this)),W(this,nt,v1).call(this))};this.addCommands({cmd:o,undo:c,mustExec:!0})},GR=function(){if(!g(this,Tp))return;z(this,Tp,!1);const t=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),r=n.map(o=>o[0]),s=n.map(o=>o[1]);Math.min(...r)-t,Math.max(...r)+t,Math.min(...s)-t,Math.max(...s)+t;const{ctx:a}=this;a.save(),a.clearRect(0,0,this.canvas.width,this.canvas.height);for(const o of this.bezierPath2D)a.stroke(o);a.stroke(g(this,Iu)),a.restore()},YR=function(t,n,r,s,a,o,c){const h=(n+s)/2,d=(r+a)/2,p=(s+o)/2,y=(a+c)/2;t.bezierCurveTo(h+2*(s-h)/3,d+2*(a-d)/3,p+2*(s-p)/3,y+2*(a-y)/3,p,y)},XR=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const n=[];let r,[s,a]=t[0];for(r=1;r<t.length-2;r++){const[v,x]=t[r],[w,C]=t[r+1],S=(v+w)/2,P=(x+C)/2,R=[s+2*(v-s)/3,a+2*(x-a)/3],M=[S+2*(v-S)/3,P+2*(x-P)/3];n.push([[s,a],R,M,[S,P]]),[s,a]=[S,P]}const[o,c]=t[r],[h,d]=t[r+1],p=[s+2*(o-s)/3,a+2*(c-a)/3],y=[h+2*(o-h)/3,d+2*(c-d)/3];return n.push([[s,a],p,y,[h,d]]),n},Pf=function(){if(this.isEmpty()){W(this,nt,ob).call(this);return}W(this,nt,W5).call(this);const{canvas:t,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.width,t.height),W(this,nt,ob).call(this);for(const r of this.bezierPath2D)n.stroke(r)},Y5=function(){if(g(this,n0))return;z(this,n0,new AbortController);const t=this._uiManager.combinedSignal(g(this,n0));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:t})},X5=function(){var t;(t=this.pointerdownAC)==null||t.abort(),this.pointerdownAC=null},K5=function(t){var n;(n=g(this,Pp))==null||n.abort(),z(this,Pp,null),W(this,nt,Y5).call(this),g(this,hc)&&clearTimeout(g(this,hc)),z(this,hc,setTimeout(()=>{z(this,hc,null),this.canvas.removeEventListener("contextmenu",To)},10)),W(this,nt,WR).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},sb=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},ab=function(){z(this,Mu,new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)})),g(this,Mu).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=g(this,Mu))==null||t.disconnect(),z(this,Mu,null)},{once:!0})},$m=function(){if(!g(this,Lp))return;const[t,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*n),W(this,nt,ob).call(this)},J5=function(t,n){const r=W(this,nt,lb).call(this),s=(t-r)/g(this,Ep),a=(n-r)/g(this,kp);this.scaleFactor=Math.min(s,a)},ob=function(){const t=W(this,nt,lb).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},Ku=new WeakSet,KR=function(t){const n=new Path2D;for(let r=0,s=t.length;r<s;r++){const[a,o,c,h]=t[r];r===0&&n.moveTo(...a),n.bezierCurveTo(o[0],o[1],c[0],c[1],h[0],h[1])}return n},Q5=function(t,n,r){const[s,a,o,c]=n;switch(r){case 0:for(let h=0,d=t.length;h<d;h+=2)t[h]+=s,t[h+1]=c-t[h+1];break;case 90:for(let h=0,d=t.length;h<d;h+=2){const p=t[h];t[h]=t[h+1]+s,t[h+1]=p+a}break;case 180:for(let h=0,d=t.length;h<d;h+=2)t[h]=o-t[h],t[h+1]+=a;break;case 270:for(let h=0,d=t.length;h<d;h+=2){const p=t[h];t[h]=o-t[h+1],t[h+1]=c-p}break;default:throw new Error("Invalid rotation")}return t},JR=function(t,n,r){const[s,a,o,c]=n;switch(r){case 0:for(let h=0,d=t.length;h<d;h+=2)t[h]-=s,t[h+1]=c-t[h+1];break;case 90:for(let h=0,d=t.length;h<d;h+=2){const p=t[h];t[h]=t[h+1]-a,t[h+1]=p-s}break;case 180:for(let h=0,d=t.length;h<d;h+=2)t[h]=o-t[h],t[h+1]-=a;break;case 270:for(let h=0,d=t.length;h<d;h+=2){const p=t[h];t[h]=c-t[h+1],t[h+1]=o-p}break;default:throw new Error("Invalid rotation")}return t},QR=function(t,n,r,s){var d,p;const a=[],o=this.thickness/2,c=t*n+o,h=t*r+o;for(const y of this.paths){const v=[],x=[];for(let w=0,C=y.length;w<C;w++){const[S,P,R,M]=y[w];if(S[0]===M[0]&&S[1]===M[1]&&C===1){const ee=t*S[0]+c,re=t*S[1]+h;v.push(ee,re),x.push(ee,re);break}const O=t*S[0]+c,$=t*S[1]+h,U=t*P[0]+c,D=t*P[1]+h,Q=t*R[0]+c,ue=t*R[1]+h,j=t*M[0]+c,V=t*M[1]+h;w===0&&(v.push(O,$),x.push(O,$)),v.push(U,D,Q,ue,j,V),x.push(U,D),w===C-1&&x.push(j,V)}a.push({bezier:W(d=ur,Ku,Q5).call(d,v,s,this.rotation),points:W(p=ur,Ku,Q5).call(p,x,s,this.rotation)})}return a},Z5=function(){let t=1/0,n=-1/0,r=1/0,s=-1/0;for(const a of this.paths)for(const[o,c,h,d]of a){const p=vt.bezierBoundingBox(...o,...c,...h,...d);t=Math.min(t,p[0]),r=Math.min(r,p[1]),n=Math.max(n,p[2]),s=Math.max(s,p[3])}return[t,r,n,s]},lb=function(){return g(this,So)?Math.ceil(this.thickness*this.parentScale):0},v1=function(t=!1){if(this.isEmpty())return;if(!g(this,So)){W(this,nt,Pf).call(this);return}const n=W(this,nt,Z5).call(this),r=W(this,nt,lb).call(this);z(this,Ep,Math.max(Nn.MIN_SIZE,n[2]-n[0])),z(this,kp,Math.max(Nn.MIN_SIZE,n[3]-n[1]));const s=Math.ceil(r+g(this,Ep)*this.scaleFactor),a=Math.ceil(r+g(this,kp)*this.scaleFactor),[o,c]=this.parentDimensions;this.width=s/o,this.height=a/c,this.setAspectRatio(s,a);const h=this.translationX,d=this.translationY;this.translationX=-n[0],this.translationY=-n[1],W(this,nt,$m).call(this),W(this,nt,Pf).call(this),z(this,Np,s),z(this,Rp,a),this.setDims(s,a);const p=t?r/this.scaleFactor/2:0;this.translate(h-this.translationX-p,d-this.translationY-p)},J(ur,Ku),jt(ur,"_defaultColor",null),jt(ur,"_defaultOpacity",1),jt(ur,"_defaultThickness",1),jt(ur,"_type","ink"),jt(ur,"_editorType",Gt.INK);let V5=ur;var dr,Di,yd,Ou,vd,r0,dc,Fu,fc,za,i0,nn,b1,_1,cb,tS,ZR,ub,nS,hb,e6,t6;const L1=class L1 extends Nn{constructor(t){super({...t,name:"stampEditor"});J(this,nn);J(this,dr,null);J(this,Di,null);J(this,yd,null);J(this,Ou,null);J(this,vd,null);J(this,r0,"");J(this,dc,null);J(this,Fu,null);J(this,fc,null);J(this,za,!1);J(this,i0,!1);z(this,Ou,t.bitmapUrl),z(this,vd,t.bitmapFile)}static initialize(t,n){Nn.initialize(t,n)}static get supportedTypes(){return an(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return an(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,n){n.pasteEditor(Gt.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:o}=t||this.copyCanvas(null,null,!0).imageData,c=await r.guess({name:"altText",request:{data:s,width:a,height:o,channels:s.length/(a*o)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const h=c.output;return await this.setGuessedAltText(h),n&&!this.hasAltTextData()&&(this.altTextData={alt:h,decorative:!1}),h}remove(){var t,n;g(this,Di)&&(z(this,dr,null),this._uiManager.imageManager.deleteId(g(this,Di)),(t=g(this,dc))==null||t.remove(),z(this,dc,null),(n=g(this,Fu))==null||n.disconnect(),z(this,Fu,null),g(this,fc)&&(clearTimeout(g(this,fc)),z(this,fc,null))),super.remove()}rebuild(){if(!this.parent){g(this,Di)&&W(this,nn,cb).call(this);return}super.rebuild(),this.div!==null&&(g(this,Di)&&g(this,dc)===null&&W(this,nn,cb).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(g(this,yd)||g(this,dr)||g(this,Ou)||g(this,vd)||g(this,Di))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;if(this.width&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),g(this,dr)?W(this,nn,tS).call(this):W(this,nn,cb).call(this),this.width&&!this.annotationElementId){const[r,s]=this.parentDimensions;this.setAt(t*r,n*s,this.width*r,this.height*s)}return this.div}copyCanvas(t,n,r=!1){var v;t||(t=224);const{width:s,height:a}=g(this,dr),o=new Kx;let c=g(this,dr),h=s,d=a,p=null;if(n){if(s>n||a>n){const D=Math.min(n/s,n/a);h=Math.floor(s*D),d=Math.floor(a*D)}p=document.createElement("canvas");const x=p.width=Math.ceil(h*o.sx),w=p.height=Math.ceil(d*o.sy);g(this,za)||(c=W(this,nn,ub).call(this,x,w));const C=p.getContext("2d");C.filter=this._uiManager.hcmFilter;let S="white",P="#cfcfd8";this._uiManager.hcmFilter!=="none"?P="black":(v=window.matchMedia)!=null&&v.call(window,"(prefers-color-scheme: dark)").matches&&(S="#8f8f9d",P="#42414d");const R=15,M=R*o.sx,O=R*o.sy,$=new OffscreenCanvas(M*2,O*2),U=$.getContext("2d");U.fillStyle=S,U.fillRect(0,0,M*2,O*2),U.fillStyle=P,U.fillRect(0,0,M,O),U.fillRect(M,O,M,O),C.fillStyle=C.createPattern($,"repeat"),C.fillRect(0,0,x,w),C.drawImage(c,0,0,c.width,c.height,0,0,x,w)}let y=null;if(r){let x,w;if(o.symmetric&&c.width<t&&c.height<t)x=c.width,w=c.height;else if(c=g(this,dr),s>t||a>t){const P=Math.min(t/s,t/a);x=Math.floor(s*P),w=Math.floor(a*P),g(this,za)||(c=W(this,nn,ub).call(this,x,w))}const S=new OffscreenCanvas(x,w).getContext("2d",{willReadFrequently:!0});S.drawImage(c,0,0,c.width,c.height,0,0,x,w),y={width:x,height:w,data:S.getImageData(0,0,x,w).data}}return{canvas:p,width:h,height:d,imageData:y}}getImageForAltText(){return g(this,dc)}static async deserialize(t,n,r){var w;let s=null;if(t instanceof hR){const{data:{rect:C,rotation:S,id:P,structParent:R,popupRef:M},container:O,parent:{page:{pageNumber:$}}}=t,U=O.querySelector("canvas"),D=r.imageManager.getFromCanvas(O.id,U);U.remove();const Q=((w=await n._structTree.getAriaAttributes(`${yA}${P}`))==null?void 0:w.get("aria-label"))||"";s=t={annotationType:Gt.STAMP,bitmapId:D.id,bitmap:D.bitmap,pageIndex:$-1,rect:C.slice(0),rotation:S,id:P,deleted:!1,accessibilityData:{decorative:!1,altText:Q},isSvg:!1,structParent:R,popupRef:M}}const a=await super.deserialize(t,n,r),{rect:o,bitmap:c,bitmapUrl:h,bitmapId:d,isSvg:p,accessibilityData:y}=t;d&&r.imageManager.isValidId(d)?(z(a,Di,d),c&&z(a,dr,c)):z(a,Ou,h),z(a,za,p);const[v,x]=a.pageDimensions;return a.width=(o[2]-o[0])/v,a.height=(o[3]-o[1])/x,a.annotationElementId=t.id||null,y&&(a.altTextData=y),a._initialData=s,z(a,i0,!!s),a}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Gt.STAMP,bitmapId:g(this,Di),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:g(this,za),structTreeParentId:this._structTreeParentId};if(t)return r.bitmapUrl=W(this,nn,hb).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(r.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const c=W(this,nn,t6).call(this,r);if(c.isSame)return null;c.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,n===null)return r;n.stamps||(n.stamps=new Map);const o=g(this,za)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!n.stamps.has(g(this,Di)))n.stamps.set(g(this,Di),{area:o,serialized:r}),r.bitmap=W(this,nn,hb).call(this,!1);else if(g(this,za)){const c=n.stamps.get(g(this,Di));o>c.area&&(c.area=o,c.serialized.bitmap.close(),c.serialized.bitmap=W(this,nn,hb).call(this,!1))}return r}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};dr=new WeakMap,Di=new WeakMap,yd=new WeakMap,Ou=new WeakMap,vd=new WeakMap,r0=new WeakMap,dc=new WeakMap,Fu=new WeakMap,fc=new WeakMap,za=new WeakMap,i0=new WeakMap,nn=new WeakSet,b1=function(t,n=!1){if(!t){this.remove();return}z(this,dr,t.bitmap),n||(z(this,Di,t.id),z(this,za,t.isSvg)),t.file&&z(this,r0,t.file.name),W(this,nn,tS).call(this)},_1=function(){if(z(this,yd,null),this._uiManager.enableWaiting(!1),!!g(this,dc)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&g(this,dr)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&g(this,dr)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},cb=function(){if(g(this,Di)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(g(this,Di)).then(r=>W(this,nn,b1).call(this,r,!0)).finally(()=>W(this,nn,_1).call(this));return}if(g(this,Ou)){const r=g(this,Ou);z(this,Ou,null),this._uiManager.enableWaiting(!0),z(this,yd,this._uiManager.imageManager.getFromUrl(r).then(s=>W(this,nn,b1).call(this,s)).finally(()=>W(this,nn,_1).call(this)));return}if(g(this,vd)){const r=g(this,vd);z(this,vd,null),this._uiManager.enableWaiting(!0),z(this,yd,this._uiManager.imageManager.getFromFile(r).then(s=>W(this,nn,b1).call(this,s)).finally(()=>W(this,nn,_1).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=L1.supportedTypesStr;const n=this._uiManager._signal;z(this,yd,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),W(this,nn,b1).call(this,s)}r()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:n})}).finally(()=>W(this,nn,_1).call(this))),t.click()},tS=function(){const{div:t}=this;let{width:n,height:r}=g(this,dr);const[s,a]=this.pageDimensions,o=.75;if(this.width)n=this.width*s,r=this.height*a;else if(n>o*s||r>o*a){const p=Math.min(o*s/n,o*a/r);n*=p,r*=p}const[c,h]=this.parentDimensions;this.setDims(n*c/s,r*h/a),this._uiManager.enableWaiting(!1);const d=z(this,dc,document.createElement("canvas"));d.setAttribute("role","img"),this.addContainer(d),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),W(this,nn,nS).call(this,n,r),W(this,nn,e6).call(this),g(this,i0)||(this.parent.addUndoableEditor(this),z(this,i0,!0)),this._reportTelemetry({action:"inserted_image"}),g(this,r0)&&d.setAttribute("aria-label",g(this,r0))},ZR=function(t,n){var o;const[r,s]=this.parentDimensions;this.width=t/r,this.height=n/s,(o=this._initialOptions)!=null&&o.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,g(this,fc)!==null&&clearTimeout(g(this,fc)),z(this,fc,setTimeout(()=>{z(this,fc,null),W(this,nn,nS).call(this,t,n)},200))},ub=function(t,n){const{width:r,height:s}=g(this,dr);let a=r,o=s,c=g(this,dr);for(;a>2*t||o>2*n;){const h=a,d=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const p=new OffscreenCanvas(a,o);p.getContext("2d").drawImage(c,0,0,h,d,0,0,a,o),c=p.transferToImageBitmap()}return c},nS=function(t,n){const r=new Kx,s=Math.ceil(t*r.sx),a=Math.ceil(n*r.sy),o=g(this,dc);if(!o||o.width===s&&o.height===a)return;o.width=s,o.height=a;const c=g(this,za)?g(this,dr):W(this,nn,ub).call(this,s,a),h=o.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(c,0,0,c.width,c.height,0,0,s,a)},hb=function(t){if(t){if(g(this,za)){const s=this._uiManager.imageManager.getSvgUrl(g(this,Di));if(s)return s}const n=document.createElement("canvas");return{width:n.width,height:n.height}=g(this,dr),n.getContext("2d").drawImage(g(this,dr),0,0),n.toDataURL()}if(g(this,za)){const[n,r]=this.pageDimensions,s=Math.round(this.width*n*Rd.PDF_TO_CSS_UNITS),a=Math.round(this.height*r*Rd.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(g(this,dr),0,0,g(this,dr).width,g(this,dr).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(g(this,dr))},e6=function(){this._uiManager._signal&&(z(this,Fu,new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&W(this,nn,ZR).call(this,n.width,n.height)})),g(this,Fu).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=g(this,Fu))==null||t.disconnect(),z(this,Fu,null)},{once:!0}))},t6=function(t){var h;const{rect:n,pageIndex:r,accessibilityData:{altText:s}}=this._initialData,a=t.rect.every((d,p)=>Math.abs(d-n[p])<1),o=t.pageIndex===r,c=(((h=t.accessibilityData)==null?void 0:h.alt)||"")===s;return{isSame:a&&o&&c,isSameAltText:c}},jt(L1,"_type","stamp"),jt(L1,"_editorType",Gt.STAMP);let eS=L1;var Ip,s0,pc,bd,Du,Ua,_d,a0,o0,cs,ju,At,wd,Bi,n6,iS,sS,aS,db;const tl=class tl{constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:r,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:c,viewport:h,l10n:d}){J(this,Bi);J(this,Ip);J(this,s0,!1);J(this,pc,null);J(this,bd,null);J(this,Du,null);J(this,Ua,new Map);J(this,_d,!1);J(this,a0,!1);J(this,o0,!1);J(this,cs,null);J(this,ju,null);J(this,At);const p=[...g(tl,wd).values()];if(!tl._initialized){tl._initialized=!0;for(const y of p)y.initialize(d,e)}e.registerEditorTypes(p),z(this,At,e),this.pageIndex=t,this.div=n,z(this,Ip,s),z(this,pc,a),this.viewport=h,z(this,cs,c),this.drawLayer=o,this._structTree=r,g(this,At).addLayer(this)}get isEmpty(){return g(this,Ua).size===0}get isInvisible(){return this.isEmpty&&g(this,At).getMode()===Gt.NONE}updateToolbar(e){g(this,At).updateToolbar(e)}updateMode(e=g(this,At).getMode()){switch(W(this,Bi,db).call(this),e){case Gt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Gt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Gt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of g(tl,wd).values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=g(this,cs))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(g(this,At).getMode()!==Gt.INK)return;if(!e){for(const n of g(this,Ua).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){g(this,At).setEditingState(e)}addCommands(e){g(this,At).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=g(this,pc))==null||t.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of g(this,Ua).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(g(this,At).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!g(this,pc))return;const t=g(this,pc).getEditableAnnotations();for(const n of t){if(n.hide(),g(this,At).isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const r=await this.deserialize(n);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;z(this,o0,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const s of g(this,Ua).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(r=this.getEditableAnnotation(s.annotationElementId))==null||r.show(),s.remove()}if(g(this,pc)){const s=g(this,pc).getEditableAnnotations();for(const a of s){const{id:o}=a.data;if(g(this,At).isDeletedAnnotationElement(o))continue;let c=t.get(o);if(c){c.resetAnnotationElement(a),c.show(!1),a.show();continue}c=e.get(o),c&&(g(this,At).addChangedExistingAnnotation(c),c.renderAnnotationElement(a)&&c.show(!1)),a.show()}}W(this,Bi,db).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const s of g(tl,wd).values())n.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),z(this,o0,!1)}getEditableAnnotation(e){var t;return((t=g(this,pc))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){g(this,At).getActive()!==e&&g(this,At).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=g(this,cs))!=null&&e.div&&!g(this,ju)){z(this,ju,new AbortController);const t=g(this,At).combinedSignal(g(this,ju));g(this,cs).div.addEventListener("pointerdown",W(this,Bi,n6).bind(this),{signal:t}),g(this,cs).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=g(this,cs))!=null&&e.div&&g(this,ju)&&(g(this,ju).abort(),z(this,ju,null),g(this,cs).div.classList.remove("highlighting"))}enableClick(){if(g(this,bd))return;z(this,bd,new AbortController);const e=g(this,At).combinedSignal(g(this,bd));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=g(this,bd))==null||e.abort(),z(this,bd,null)}attach(e){g(this,Ua).set(e.id,e);const{annotationElementId:t}=e;t&&g(this,At).isDeletedAnnotationElement(t)&&g(this,At).removeDeletedAnnotationElement(e)}detach(e){var t;g(this,Ua).delete(e.id),(t=g(this,Ip))==null||t.removePointerInTextLayer(e.contentDiv),!g(this,o0)&&e.annotationElementId&&g(this,At).addDeletedAnnotationElement(e)}remove(e){this.detach(e),g(this,At).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,g(this,a0)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(g(this,At).addDeletedAnnotationElement(e.annotationElementId),Nn.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),g(this,At).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),g(this,At).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!g(this,Du)&&(e._focusEventsAllowed=!1,z(this,Du,setTimeout(()=>{z(this,Du,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:g(this,At)._signal}),t.focus())},0))),e._structTreeParentId=(n=g(this,Ip))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getNextId(){return g(this,At).getId()}combinedSignal(e){return g(this,At).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=g(this,Bi,iS))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){g(this,At).updateToolbar(e),g(this,At).updateMode(e);const{offsetX:n,offsetY:r}=W(this,Bi,aS).call(this),s=this.getNextId(),a=W(this,Bi,sS).call(this,{parent:this,id:s,x:n,y:r,uiManager:g(this,At),isCentered:!0,...t});a&&this.add(a)}async deserialize(e){var t;return await((t=g(tl,wd).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,g(this,At)))||null}createAndAddNewEditor(e,t,n={}){const r=this.getNextId(),s=W(this,Bi,sS).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:g(this,At),isCentered:t,...n});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(W(this,Bi,aS).call(this),!0)}setSelected(e){g(this,At).setSelected(e)}toggleSelected(e){g(this,At).toggleSelected(e)}unselect(e){g(this,At).unselect(e)}pointerup(e){const{isMac:t}=Ds.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&g(this,_d)){if(z(this,_d,!1),!g(this,s0)){z(this,s0,!0);return}if(g(this,At).getMode()===Gt.STAMP){g(this,At).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(g(this,At).getMode()===Gt.HIGHLIGHT&&this.enableTextSelection(),g(this,_d)){z(this,_d,!1);return}const{isMac:t}=Ds.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;z(this,_d,!0);const n=g(this,At).getActive();z(this,s0,!n||n.isEmpty())}findNewParent(e,t,n){const r=g(this,At).findParent(t,n);return r===null||r===this?!1:(r.changeParent(e),!0)}destroy(){var e,t;((e=g(this,At).getActive())==null?void 0:e.parent)===this&&(g(this,At).commitOrRemove(),g(this,At).setActiveEditor(null)),g(this,Du)&&(clearTimeout(g(this,Du)),z(this,Du,null));for(const n of g(this,Ua).values())(t=g(this,Ip))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,g(this,Ua).clear(),g(this,At).removeLayer(this)}render({viewport:e}){this.viewport=e,Hp(this.div,e);for(const t of g(this,At).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){g(this,At).commitOrRemove(),W(this,Bi,db).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,Hp(this.div,{rotation:n}),t!==n)for(const r of g(this,Ua).values())r.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return g(this,At).viewParameters.realScale}};Ip=new WeakMap,s0=new WeakMap,pc=new WeakMap,bd=new WeakMap,Du=new WeakMap,Ua=new WeakMap,_d=new WeakMap,a0=new WeakMap,o0=new WeakMap,cs=new WeakMap,ju=new WeakMap,At=new WeakMap,wd=new WeakMap,Bi=new WeakSet,n6=function(e){g(this,At).unselectAll();const{target:t}=e;if(t===g(this,cs).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&g(this,cs).div.contains(t)){const{isMac:n}=Ds.platform;if(e.button!==0||e.ctrlKey&&n)return;g(this,At).showAllEditors("highlight",!0,!0),g(this,cs).div.classList.add("free"),this.toggleDrawing(),Mb.startHighlighting(this,g(this,At).direction==="ltr",{target:g(this,cs).div,x:e.x,y:e.y}),g(this,cs).div.addEventListener("pointerup",()=>{g(this,cs).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:g(this,At)._signal}),e.preventDefault()}},iS=function(){return g(tl,wd).get(g(this,At).getMode())},sS=function(e){const t=g(this,Bi,iS);return t?new t.prototype.constructor(e):null},aS=function(){const{x:e,y:t,width:n,height:r}=this.div.getBoundingClientRect(),s=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+n),c=Math.min(window.innerHeight,t+r),h=(s+o)/2-e,d=(a+c)/2-t,[p,y]=this.viewport.rotation%180===0?[h,d]:[d,h];return{offsetX:p,offsetY:y}},db=function(){z(this,a0,!0);for(const e of g(this,Ua).values())e.isEmpty()&&e.remove();z(this,a0,!1)},jt(tl,"_initialized",!1),J(tl,wd,new Map([F5,V5,eS,Mb].map(e=>[e._editorType,e])));let rS=tl;var mc,iv,Hr,Bu,sv,lS,Yp,cS,r6;const Mi=class Mi{constructor({pageIndex:e}){J(this,Yp);J(this,mc,null);J(this,iv,0);J(this,Hr,new Map);J(this,Bu,new Map);this.pageIndex=e}setParent(e){if(!g(this,mc)){z(this,mc,e);return}if(g(this,mc)!==e){if(g(this,Hr).size>0)for(const t of g(this,Hr).values())t.remove(),e.append(t);z(this,mc,e)}}static get _svgFactory(){return an(this,"_svgFactory",new EA)}draw(e,t,n,r=!1){const s=Ns(this,iv)._++,a=W(this,Yp,cS).call(this,e.box);a.classList.add(...e.classNamesForDrawing);const o=Mi._svgFactory.createElement("defs");a.append(o);const c=Mi._svgFactory.createElement("path");o.append(c);const h=`path_p${this.pageIndex}_${s}`;c.setAttribute("id",h),c.setAttribute("d",e.toSVGPath()),r&&g(this,Bu).set(s,c);const d=W(this,Yp,r6).call(this,o,h),p=Mi._svgFactory.createElement("use");return a.append(p),a.setAttribute("fill",t),a.setAttribute("fill-opacity",n),p.setAttribute("href",`#${h}`),g(this,Hr).set(s,a),{id:s,clipPathId:`url(#${d})`}}drawOutline(e){const t=Ns(this,iv)._++,n=W(this,Yp,cS).call(this,e.box);n.classList.add(...e.classNamesForOutlining);const r=Mi._svgFactory.createElement("defs");n.append(r);const s=Mi._svgFactory.createElement("path");r.append(s);const a=`path_p${this.pageIndex}_${t}`;s.setAttribute("id",a),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let o;if(e.mustRemoveSelfIntersections){const d=Mi._svgFactory.createElement("mask");r.append(d),o=`mask_p${this.pageIndex}_${t}`,d.setAttribute("id",o),d.setAttribute("maskUnits","objectBoundingBox");const p=Mi._svgFactory.createElement("rect");d.append(p),p.setAttribute("width","1"),p.setAttribute("height","1"),p.setAttribute("fill","white");const y=Mi._svgFactory.createElement("use");d.append(y),y.setAttribute("href",`#${a}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const c=Mi._svgFactory.createElement("use");n.append(c),c.setAttribute("href",`#${a}`),o&&c.setAttribute("mask",`url(#${o})`);const h=c.cloneNode();return n.append(h),c.classList.add("mainOutline"),h.classList.add("secondaryOutline"),g(this,Hr).set(t,n),t}finalizeLine(e,t){const n=g(this,Bu).get(e);g(this,Bu).delete(e),this.updateBox(e,t.box),n.setAttribute("d",t.toSVGPath())}updateLine(e,t){g(this,Hr).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){g(this,Bu).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var n;W(n=Mi,sv,lS).call(n,g(this,Hr).get(e),t)}show(e,t){g(this,Hr).get(e).classList.toggle("hidden",!t)}rotate(e,t){g(this,Hr).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){g(this,Hr).get(e).setAttribute("fill",t)}changeOpacity(e,t){g(this,Hr).get(e).setAttribute("fill-opacity",t)}addClass(e,t){g(this,Hr).get(e).classList.add(t)}removeClass(e,t){g(this,Hr).get(e).classList.remove(t)}getSVGRoot(e){return g(this,Hr).get(e)}remove(e){g(this,Bu).delete(e),g(this,mc)!==null&&(g(this,Hr).get(e).remove(),g(this,Hr).delete(e))}destroy(){z(this,mc,null);for(const e of g(this,Hr).values())e.remove();g(this,Hr).clear(),g(this,Bu).clear()}};mc=new WeakMap,iv=new WeakMap,Hr=new WeakMap,Bu=new WeakMap,sv=new WeakSet,lS=function(e,{x:t=0,y:n=0,width:r=1,height:s=1}={}){const{style:a}=e;a.top=`${100*n}%`,a.left=`${100*t}%`,a.width=`${100*r}%`,a.height=`${100*s}%`},Yp=new WeakSet,cS=function(e){var n;const t=Mi._svgFactory.create(1,1,!0);return g(this,mc).append(t),t.setAttribute("aria-hidden",!0),W(n=Mi,sv,lS).call(n,t,e),t},r6=function(e,t){const n=Mi._svgFactory.createElement("clipPath");e.append(n);const r=`clip_${t}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const s=Mi._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),r},J(Mi,sv);let oS=Mi;var yB=qt.AbortException,vB=qt.AnnotationEditorLayer,bB=qt.AnnotationEditorParamsType,_B=qt.AnnotationEditorType,wB=qt.AnnotationEditorUIManager,i6=qt.AnnotationLayer,s6=qt.AnnotationMode,xB=qt.ColorPicker,SB=qt.DOMSVGFactory,AB=qt.DrawLayer,CB=qt.FeatureTest,TA=qt.GlobalWorkerOptions,kB=qt.ImageKind,EB=qt.InvalidPDFException,PB=qt.MissingPDFException,TB=qt.OPS,LB=qt.OutputScale,NB=qt.PDFDataRangeTransport,RB=qt.PDFDateString,IB=qt.PDFWorker,MB=qt.PasswordResponses,OB=qt.PermissionFlag,FB=qt.PixelsPerInch,DB=qt.RenderingCancelledException,a6=qt.TextLayer,jB=qt.UnexpectedResponseException,BB=qt.Util,zB=qt.VerbosityLevel,UB=qt.XfaLayer,qB=qt.build,HB=qt.createValidAbsoluteUrl,$B=qt.fetchData,o6=qt.getDocument,VB=qt.getFilenameFromUrl,WB=qt.getPdfFilenameFromUrl,GB=qt.getXfaPageViewport,YB=qt.isDataScheme,XB=qt.isPdfFile,KB=qt.noContextMenu,JB=qt.normalizeUnicode,QB=qt.setLayerDimensions,ZB=qt.shadow,l6=qt.version;const ez=Object.freeze(Object.defineProperty({__proto__:null,AbortException:yB,AnnotationEditorLayer:vB,AnnotationEditorParamsType:bB,AnnotationEditorType:_B,AnnotationEditorUIManager:wB,AnnotationLayer:i6,AnnotationMode:s6,ColorPicker:xB,DOMSVGFactory:SB,DrawLayer:AB,FeatureTest:CB,GlobalWorkerOptions:TA,ImageKind:kB,InvalidPDFException:EB,MissingPDFException:PB,OPS:TB,OutputScale:LB,PDFDataRangeTransport:NB,PDFDateString:RB,PDFWorker:IB,PasswordResponses:MB,PermissionFlag:OB,PixelsPerInch:FB,RenderingCancelledException:DB,TextLayer:a6,UnexpectedResponseException:jB,Util:BB,VerbosityLevel:zB,XfaLayer:UB,build:qB,createValidAbsoluteUrl:HB,fetchData:$B,getDocument:o6,getFilenameFromUrl:VB,getPdfFilenameFromUrl:WB,getXfaPageViewport:GB,isDataScheme:YB,isPdfFile:XB,noContextMenu:KB,normalizeUnicode:JB,setLayerDimensions:QB,shadow:ZB,version:l6},Symbol.toStringTag,{value:"Module"}));var yi=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,s;n<r;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return i.concat(s||Array.prototype.slice.call(e))},tz=["onCopy","onCut","onPaste"],nz=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],rz=["onFocus","onBlur"],iz=["onInput","onInvalid","onReset","onSubmit"],sz=["onLoad","onError"],az=["onKeyDown","onKeyPress","onKeyUp"],oz=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],lz=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],cz=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],uz=["onSelect"],hz=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],dz=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],fz=["onScroll"],pz=["onWheel"],mz=["onAnimationStart","onAnimationEnd","onAnimationIteration"],gz=["onTransitionEnd"],yz=["onToggle"],vz=["onChange"],bz=yi(yi(yi(yi(yi(yi(yi(yi(yi(yi(yi(yi(yi(yi(yi(yi(yi(yi([],tz,!0),nz,!0),rz,!0),iz,!0),sz,!0),az,!0),oz,!0),lz,!0),cz,!0),uz,!0),hz,!0),dz,!0),fz,!0),pz,!0),mz,!0),gz,!0),vz,!0),yz,!0);function c6(i,e){var t={};return bz.forEach(function(n){var r=i[n];r&&(e?t[n]=function(s){return r(s,e(n))}:t[n]=r)}),t}function gv(i){var e=!1,t=new Promise(function(n,r){i.then(function(s){return!e&&n(s)}).catch(function(s){return!e&&r(s)})});return{promise:t,cancel:function(){e=!0}}}function u6(i){var e,t,n="";if(typeof i=="string"||typeof i=="number")n+=i;else if(typeof i=="object")if(Array.isArray(i)){var r=i.length;for(e=0;e<r;e++)i[e]&&(t=u6(i[e]))&&(n&&(n+=" "),n+=t)}else for(t in i)i[t]&&(n&&(n+=" "),n+=t);return n}function A_(){for(var i,e,t=0,n="",r=arguments.length;t<r;t++)(i=arguments[t])&&(e=u6(i))&&(n&&(n+=" "),n+=e);return n}var _z="Invariant failed";function zn(i,e){if(!i)throw new Error(_z)}var Yw,wE;function wz(){if(wE)return Yw;wE=1;var i=function(){};return Yw=i,Yw}var xz=wz();const ds=e_(xz);var xE=Object.prototype.hasOwnProperty;function SE(i,e,t){for(t of i.keys())if(ig(t,e))return t}function ig(i,e){var t,n,r;if(i===e)return!0;if(i&&e&&(t=i.constructor)===e.constructor){if(t===Date)return i.getTime()===e.getTime();if(t===RegExp)return i.toString()===e.toString();if(t===Array){if((n=i.length)===e.length)for(;n--&&ig(i[n],e[n]););return n===-1}if(t===Set){if(i.size!==e.size)return!1;for(n of i)if(r=n,r&&typeof r=="object"&&(r=SE(e,r),!r)||!e.has(r))return!1;return!0}if(t===Map){if(i.size!==e.size)return!1;for(n of i)if(r=n[0],r&&typeof r=="object"&&(r=SE(e,r),!r)||!ig(n[1],e.get(r)))return!1;return!0}if(t===ArrayBuffer)i=new Uint8Array(i),e=new Uint8Array(e);else if(t===DataView){if((n=i.byteLength)===e.byteLength)for(;n--&&i.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(i)){if((n=i.byteLength)===e.byteLength)for(;n--&&i[n]===e[n];);return n===-1}if(!t||typeof i=="object"){n=0;for(t in i)if(xE.call(i,t)&&++n&&!xE.call(e,t)||!(t in e)||!ig(i[t],e[t]))return!1;return Object.keys(e).length===n}}return i!==i&&e!==e}const h6=te.createContext(null);function sg({children:i,type:e}){return L.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:i})}const Sz="noopener noreferrer nofollow";class Az{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return zn(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){zn(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{zn(this.pdfDocument),zn(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{zn(Array.isArray(t));const n=t[0];new Promise(r=>{zn(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(s=>{r(s)}).catch(()=>{zn(!1)}):typeof n=="number"?r(n):zn(!1)}).then(r=>{const s=r+1;zn(this.pdfViewer),zn(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:r,pageNumber:s})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;zn(this.pdfViewer),zn(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||Sz,e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const AE={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},C_=typeof window<"u",d6=C_&&window.location.protocol==="file:";function Cz(i){return typeof i<"u"}function xf(i){return Cz(i)&&i!==null}function kz(i){return typeof i=="string"}function Ez(i){return i instanceof ArrayBuffer}function Pz(i){return zn(C_),i instanceof Blob}function uS(i){return kz(i)&&/^data:/.test(i)}function CE(i){zn(uS(i));const[e="",t=""]=i.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function Tz(){return C_&&window.devicePixelRatio||1}const f6="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function kE(){ds(!d6,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${f6}`)}function Lz(){ds(!d6,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${f6}`)}function Wp(i){i!=null&&i.cancel&&i.cancel()}function hS(i,e){return Object.defineProperty(i,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(i,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(i,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(i,"originalHeight",{get(){return this.view[3]},configurable:!0}),i}function Nz(i){return i.name==="RenderingCancelledException"}function Rz(i){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return t(new Error("Error while reading a file."));e(n.result)},n.onerror=r=>{if(!r.target)return t(new Error("Error while reading a file."));const{error:s}=r.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},n.readAsArrayBuffer(i)})}function Iz(i,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return i}}function m0(){return te.useReducer(Iz,{value:void 0,error:void 0})}var Mz=function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(d){try{h(n.next(d))}catch(p){a(p)}}function c(d){try{h(n.throw(d))}catch(p){a(p)}}function h(d){d.done?s(d.value):r(d.value).then(o,c)}h((n=n.apply(i,e||[])).next())})},EE=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const{PDFDataRangeTransport:Oz}=ez,Fz=(i,e)=>{switch(e){case AE.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");i(t);break}case AE.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");i(t);break}}};function PE(i){return typeof i=="object"&&i!==null&&("data"in i||"range"in i||"url"in i)}const Dz=te.forwardRef(function(e,t){var{children:n,className:r,error:s="Failed to load PDF file.",externalLinkRel:a,externalLinkTarget:o,file:c,inputRef:h,imageResourcesPath:d,loading:p="Loading PDF…",noData:y="No PDF file specified.",onItemClick:v,onLoadError:x,onLoadProgress:w,onLoadSuccess:C,onPassword:S=Fz,onSourceError:P,onSourceSuccess:R,options:M,renderMode:O,rotate:$}=e,U=EE(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[D,Q]=m0(),{value:ue,error:j}=D,[V,ee]=m0(),{value:re,error:pe}=V,fe=te.useRef(new Az),he=te.useRef([]),ne=te.useRef(void 0),ye=te.useRef(void 0);c&&c!==ne.current&&PE(c)&&(ds(!ig(c,ne.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),ne.current=c),M&&M!==ye.current&&(ds(!ig(M,ye.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),ye.current=M);const me=te.useRef({scrollPageIntoView:He=>{const{dest:it,pageNumber:Re,pageIndex:le=Re-1}=He;if(v){v({dest:it,pageIndex:le,pageNumber:Re});return}const St=he.current[le];if(St){St.scrollIntoView();return}ds(!1,`An internal link leading to page ${Re} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});te.useImperativeHandle(t,()=>({linkService:fe,pages:he,viewer:me}),[]);function se(){R&&R()}function I(){j&&(ds(!1,j.toString()),P&&P(j))}function K(){Q({type:"RESET"})}te.useEffect(K,[c,Q]);const Z=te.useCallback(()=>Mz(this,void 0,void 0,function*(){if(!c)return null;if(typeof c=="string")return uS(c)?{data:CE(c)}:(kE(),{url:c});if(c instanceof Oz)return{range:c};if(Ez(c))return{data:c};if(C_&&Pz(c))return{data:yield Rz(c)};if(zn(typeof c=="object"),zn(PE(c)),"url"in c&&typeof c.url=="string"){if(uS(c.url)){const{url:He}=c,it=EE(c,["url"]),Re=CE(He);return Object.assign({data:Re},it)}kE()}return c}),[c]);te.useEffect(()=>{const He=gv(Z());return He.promise.then(it=>{Q({type:"RESOLVE",value:it})}).catch(it=>{Q({type:"REJECT",error:it})}),()=>{Wp(He)}},[Z,Q]),te.useEffect(()=>{if(!(typeof ue>"u")){if(ue===!1){I();return}se()}},[ue]);function oe(){re&&(C&&C(re),he.current=new Array(re.numPages),fe.current.setDocument(re))}function de(){pe&&(ds(!1,pe.toString()),x&&x(pe))}te.useEffect(function(){ee({type:"RESET"})},[ee,ue]),te.useEffect(function(){if(!ue)return;const it=M?Object.assign(Object.assign({},ue),M):ue,Re=o6(it);w&&(Re.onProgress=w),S&&(Re.onPassword=S);const le=Re,St=le.promise.then(ct=>{ee({type:"RESOLVE",value:ct})}).catch(ct=>{le.destroyed||ee({type:"REJECT",error:ct})});return()=>{St.finally(()=>le.destroy())}},[M,ee,ue]),te.useEffect(()=>{if(!(typeof re>"u")){if(re===!1){de();return}oe()}},[re]),te.useEffect(function(){fe.current.setViewer(me.current),fe.current.setExternalLinkRel(a),fe.current.setExternalLinkTarget(o)},[a,o]);const ge=te.useCallback((He,it)=>{he.current[He]=it},[]),Ce=te.useCallback(He=>{delete he.current[He]},[]),ke=te.useMemo(()=>({imageResourcesPath:d,linkService:fe.current,onItemClick:v,pdf:re,registerPage:ge,renderMode:O,rotate:$,unregisterPage:Ce}),[d,v,re,ge,O,$,Ce]),ze=te.useMemo(()=>c6(U,()=>re),[U,re]);function Me(){return L.jsx(h6.Provider,{value:ke,children:n})}function Ge(){return c?re==null?L.jsx(sg,{type:"loading",children:typeof p=="function"?p():p}):re===!1?L.jsx(sg,{type:"error",children:typeof s=="function"?s():s}):Me():L.jsx(sg,{type:"no-data",children:typeof y=="function"?y():y})}return L.jsx("div",Object.assign({className:A_("react-pdf__Document",r),ref:h,style:{"--scale-factor":"1"}},ze,{children:Ge()}))});function p6(){return te.useContext(h6)}function m6(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];var t=i.filter(Boolean);if(t.length<=1){var n=t[0];return n||null}return function(s){t.forEach(function(a){typeof a=="function"?a(s):a&&(a.current=s)})}}const g6=te.createContext(null),y6={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},jz=/^H(\d+)$/;function Bz(i){return i in y6}function k_(i){return"children"in i}function v6(i){return k_(i)?i.children.length===1&&0 in i.children&&"id"in i.children[0]:!1}function zz(i){const e={};if(k_(i)){const{role:t}=i,n=t.match(jz);if(n)e.role="heading",e["aria-level"]=Number(n[1]);else if(Bz(t)){const r=y6[t];r&&(e.role=r)}}return e}function b6(i){const e={};if(k_(i)){if(i.alt!==void 0&&(e["aria-label"]=i.alt),i.lang!==void 0&&(e.lang=i.lang),v6(i)){const[t]=i.children;if(t){const n=b6(t);return Object.assign(Object.assign({},e),n)}}}else"id"in i&&(e["aria-owns"]=i.id);return e}function Uz(i){return i?Object.assign(Object.assign({},zz(i)),b6(i)):null}function _6({className:i,node:e}){const t=te.useMemo(()=>Uz(e),[e]),n=te.useMemo(()=>!k_(e)||v6(e)?null:e.children.map((r,s)=>L.jsx(_6,{node:r},s)),[e]);return L.jsx("span",Object.assign({className:i},t,{children:n}))}function E_(){return te.useContext(g6)}function qz(){const i=E_();zn(i);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=i,[n,r]=m0(),{value:s,error:a}=n,{customTextRenderer:o,page:c}=i;function h(){s&&t&&t(s)}function d(){a&&(ds(!1,a.toString()),e&&e(a))}return te.useEffect(function(){r({type:"RESET"})},[r,c]),te.useEffect(function(){if(o||!c)return;const y=gv(c.getStructTree()),v=y;return y.promise.then(x=>{r({type:"RESOLVE",value:x})}).catch(x=>{r({type:"REJECT",error:x})}),()=>Wp(v)},[o,c,r]),te.useEffect(()=>{if(s!==void 0){if(s===!1){d();return}h()}},[s]),s?L.jsx(_6,{className:"react-pdf__Page__structTree structTree",node:s}):null}const TE=s6;function Hz(i){const e=E_();zn(e);const t=Object.assign(Object.assign({},e),i),{_className:n,canvasBackground:r,devicePixelRatio:s=Tz(),onRenderError:a,onRenderSuccess:o,page:c,renderForms:h,renderTextLayer:d,rotate:p,scale:y}=t,{canvasRef:v}=i;zn(c);const x=te.useRef(null);function w(){c&&o&&o(hS(c,y))}function C(M){Nz(M)||(ds(!1,M.toString()),a&&a(M))}const S=te.useMemo(()=>c.getViewport({scale:y*s,rotation:p}),[s,c,p,y]),P=te.useMemo(()=>c.getViewport({scale:y,rotation:p}),[c,p,y]);te.useEffect(function(){if(!c)return;c.cleanup();const{current:O}=x;if(!O)return;O.width=S.width,O.height=S.height,O.style.width=`${Math.floor(P.width)}px`,O.style.height=`${Math.floor(P.height)}px`,O.style.visibility="hidden";const $={annotationMode:h?TE.ENABLE_FORMS:TE.ENABLE,canvasContext:O.getContext("2d",{alpha:!1}),viewport:S};r&&($.background=r);const U=c.render($),D=U;return U.promise.then(()=>{O.style.visibility="",w()}).catch(C),()=>Wp(D)},[r,c,h,S,P]);const R=te.useCallback(()=>{const{current:M}=x;M&&(M.width=0,M.height=0)},[]);return te.useEffect(()=>R,[R]),L.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:m6(v,x),style:{display:"block",userSelect:"none"},children:d?L.jsx(qz,{}):null})}function $z(i){return"str"in i}function Vz(){const i=E_();zn(i);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:n,onRenderTextLayerError:r,onRenderTextLayerSuccess:s,page:a,pageIndex:o,pageNumber:c,rotate:h,scale:d}=i;zn(a);const[p,y]=m0(),{value:v,error:x}=p,w=te.useRef(null);ds(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function C(){v&&n&&n(v)}function S(){x&&(ds(!1,x.toString()),t&&t(x))}te.useEffect(function(){y({type:"RESET"})},[a,y]),te.useEffect(function(){if(!a)return;const D=gv(a.getTextContent()),Q=D;return D.promise.then(ue=>{y({type:"RESOLVE",value:ue})}).catch(ue=>{y({type:"REJECT",error:ue})}),()=>Wp(Q)},[a,y]),te.useEffect(()=>{if(v!==void 0){if(v===!1){S();return}C()}},[v]);const P=te.useCallback(()=>{s&&s()},[s]),R=te.useCallback(U=>{ds(!1,U.toString()),r&&r(U)},[r]);function M(){const U=w.current;U&&U.classList.add("selecting")}function O(){const U=w.current;U&&U.classList.remove("selecting")}const $=te.useMemo(()=>a.getViewport({scale:d,rotation:h}),[a,h,d]);return te.useLayoutEffect(function(){if(!a||!v)return;const{current:D}=w;if(!D)return;D.innerHTML="";const Q=a.streamTextContent({includeMarkedContent:!0}),ue={container:D,textContentSource:Q,viewport:$},j=new a6(ue),V=j;return j.render().then(()=>{const ee=document.createElement("div");ee.className="endOfContent",D.append(ee);const re=D.querySelectorAll('[role="presentation"]');if(e){let pe=0;v.items.forEach((fe,he)=>{if(!$z(fe))return;const ne=re[pe];if(!ne)return;const ye=e(Object.assign({pageIndex:o,pageNumber:c,itemIndex:he},fe));ne.innerHTML=ye,pe+=fe.str&&fe.hasEOL?2:1})}P()}).catch(R),()=>Wp(V)},[e,R,P,a,o,c,v,$]),L.jsx("div",{className:A_("react-pdf__Page__textContent","textLayer"),onMouseUp:O,onMouseDown:M,ref:w})}function Wz(){const i=p6(),e=E_();zn(e);const t=Object.assign(Object.assign({},i),e),{imageResourcesPath:n,linkService:r,onGetAnnotationsError:s,onGetAnnotationsSuccess:a,onRenderAnnotationLayerError:o,onRenderAnnotationLayerSuccess:c,page:h,pdf:d,renderForms:p,rotate:y,scale:v=1}=t;zn(d),zn(h),zn(r);const[x,w]=m0(),{value:C,error:S}=x,P=te.useRef(null);ds(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function R(){C&&a&&a(C)}function M(){S&&(ds(!1,S.toString()),s&&s(S))}te.useEffect(function(){w({type:"RESET"})},[w,h]),te.useEffect(function(){if(!h)return;const Q=gv(h.getAnnotations()),ue=Q;return Q.promise.then(j=>{w({type:"RESOLVE",value:j})}).catch(j=>{w({type:"REJECT",error:j})}),()=>{Wp(ue)}},[w,h]),te.useEffect(()=>{if(C!==void 0){if(C===!1){M();return}R()}},[C]);function O(){c&&c()}function $(D){ds(!1,`${D}`),o&&o(D)}const U=te.useMemo(()=>h.getViewport({scale:v,rotation:y}),[h,y,v]);return te.useEffect(function(){if(!d||!h||!r||!C)return;const{current:Q}=P;if(!Q)return;const ue=U.clone({dontFlip:!0}),j={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:Q,l10n:null,page:h,structTreeLayer:null,viewport:ue},V={annotations:C,annotationStorage:d.annotationStorage,div:Q,imageResourcesPath:n,linkService:r,page:h,renderForms:p,viewport:ue};Q.innerHTML="";try{new i6(j).render(V),O()}catch(ee){$(ee)}return()=>{}},[C,n,r,h,d,p,U]),L.jsx("div",{className:A_("react-pdf__Page__annotations","annotationLayer"),ref:P})}var Gz=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const LE=1;function Yz(i){const e=p6(),t=Object.assign(Object.assign({},e),i),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:s,canvasRef:a,children:o,className:c,customRenderer:h,customTextRenderer:d,devicePixelRatio:p,error:y="Failed to load the page.",height:v,inputRef:x,loading:w="Loading page…",noData:C="No page specified.",onGetAnnotationsError:S,onGetAnnotationsSuccess:P,onGetStructTreeError:R,onGetStructTreeSuccess:M,onGetTextError:O,onGetTextSuccess:$,onLoadError:U,onLoadSuccess:D,onRenderAnnotationLayerError:Q,onRenderAnnotationLayerSuccess:ue,onRenderError:j,onRenderSuccess:V,onRenderTextLayerError:ee,onRenderTextLayerSuccess:re,pageIndex:pe,pageNumber:fe,pdf:he,registerPage:ne,renderAnnotationLayer:ye=!0,renderForms:me=!1,renderMode:se="canvas",renderTextLayer:I=!0,rotate:K,scale:Z=LE,unregisterPage:oe,width:de}=t,ge=Gz(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Ce,ke]=m0(),{value:ze,error:Me}=Ce,Ge=te.useRef(null);zn(he);const He=xf(fe)?fe-1:pe??null,it=fe??(xf(pe)?pe+1:null),Re=K??(ze?ze.rotate:null),le=te.useMemo(()=>{if(!ze)return null;let zt=1;const Kt=Z??LE;if(de||v){const xt=ze.getViewport({scale:1,rotation:Re});de?zt=de/xt.width:v&&(zt=v/xt.height)}return Kt*zt},[v,ze,Re,Z,de]);te.useEffect(function(){return()=>{xf(He)&&r&&oe&&oe(He)}},[r,he,He,oe]);function St(){if(D){if(!ze||!le)return;D(hS(ze,le))}if(r&&ne){if(!xf(He)||!Ge.current)return;ne(He,Ge.current)}}function ct(){Me&&(ds(!1,Me.toString()),U&&U(Me))}te.useEffect(function(){ke({type:"RESET"})},[ke,he,He]),te.useEffect(function(){if(!he||!it)return;const Kt=gv(he.getPage(it)),xt=Kt;return Kt.promise.then(Rt=>{ke({type:"RESOLVE",value:Rt})}).catch(Rt=>{ke({type:"REJECT",error:Rt})}),()=>Wp(xt)},[ke,he,it]),te.useEffect(()=>{if(ze!==void 0){if(ze===!1){ct();return}St()}},[ze,le]);const Ye=te.useMemo(()=>ze&&xf(He)&&it&&xf(Re)&&xf(le)?{_className:n,canvasBackground:s,customTextRenderer:d,devicePixelRatio:p,onGetAnnotationsError:S,onGetAnnotationsSuccess:P,onGetStructTreeError:R,onGetStructTreeSuccess:M,onGetTextError:O,onGetTextSuccess:$,onRenderAnnotationLayerError:Q,onRenderAnnotationLayerSuccess:ue,onRenderError:j,onRenderSuccess:V,onRenderTextLayerError:ee,onRenderTextLayerSuccess:re,page:ze,pageIndex:He,pageNumber:it,renderForms:me,renderTextLayer:I,rotate:Re,scale:le}:null,[n,s,d,p,S,P,R,M,O,$,Q,ue,j,V,ee,re,ze,He,it,me,I,Re,le]),Je=te.useMemo(()=>c6(ge,()=>ze&&(le?hS(ze,le):void 0)),[ge,ze,le]),Qe=`${He}@${le}/${Re}`;function et(){switch(se){case"custom":return zn(h),L.jsx(h,{},`${Qe}_custom`);case"none":return null;case"canvas":default:return L.jsx(Hz,{canvasRef:a},`${Qe}_canvas`)}}function gt(){return I?L.jsx(Vz,{},`${Qe}_text`):null}function Tt(){return ye?L.jsx(Wz,{},`${Qe}_annotations`):null}function Ot(){return L.jsxs(g6.Provider,{value:Ye,children:[et(),gt(),Tt(),o]})}function Ht(){return it?he===null||ze===void 0||ze===null?L.jsx(sg,{type:"loading",children:typeof w=="function"?w():w}):he===!1||ze===!1?L.jsx(sg,{type:"error",children:typeof y=="function"?y():y}):Ot():L.jsx(sg,{type:"no-data",children:typeof C=="function"?C():C})}return L.jsx("div",Object.assign({className:A_(n,c),"data-page-number":it,ref:m6(x,Ge),style:{"--scale-factor":`${le}`,backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Je,{children:Ht()}))}Lz();TA.workerSrc="pdf.worker.mjs";function Rn(i){"@babel/helpers - typeof";return Rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rn(i)}var fs=Uint8Array,Ga=Uint16Array,LA=Int32Array,P_=new fs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),T_=new fs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),dS=new fs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),w6=function(i,e){for(var t=new Ga(31),n=0;n<31;++n)t[n]=e+=1<<i[n-1];for(var r=new LA(t[30]),n=1;n<30;++n)for(var s=t[n];s<t[n+1];++s)r[s]=s-t[n]<<5|n;return{b:t,r}},x6=w6(P_,2),S6=x6.b,fS=x6.r;S6[28]=258,fS[258]=28;var A6=w6(T_,0),Xz=A6.b,NE=A6.r,pS=new Ga(32768);for(var er=0;er<32768;++er){var Hh=(er&43690)>>1|(er&21845)<<1;Hh=(Hh&52428)>>2|(Hh&13107)<<2,Hh=(Hh&61680)>>4|(Hh&3855)<<4,pS[er]=((Hh&65280)>>8|(Hh&255)<<8)>>1}var Sc=function(i,e,t){for(var n=i.length,r=0,s=new Ga(e);r<n;++r)i[r]&&++s[i[r]-1];var a=new Ga(e);for(r=1;r<e;++r)a[r]=a[r-1]+s[r-1]<<1;var o;if(t){o=new Ga(1<<e);var c=15-e;for(r=0;r<n;++r)if(i[r])for(var h=r<<4|i[r],d=e-i[r],p=a[i[r]-1]++<<d,y=p|(1<<d)-1;p<=y;++p)o[pS[p]>>c]=h}else for(o=new Ga(n),r=0;r<n;++r)i[r]&&(o[r]=pS[a[i[r]-1]++]>>15-i[r]);return o},Md=new fs(288);for(var er=0;er<144;++er)Md[er]=8;for(var er=144;er<256;++er)Md[er]=9;for(var er=256;er<280;++er)Md[er]=7;for(var er=280;er<288;++er)Md[er]=8;var $1=new fs(32);for(var er=0;er<32;++er)$1[er]=5;var Kz=Sc(Md,9,0),Jz=Sc(Md,9,1),Qz=Sc($1,5,0),Zz=Sc($1,5,1),Xw=function(i){for(var e=i[0],t=1;t<i.length;++t)i[t]>e&&(e=i[t]);return e},Zo=function(i,e,t){var n=e/8|0;return(i[n]|i[n+1]<<8)>>(e&7)&t},Kw=function(i,e){var t=e/8|0;return(i[t]|i[t+1]<<8|i[t+2]<<16)>>(e&7)},NA=function(i){return(i+7)/8|0},C6=function(i,e,t){return(t==null||t>i.length)&&(t=i.length),new fs(i.subarray(e,t))},eU=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],rl=function(i,e,t){var n=new Error(e||eU[i]);if(n.code=i,Error.captureStackTrace&&Error.captureStackTrace(n,rl),!t)throw n;return n},tU=function(i,e,t,n){var r=i.length,s=0;if(!r||e.f&&!e.l)return t||new fs(0);var a=!t,o=a||e.i!=2,c=e.i;a&&(t=new fs(r*3));var h=function(Me){var Ge=t.length;if(Me>Ge){var He=new fs(Math.max(Ge*2,Me));He.set(t),t=He}},d=e.f||0,p=e.p||0,y=e.b||0,v=e.l,x=e.d,w=e.m,C=e.n,S=r*8;do{if(!v){d=Zo(i,p,1);var P=Zo(i,p+1,3);if(p+=3,P)if(P==1)v=Jz,x=Zz,w=9,C=5;else if(P==2){var $=Zo(i,p,31)+257,U=Zo(i,p+10,15)+4,D=$+Zo(i,p+5,31)+1;p+=14;for(var Q=new fs(D),ue=new fs(19),j=0;j<U;++j)ue[dS[j]]=Zo(i,p+j*3,7);p+=U*3;for(var V=Xw(ue),ee=(1<<V)-1,re=Sc(ue,V,1),j=0;j<D;){var pe=re[Zo(i,p,ee)];p+=pe&15;var R=pe>>4;if(R<16)Q[j++]=R;else{var fe=0,he=0;for(R==16?(he=3+Zo(i,p,3),p+=2,fe=Q[j-1]):R==17?(he=3+Zo(i,p,7),p+=3):R==18&&(he=11+Zo(i,p,127),p+=7);he--;)Q[j++]=fe}}var ne=Q.subarray(0,$),ye=Q.subarray($);w=Xw(ne),C=Xw(ye),v=Sc(ne,w,1),x=Sc(ye,C,1)}else rl(1);else{var R=NA(p)+4,M=i[R-4]|i[R-3]<<8,O=R+M;if(O>r){c&&rl(0);break}o&&h(y+M),t.set(i.subarray(R,O),y),e.b=y+=M,e.p=p=O*8,e.f=d;continue}if(p>S){c&&rl(0);break}}o&&h(y+131072);for(var me=(1<<w)-1,se=(1<<C)-1,I=p;;I=p){var fe=v[Kw(i,p)&me],K=fe>>4;if(p+=fe&15,p>S){c&&rl(0);break}if(fe||rl(2),K<256)t[y++]=K;else if(K==256){I=p,v=null;break}else{var Z=K-254;if(K>264){var j=K-257,oe=P_[j];Z=Zo(i,p,(1<<oe)-1)+S6[j],p+=oe}var de=x[Kw(i,p)&se],ge=de>>4;de||rl(3),p+=de&15;var ye=Xz[ge];if(ge>3){var oe=T_[ge];ye+=Kw(i,p)&(1<<oe)-1,p+=oe}if(p>S){c&&rl(0);break}o&&h(y+131072);var Ce=y+Z;if(y<ye){var ke=s-ye,ze=Math.min(ye,Ce);for(ke+y<0&&rl(3);y<ze;++y)t[y]=n[ke+y]}for(;y<Ce;++y)t[y]=t[y-ye]}}e.l=v,e.p=I,e.b=y,e.f=d,v&&(d=1,e.m=w,e.d=x,e.n=C)}while(!d);return y!=t.length&&a?C6(t,0,y):t.subarray(0,y)},uu=function(i,e,t){t<<=e&7;var n=e/8|0;i[n]|=t,i[n+1]|=t>>8},e1=function(i,e,t){t<<=e&7;var n=e/8|0;i[n]|=t,i[n+1]|=t>>8,i[n+2]|=t>>16},Jw=function(i,e){for(var t=[],n=0;n<i.length;++n)i[n]&&t.push({s:n,f:i[n]});var r=t.length,s=t.slice();if(!r)return{t:E6,l:0};if(r==1){var a=new fs(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(O,$){return O.f-$.f}),t.push({s:-1,f:25001});var o=t[0],c=t[1],h=0,d=1,p=2;for(t[0]={s:-1,f:o.f+c.f,l:o,r:c};d!=r-1;)o=t[t[h].f<t[p].f?h++:p++],c=t[h!=d&&t[h].f<t[p].f?h++:p++],t[d++]={s:-1,f:o.f+c.f,l:o,r:c};for(var y=s[0].s,n=1;n<r;++n)s[n].s>y&&(y=s[n].s);var v=new Ga(y+1),x=mS(t[d-1],v,0);if(x>e){var n=0,w=0,C=x-e,S=1<<C;for(s.sort(function($,U){return v[U.s]-v[$.s]||$.f-U.f});n<r;++n){var P=s[n].s;if(v[P]>e)w+=S-(1<<x-v[P]),v[P]=e;else break}for(w>>=C;w>0;){var R=s[n].s;v[R]<e?w-=1<<e-v[R]++-1:++n}for(;n>=0&&w;--n){var M=s[n].s;v[M]==e&&(--v[M],++w)}x=e}return{t:new fs(v),l:x}},mS=function(i,e,t){return i.s==-1?Math.max(mS(i.l,e,t+1),mS(i.r,e,t+1)):e[i.s]=t},RE=function(i){for(var e=i.length;e&&!i[--e];);for(var t=new Ga(++e),n=0,r=i[0],s=1,a=function(c){t[n++]=c},o=1;o<=e;++o)if(i[o]==r&&o!=e)++s;else{if(!r&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(r),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(r);s=1,r=i[o]}return{c:t.subarray(0,n),n:e}},t1=function(i,e){for(var t=0,n=0;n<e.length;++n)t+=i[n]*e[n];return t},k6=function(i,e,t){var n=t.length,r=NA(e+2);i[r]=n&255,i[r+1]=n>>8,i[r+2]=i[r]^255,i[r+3]=i[r+1]^255;for(var s=0;s<n;++s)i[r+s+4]=t[s];return(r+4+n)*8},IE=function(i,e,t,n,r,s,a,o,c,h,d){uu(e,d++,t),++r[256];for(var p=Jw(r,15),y=p.t,v=p.l,x=Jw(s,15),w=x.t,C=x.l,S=RE(y),P=S.c,R=S.n,M=RE(w),O=M.c,$=M.n,U=new Ga(19),D=0;D<P.length;++D)++U[P[D]&31];for(var D=0;D<O.length;++D)++U[O[D]&31];for(var Q=Jw(U,7),ue=Q.t,j=Q.l,V=19;V>4&&!ue[dS[V-1]];--V);var ee=h+5<<3,re=t1(r,Md)+t1(s,$1)+a,pe=t1(r,y)+t1(s,w)+a+14+3*V+t1(U,ue)+2*U[16]+3*U[17]+7*U[18];if(c>=0&&ee<=re&&ee<=pe)return k6(e,d,i.subarray(c,c+h));var fe,he,ne,ye;if(uu(e,d,1+(pe<re)),d+=2,pe<re){fe=Sc(y,v,0),he=y,ne=Sc(w,C,0),ye=w;var me=Sc(ue,j,0);uu(e,d,R-257),uu(e,d+5,$-1),uu(e,d+10,V-4),d+=14;for(var D=0;D<V;++D)uu(e,d+3*D,ue[dS[D]]);d+=3*V;for(var se=[P,O],I=0;I<2;++I)for(var K=se[I],D=0;D<K.length;++D){var Z=K[D]&31;uu(e,d,me[Z]),d+=ue[Z],Z>15&&(uu(e,d,K[D]>>5&127),d+=K[D]>>12)}}else fe=Kz,he=Md,ne=Qz,ye=$1;for(var D=0;D<o;++D){var oe=n[D];if(oe>255){var Z=oe>>18&31;e1(e,d,fe[Z+257]),d+=he[Z+257],Z>7&&(uu(e,d,oe>>23&31),d+=P_[Z]);var de=oe&31;e1(e,d,ne[de]),d+=ye[de],de>3&&(e1(e,d,oe>>5&8191),d+=T_[de])}else e1(e,d,fe[oe]),d+=he[oe]}return e1(e,d,fe[256]),d+he[256]},nU=new LA([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),E6=new fs(0),rU=function(i,e,t,n,r,s){var a=s.z||i.length,o=new fs(n+a+5*(1+Math.ceil(a/7e3))+r),c=o.subarray(n,o.length-r),h=s.l,d=(s.r||0)&7;if(e){d&&(c[0]=s.r>>3);for(var p=nU[e-1],y=p>>13,v=p&8191,x=(1<<t)-1,w=s.p||new Ga(32768),C=s.h||new Ga(x+1),S=Math.ceil(t/3),P=2*S,R=function(it){return(i[it]^i[it+1]<<S^i[it+2]<<P)&x},M=new LA(25e3),O=new Ga(288),$=new Ga(32),U=0,D=0,Q=s.i||0,ue=0,j=s.w||0,V=0;Q+2<a;++Q){var ee=R(Q),re=Q&32767,pe=C[ee];if(w[re]=pe,C[ee]=re,j<=Q){var fe=a-Q;if((U>7e3||ue>24576)&&(fe>423||!h)){d=IE(i,c,0,M,O,$,D,ue,V,Q-V,d),ue=U=D=0,V=Q;for(var he=0;he<286;++he)O[he]=0;for(var he=0;he<30;++he)$[he]=0}var ne=2,ye=0,me=v,se=re-pe&32767;if(fe>2&&ee==R(Q-se))for(var I=Math.min(y,fe)-1,K=Math.min(32767,Q),Z=Math.min(258,fe);se<=K&&--me&&re!=pe;){if(i[Q+ne]==i[Q+ne-se]){for(var oe=0;oe<Z&&i[Q+oe]==i[Q+oe-se];++oe);if(oe>ne){if(ne=oe,ye=se,oe>I)break;for(var de=Math.min(se,oe-2),ge=0,he=0;he<de;++he){var Ce=Q-se+he&32767,ke=w[Ce],ze=Ce-ke&32767;ze>ge&&(ge=ze,pe=Ce)}}}re=pe,pe=w[re],se+=re-pe&32767}if(ye){M[ue++]=268435456|fS[ne]<<18|NE[ye];var Me=fS[ne]&31,Ge=NE[ye]&31;D+=P_[Me]+T_[Ge],++O[257+Me],++$[Ge],j=Q+ne,++U}else M[ue++]=i[Q],++O[i[Q]]}}for(Q=Math.max(Q,j);Q<a;++Q)M[ue++]=i[Q],++O[i[Q]];d=IE(i,c,h,M,O,$,D,ue,V,Q-V,d),h||(s.r=d&7|c[d/8|0]<<3,d-=7,s.h=C,s.p=w,s.i=Q,s.w=j)}else{for(var Q=s.w||0;Q<a+h;Q+=65535){var He=Q+65535;He>=a&&(c[d/8|0]=h,He=a),d=k6(c,d+1,i.subarray(Q,He))}s.i=a}return C6(o,0,n+NA(d)+r)},P6=function(){var i=1,e=0;return{p:function(t){for(var n=i,r=e,s=t.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)r+=n+=t[a];n=(n&65535)+15*(n>>16),r=(r&65535)+15*(r>>16)}i=n,e=r},d:function(){return i%=65521,e%=65521,(i&255)<<24|(i&65280)<<8|(e&255)<<8|e>>8}}},iU=function(i,e,t,n,r){if(!r&&(r={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new fs(s.length+i.length);a.set(s),a.set(i,s.length),i=a,r.w=s.length}return rU(i,e.level==null?6:e.level,e.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(i.length)))*1.5):20:12+e.mem,t,n,r)},T6=function(i,e,t){for(;t;++e)i[e]=t,t>>>=8},sU=function(i,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(i[0]=120,i[1]=n<<6|(e.dictionary&&32),i[1]|=31-(i[0]<<8|i[1])%31,e.dictionary){var r=P6();r.p(e.dictionary),T6(i,2,r.d())}},aU=function(i,e){return((i[0]&15)!=8||i[0]>>4>7||(i[0]<<8|i[1])%31)&&rl(6,"invalid zlib data"),(i[1]>>5&1)==1&&rl(6,"invalid zlib data: "+(i[1]&32?"need":"unexpected")+" dictionary"),(i[1]>>3&4)+2};function gS(i,e){e||(e={});var t=P6();t.p(i);var n=iU(i,e,e.dictionary?6:2,4);return sU(n,e),T6(n,n.length-4,t.d()),n}function oU(i,e){return tU(i.subarray(aU(i),-4),{i:2},e,e)}var lU=typeof TextDecoder<"u"&&new TextDecoder,cU=0;try{lU.decode(E6,{stream:!0}),cU=1}catch{}var Lt=function(){return typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:this}();function Qw(){Lt.console&&typeof Lt.console.log=="function"&&Lt.console.log.apply(Lt.console,arguments)}var jn={log:Qw,warn:function(i){Lt.console&&(typeof Lt.console.warn=="function"?Lt.console.warn.apply(Lt.console,arguments):Qw.call(null,arguments))},error:function(i){Lt.console&&(typeof Lt.console.error=="function"?Lt.console.error.apply(Lt.console,arguments):Qw(i))}};function Zw(i,e,t){var n=new XMLHttpRequest;n.open("GET",i),n.responseType="blob",n.onload=function(){Tf(n.response,e,t)},n.onerror=function(){jn.error("could not download file")},n.send()}function ME(i){var e=new XMLHttpRequest;e.open("HEAD",i,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function h2(i){try{i.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(e)}}var E1,yS,Tf=Lt.saveAs||((typeof window>"u"?"undefined":Rn(window))!=="object"||window!==Lt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(i,e,t){var n=Lt.URL||Lt.webkitURL,r=document.createElement("a");e=e||i.name||"download",r.download=e,r.rel="noopener",typeof i=="string"?(r.href=i,r.origin!==location.origin?ME(r.href)?Zw(i,e,t):h2(r,r.target="_blank"):h2(r)):(r.href=n.createObjectURL(i),setTimeout(function(){n.revokeObjectURL(r.href)},4e4),setTimeout(function(){h2(r)},0))}:"msSaveOrOpenBlob"in navigator?function(i,e,t){if(e=e||i.name||"download",typeof i=="string")if(ME(i))Zw(i,e,t);else{var n=document.createElement("a");n.href=i,n.target="_blank",setTimeout(function(){h2(n)})}else navigator.msSaveOrOpenBlob(function(r,s){return s===void 0?s={autoBom:!1}:Rn(s)!=="object"&&(jn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(i,t),e)}:function(i,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof i=="string")return Zw(i,e,t);var r=i.type==="application/octet-stream",s=/constructor/i.test(Lt.HTMLElement)||Lt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||r&&s)&&(typeof FileReader>"u"?"undefined":Rn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},o.readAsDataURL(i)}else{var c=Lt.URL||Lt.webkitURL,h=c.createObjectURL(i);n?n.location=h:location.href=h,n=null,setTimeout(function(){c.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function L6(i){var e;i=i||"",this.ok=!1,i.charAt(0)=="#"&&(i=i.substr(1,6)),i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[i=(i=i.replace(/ /g,"")).toLowerCase()]||i;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<t.length;n++){var r=t[n].re,s=t[n].process,a=r.exec(i);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),h=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),"#"+o+c+h}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function ex(i,e){var t=i[0],n=i[1],r=i[2],s=i[3];t=es(t,n,r,s,e[0],7,-680876936),s=es(s,t,n,r,e[1],12,-389564586),r=es(r,s,t,n,e[2],17,606105819),n=es(n,r,s,t,e[3],22,-1044525330),t=es(t,n,r,s,e[4],7,-176418897),s=es(s,t,n,r,e[5],12,1200080426),r=es(r,s,t,n,e[6],17,-1473231341),n=es(n,r,s,t,e[7],22,-45705983),t=es(t,n,r,s,e[8],7,1770035416),s=es(s,t,n,r,e[9],12,-1958414417),r=es(r,s,t,n,e[10],17,-42063),n=es(n,r,s,t,e[11],22,-1990404162),t=es(t,n,r,s,e[12],7,1804603682),s=es(s,t,n,r,e[13],12,-40341101),r=es(r,s,t,n,e[14],17,-1502002290),t=ts(t,n=es(n,r,s,t,e[15],22,1236535329),r,s,e[1],5,-165796510),s=ts(s,t,n,r,e[6],9,-1069501632),r=ts(r,s,t,n,e[11],14,643717713),n=ts(n,r,s,t,e[0],20,-373897302),t=ts(t,n,r,s,e[5],5,-701558691),s=ts(s,t,n,r,e[10],9,38016083),r=ts(r,s,t,n,e[15],14,-660478335),n=ts(n,r,s,t,e[4],20,-405537848),t=ts(t,n,r,s,e[9],5,568446438),s=ts(s,t,n,r,e[14],9,-1019803690),r=ts(r,s,t,n,e[3],14,-187363961),n=ts(n,r,s,t,e[8],20,1163531501),t=ts(t,n,r,s,e[13],5,-1444681467),s=ts(s,t,n,r,e[2],9,-51403784),r=ts(r,s,t,n,e[7],14,1735328473),t=ns(t,n=ts(n,r,s,t,e[12],20,-1926607734),r,s,e[5],4,-378558),s=ns(s,t,n,r,e[8],11,-2022574463),r=ns(r,s,t,n,e[11],16,1839030562),n=ns(n,r,s,t,e[14],23,-35309556),t=ns(t,n,r,s,e[1],4,-1530992060),s=ns(s,t,n,r,e[4],11,1272893353),r=ns(r,s,t,n,e[7],16,-155497632),n=ns(n,r,s,t,e[10],23,-1094730640),t=ns(t,n,r,s,e[13],4,681279174),s=ns(s,t,n,r,e[0],11,-358537222),r=ns(r,s,t,n,e[3],16,-722521979),n=ns(n,r,s,t,e[6],23,76029189),t=ns(t,n,r,s,e[9],4,-640364487),s=ns(s,t,n,r,e[12],11,-421815835),r=ns(r,s,t,n,e[15],16,530742520),t=rs(t,n=ns(n,r,s,t,e[2],23,-995338651),r,s,e[0],6,-198630844),s=rs(s,t,n,r,e[7],10,1126891415),r=rs(r,s,t,n,e[14],15,-1416354905),n=rs(n,r,s,t,e[5],21,-57434055),t=rs(t,n,r,s,e[12],6,1700485571),s=rs(s,t,n,r,e[3],10,-1894986606),r=rs(r,s,t,n,e[10],15,-1051523),n=rs(n,r,s,t,e[1],21,-2054922799),t=rs(t,n,r,s,e[8],6,1873313359),s=rs(s,t,n,r,e[15],10,-30611744),r=rs(r,s,t,n,e[6],15,-1560198380),n=rs(n,r,s,t,e[13],21,1309151649),t=rs(t,n,r,s,e[4],6,-145523070),s=rs(s,t,n,r,e[11],10,-1120210379),r=rs(r,s,t,n,e[2],15,718787259),n=rs(n,r,s,t,e[9],21,-343485551),i[0]=Cd(t,i[0]),i[1]=Cd(n,i[1]),i[2]=Cd(r,i[2]),i[3]=Cd(s,i[3])}function L_(i,e,t,n,r,s){return e=Cd(Cd(e,i),Cd(n,s)),Cd(e<<r|e>>>32-r,t)}function es(i,e,t,n,r,s,a){return L_(e&t|~e&n,i,e,r,s,a)}function ts(i,e,t,n,r,s,a){return L_(e&n|t&~n,i,e,r,s,a)}function ns(i,e,t,n,r,s,a){return L_(e^t^n,i,e,r,s,a)}function rs(i,e,t,n,r,s,a){return L_(t^(e|~n),i,e,r,s,a)}function N6(i){var e,t=i.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=i.length;e+=64)ex(n,uU(i.substring(e-64,e)));i=i.substring(e-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<i.length;e++)r[e>>2]|=i.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(ex(n,r),e=0;e<16;e++)r[e]=0;return r[14]=8*t,ex(n,r),n}function uU(i){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=i.charCodeAt(e)+(i.charCodeAt(e+1)<<8)+(i.charCodeAt(e+2)<<16)+(i.charCodeAt(e+3)<<24);return t}E1=Lt.atob.bind(Lt),yS=Lt.btoa.bind(Lt);var OE="0123456789abcdef".split("");function hU(i){for(var e="",t=0;t<4;t++)e+=OE[i>>8*t+4&15]+OE[i>>8*t&15];return e}function dU(i){return String.fromCharCode((255&i)>>0,(65280&i)>>8,(16711680&i)>>16,(4278190080&i)>>24)}function vS(i){return N6(i).map(dU).join("")}var fU=function(i){for(var e=0;e<i.length;e++)i[e]=hU(i[e]);return i.join("")}(N6("hello"))!="5d41402abc4b2a76b9719d911017c592";function Cd(i,e){if(fU){var t=(65535&i)+(65535&e);return(i>>16)+(e>>16)+(t>>16)<<16|65535&t}return i+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function bS(i,e){var t,n,r,s;if(i!==t){for(var a=(r=i,s=1+(256/i.length>>0),new Array(s+1).join(r)),o=[],c=0;c<256;c++)o[c]=c;var h=0;for(c=0;c<256;c++){var d=o[c];h=(h+d+a.charCodeAt(c))%256,o[c]=o[h],o[h]=d}t=i,n=o}else o=n;var p=e.length,y=0,v=0,x="";for(c=0;c<p;c++)v=(v+(d=o[y=(y+1)%256]))%256,o[y]=o[v],o[v]=d,a=o[(o[y]+o[v])%256],x+=String.fromCharCode(e.charCodeAt(c)^a);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var FE={print:4,modify:8,copy:16,"annot-forms":32};function Vm(i,e,t,n){this.v=1,this.r=2;var r=192;i.forEach(function(o){if(FE.perm!==void 0)throw new Error("Invalid permission: "+o);r+=FE[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^r)),this.encryptionKey=vS(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=bS(this.encryptionKey,this.padding)}function Wm(i){if(/[^\u0000-\u00ff]/.test(i))throw new Error("Invalid PDF Name Object: "+i+", Only accept ASCII characters.");for(var e="",t=i.length,n=0;n<t;n++){var r=i.charCodeAt(n);r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?e+="#"+("0"+r.toString(16)).slice(-2):e+=i[n]}return e}function DE(i){if(Rn(i)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,r){if(r=r||!1,typeof t!="string"||typeof n!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[n,!!r],s},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),r=[];for(var s in e[t]){var a=e[t][s];try{a[0].apply(i,n)}catch(o){Lt.console&&jn.error("jsPDF PubSub Error",o.message,o)}a[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Ob(i){if(!(this instanceof Ob))return new Ob(i);var e="opacity,stroke-opacity".split(",");for(var t in i)i.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=i[t]);this.id="",this.objectNumber=-1}function R6(i,e){this.gState=i,this.matrix=e,this.id="",this.objectNumber=-1}function Nf(i,e,t,n,r){if(!(this instanceof Nf))return new Nf(i,e,t,n,r);this.type=i==="axial"?2:3,this.coords=e,this.colors=t,R6.call(this,n,r)}function Xm(i,e,t,n,r){if(!(this instanceof Xm))return new Xm(i,e,t,n,r);this.boundingBox=i,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,R6.call(this,n,r)}function Pt(i){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],r=arguments[2],s=arguments[3],a=[],o=1,c=16,h="S",d=null;Rn(i=i||{})==="object"&&(t=i.orientation,n=i.unit||n,r=i.format||r,s=i.compress||i.compressPdf||s,(d=i.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof i.userUnit=="number"?Math.abs(i.userUnit):1,i.precision!==void 0&&(e=i.precision),i.floatPrecision!==void 0&&(c=i.floatPrecision),h=i.defaultPathOperation||"S"),a=i.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",t=(""+(t||"P")).toLowerCase();var p=i.putOnlyUsedFonts||!1,y={},v={internal:{},__private__:{}};v.__private__.PubSub=DE;var x="1.3",w=v.__private__.getPdfVersion=function(){return x};v.__private__.setPdfVersion=function(A){x=A};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};v.__private__.getPageFormats=function(){return C};var S=v.__private__.getPageFormat=function(A){return C[A]};r=r||"a4";var P={COMPAT:"compat",ADVANCED:"advanced"},R=P.COMPAT;function M(){this.saveGraphicsState(),le(new _t(rt,0,0,-rt,0,Fl()*rt).toString()+" cm"),this.setFontSize(this.getFontSize()/rt),h="n",R=P.ADVANCED}function O(){this.restoreGraphicsState(),h="S",R=P.COMPAT}var $=v.__private__.combineFontStyleAndFontWeight=function(A,B){if(A=="bold"&&B=="normal"||A=="bold"&&B==400||A=="normal"&&B=="italic"||A=="bold"&&B=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return B&&(A=B==400||B==="normal"?A==="italic"?"italic":"normal":B!=700&&B!=="bold"||A!=="normal"?(B==700?"bold":B)+""+A:"bold"),A};v.advancedAPI=function(A){var B=R===P.COMPAT;return B&&M.call(this),typeof A!="function"||(A(this),B&&O.call(this)),this},v.compatAPI=function(A){var B=R===P.ADVANCED;return B&&O.call(this),typeof A!="function"||(A(this),B&&M.call(this)),this},v.isAdvancedAPI=function(){return R===P.ADVANCED};var U,D=function(A){if(R!==P.ADVANCED)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Q=v.roundToPrecision=v.__private__.roundToPrecision=function(A,B){var ae=e||B;if(isNaN(A)||isNaN(ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(ae).replace(/0+$/,"")};U=v.hpf=v.__private__.hpf=typeof c=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(A,c)}:c==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(A,16)};var ue=v.f2=v.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return Q(A,2)},j=v.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return Q(A,3)},V=v.scale=v.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return R===P.COMPAT?A*rt:R===P.ADVANCED?A:void 0},ee=function(A){return R===P.COMPAT?Fl()-A:R===P.ADVANCED?A:void 0},re=function(A){return V(ee(A))};v.__private__.setPrecision=v.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(e=parseInt(A,10))};var pe,fe="00000000000000000000000000000000",he=v.__private__.getFileId=function(){return fe},ne=v.__private__.setFileId=function(A){return fe=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():fe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Yn=new Vm(d.userPermissions,d.userPassword,d.ownerPassword,fe)),fe};v.setFileId=function(A){return ne(A),this},v.getFileId=function(){return he()};var ye=v.__private__.convertDateToPDFDate=function(A){var B=A.getTimezoneOffset(),ae=B<0?"+":"-",ve=Math.floor(Math.abs(B/60)),Ee=Math.abs(B%60),De=[ae,Z(ve),"'",Z(Ee),"'"].join("");return["D:",A.getFullYear(),Z(A.getMonth()+1),Z(A.getDate()),Z(A.getHours()),Z(A.getMinutes()),Z(A.getSeconds()),De].join("")},me=v.__private__.convertPDFDateToDate=function(A){var B=parseInt(A.substr(2,4),10),ae=parseInt(A.substr(6,2),10)-1,ve=parseInt(A.substr(8,2),10),Ee=parseInt(A.substr(10,2),10),De=parseInt(A.substr(12,2),10),$e=parseInt(A.substr(14,2),10);return new Date(B,ae,ve,Ee,De,$e,0)},se=v.__private__.setCreationDate=function(A){var B;if(A===void 0&&(A=new Date),A instanceof Date)B=ye(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");B=A}return pe=B},I=v.__private__.getCreationDate=function(A){var B=pe;return A==="jsDate"&&(B=me(pe)),B};v.setCreationDate=function(A){return se(A),this},v.getCreationDate=function(A){return I(A)};var K,Z=v.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},oe=v.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},de=0,ge=[],Ce=[],ke=0,ze=[],Me=[],Ge=!1,He=Ce,it=function(){de=0,ke=0,Ce=[],ge=[],ze=[],No=Wn(),_a=Wn()};v.__private__.setCustomOutputDestination=function(A){Ge=!0,He=A};var Re=function(A){Ge||(He=A)};v.__private__.resetCustomOutputDestination=function(){Ge=!1,He=Ce};var le=v.__private__.out=function(A){return A=A.toString(),ke+=A.length+1,He.push(A),He},St=v.__private__.write=function(A){return le(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},ct=v.__private__.getArrayBuffer=function(A){for(var B=A.length,ae=new ArrayBuffer(B),ve=new Uint8Array(ae);B--;)ve[B]=A.charCodeAt(B);return ae},Ye=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];v.__private__.getStandardFonts=function(){return Ye};var Je=i.fontSize||16;v.__private__.setFontSize=v.setFontSize=function(A){return Je=R===P.ADVANCED?A/rt:A,this};var Qe,et=v.__private__.getFontSize=v.getFontSize=function(){return R===P.COMPAT?Je:Je*rt},gt=i.R2L||!1;v.__private__.setR2L=v.setR2L=function(A){return gt=A,this},v.__private__.getR2L=v.getR2L=function(){return gt};var Tt,Ot=v.__private__.setZoomMode=function(A){var B=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))Qe=A;else if(isNaN(A)){if(B.indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');Qe=A}else Qe=parseInt(A,10)};v.__private__.getZoomMode=function(){return Qe};var Ht,zt=v.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');Tt=A};v.__private__.getPageMode=function(){return Tt};var Kt=v.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');Ht=A};v.__private__.getLayoutMode=function(){return Ht},v.__private__.setDisplayMode=v.setDisplayMode=function(A,B,ae){return Ot(A),Kt(B),zt(ae),this};var xt={title:"",subject:"",author:"",keywords:"",creator:""};v.__private__.getDocumentProperty=function(A){if(Object.keys(xt).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xt[A]},v.__private__.getDocumentProperties=function(){return xt},v.__private__.setDocumentProperties=v.setProperties=v.setDocumentProperties=function(A){for(var B in xt)xt.hasOwnProperty(B)&&A[B]&&(xt[B]=A[B]);return this},v.__private__.setDocumentProperty=function(A,B){if(Object.keys(xt).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xt[A]=B};var Rt,rt,ai,rn,Us,kn={},In={},qs=[],ln={},Lo={},Un={},oi={},zi=null,$n=0,It=[],hn=new DE(v),Al=i.hotfixes||[],Br={},Hs={},ba=[],_t=function A(B,ae,ve,Ee,De,$e){if(!(this instanceof A))return new A(B,ae,ve,Ee,De,$e);isNaN(B)&&(B=1),isNaN(ae)&&(ae=0),isNaN(ve)&&(ve=0),isNaN(Ee)&&(Ee=1),isNaN(De)&&(De=0),isNaN($e)&&($e=0),this._matrix=[B,ae,ve,Ee,De,$e]};Object.defineProperty(_t.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(_t.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(_t.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(_t.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(_t.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(_t.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(_t.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(_t.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(_t.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(_t.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(_t.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(_t.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(_t.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(_t.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(_t.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(_t.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),_t.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(A)},_t.prototype.multiply=function(A){var B=A.sx*this.sx+A.shy*this.shx,ae=A.sx*this.shy+A.shy*this.sy,ve=A.shx*this.sx+A.sy*this.shx,Ee=A.shx*this.shy+A.sy*this.sy,De=A.tx*this.sx+A.ty*this.shx+this.tx,$e=A.tx*this.shy+A.ty*this.sy+this.ty;return new _t(B,ae,ve,Ee,De,$e)},_t.prototype.decompose=function(){var A=this.sx,B=this.shy,ae=this.shx,ve=this.sy,Ee=this.tx,De=this.ty,$e=Math.sqrt(A*A+B*B),at=(A/=$e)*ae+(B/=$e)*ve;ae-=A*at,ve-=B*at;var bt=Math.sqrt(ae*ae+ve*ve);return at/=bt,A*(ve/=bt)<B*(ae/=bt)&&(A=-A,B=-B,at=-at,$e=-$e),{scale:new _t($e,0,0,bt,0,0),translate:new _t(1,0,0,1,Ee,De),rotate:new _t(A,B,-B,A,0,0),skew:new _t(1,0,at,1,0,0)}},_t.prototype.toString=function(A){return this.join(" ")},_t.prototype.inversed=function(){var A=this.sx,B=this.shy,ae=this.shx,ve=this.sy,Ee=this.tx,De=this.ty,$e=1/(A*ve-B*ae),at=ve*$e,bt=-B*$e,Dt=-ae*$e,Ft=A*$e;return new _t(at,bt,Dt,Ft,-at*Ee-Dt*De,-bt*Ee-Ft*De)},_t.prototype.applyToPoint=function(A){var B=A.x*this.sx+A.y*this.shx+this.tx,ae=A.x*this.shy+A.y*this.sy+this.ty;return new io(B,ae)},_t.prototype.applyToRectangle=function(A){var B=this.applyToPoint(A),ae=this.applyToPoint(new io(A.x+A.w,A.y+A.h));return new Ol(B.x,B.y,ae.x-B.x,ae.y-B.y)},_t.prototype.clone=function(){var A=this.sx,B=this.shy,ae=this.shx,ve=this.sy,Ee=this.tx,De=this.ty;return new _t(A,B,ae,ve,Ee,De)},v.Matrix=_t;var vs=v.matrixMult=function(A,B){return B.multiply(A)},Ui=new _t(1,0,0,1,0,0);v.unitMatrix=v.identityMatrix=Ui;var qi=function(A,B){if(!Lo[A]){var ae=(B instanceof Nf?"Sh":"P")+(Object.keys(ln).length+1).toString(10);B.id=ae,Lo[A]=ae,ln[ae]=B,hn.publish("addPattern",B)}};v.ShadingPattern=Nf,v.TilingPattern=Xm,v.addShadingPattern=function(A,B){return D("addShadingPattern()"),qi(A,B),this},v.beginTilingPattern=function(A){D("beginTilingPattern()"),dm(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},v.endTilingPattern=function(A,B){D("endTilingPattern()"),B.stream=Me[K].join(`
`),qi(A,B),hn.publish("endTilingPattern",B),ba.pop().restore()};var Vn=v.__private__.newObject=function(){var A=Wn();return li(A,!0),A},Wn=v.__private__.newObjectDeferred=function(){return de++,ge[de]=function(){return ke},de},li=function(A,B){return B=typeof B=="boolean"&&B,ge[A]=ke,B&&le(A+" 0 obj"),A},Cl=v.__private__.newAdditionalObject=function(){var A={objId:Wn(),content:""};return ze.push(A),A},No=Wn(),_a=Wn(),wa=v.__private__.decodeColorString=function(A){var B=A.split(" ");if(B.length!==2||B[1]!=="g"&&B[1]!=="G")B.length===5&&(B[4]==="k"||B[4]==="K")&&(B=[(1-B[0])*(1-B[3]),(1-B[1])*(1-B[3]),(1-B[2])*(1-B[3]),"r"]);else{var ae=parseFloat(B[0]);B=[ae,ae,ae,"r"]}for(var ve="#",Ee=0;Ee<3;Ee++)ve+=("0"+Math.floor(255*parseFloat(B[Ee])).toString(16)).slice(-2);return ve},Yr=v.__private__.encodeColorString=function(A){var B;typeof A=="string"&&(A={ch1:A});var ae=A.ch1,ve=A.ch2,Ee=A.ch3,De=A.ch4,$e=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ae=="string"&&ae.charAt(0)!=="#"){var at=new L6(ae);if(at.ok)ae=at.toHex();else if(!/^\d*\.?\d*$/.test(ae))throw new Error('Invalid color "'+ae+'" passed to jsPDF.encodeColorString.')}if(typeof ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ae)&&(ae="#"+ae[1]+ae[1]+ae[2]+ae[2]+ae[3]+ae[3]),typeof ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ae)){var bt=parseInt(ae.substr(1),16);ae=bt>>16&255,ve=bt>>8&255,Ee=255&bt}if(ve===void 0||De===void 0&&ae===ve&&ve===Ee)if(typeof ae=="string")B=ae+" "+$e[0];else switch(A.precision){case 2:B=ue(ae/255)+" "+$e[0];break;case 3:default:B=j(ae/255)+" "+$e[0]}else if(De===void 0||Rn(De)==="object"){if(De&&!isNaN(De.a)&&De.a===0)return B=["1.","1.","1.",$e[1]].join(" ");if(typeof ae=="string")B=[ae,ve,Ee,$e[1]].join(" ");else switch(A.precision){case 2:B=[ue(ae/255),ue(ve/255),ue(Ee/255),$e[1]].join(" ");break;default:case 3:B=[j(ae/255),j(ve/255),j(Ee/255),$e[1]].join(" ")}}else if(typeof ae=="string")B=[ae,ve,Ee,De,$e[2]].join(" ");else switch(A.precision){case 2:B=[ue(ae),ue(ve),ue(Ee),ue(De),$e[2]].join(" ");break;case 3:default:B=[j(ae),j(ve),j(Ee),j(De),$e[2]].join(" ")}return B},xa=v.__private__.getFilters=function(){return a},bs=v.__private__.putStream=function(A){var B=(A=A||{}).data||"",ae=A.filters||xa(),ve=A.alreadyAppliedFilters||[],Ee=A.addLength1||!1,De=B.length,$e=A.objectId,at=function(ci){return ci};if(d!==null&&$e===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(at=Yn.encryptor($e,0));var bt={};ae===!0&&(ae=["FlateEncode"]);var Dt=A.additionalKeyValues||[],Ft=(bt=Pt.API.processDataByFilters!==void 0?Pt.API.processDataByFilters(B,ae):{data:B,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(bt.data.length!==0&&(Dt.push({key:"Length",value:bt.data.length}),Ee===!0&&Dt.push({key:"Length1",value:De})),Ft.length!=0)if(Ft.split("/").length-1==1)Dt.push({key:"Filter",value:Ft});else{Dt.push({key:"Filter",value:"["+Ft+"]"});for(var en=0;en<Dt.length;en+=1)if(Dt[en].key==="DecodeParms"){for(var Xn=[],tr=0;tr<bt.reverseChain.split("/").length-1;tr+=1)Xn.push("null");Xn.push(Dt[en].value),Dt[en].value="["+Xn.join(" ")+"]"}}le("<<");for(var gr=0;gr<Dt.length;gr++)le("/"+Dt[gr].key+" "+Dt[gr].value);le(">>"),bt.data.length!==0&&(le("stream"),le(at(bt.data)),le("endstream"))},Za=v.__private__.putPage=function(A){var B=A.number,ae=A.data,ve=A.objId,Ee=A.contentsObjId;li(ve,!0),le("<</Type /Page"),le("/Parent "+A.rootDictionaryObjId+" 0 R"),le("/Resources "+A.resourceDictionaryObjId+" 0 R"),le("/MediaBox ["+parseFloat(U(A.mediaBox.bottomLeftX))+" "+parseFloat(U(A.mediaBox.bottomLeftY))+" "+U(A.mediaBox.topRightX)+" "+U(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&le("/CropBox ["+U(A.cropBox.bottomLeftX)+" "+U(A.cropBox.bottomLeftY)+" "+U(A.cropBox.topRightX)+" "+U(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&le("/BleedBox ["+U(A.bleedBox.bottomLeftX)+" "+U(A.bleedBox.bottomLeftY)+" "+U(A.bleedBox.topRightX)+" "+U(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&le("/TrimBox ["+U(A.trimBox.bottomLeftX)+" "+U(A.trimBox.bottomLeftY)+" "+U(A.trimBox.topRightX)+" "+U(A.trimBox.topRightY)+"]"),A.artBox!==null&&le("/ArtBox ["+U(A.artBox.bottomLeftX)+" "+U(A.artBox.bottomLeftY)+" "+U(A.artBox.topRightX)+" "+U(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&le("/UserUnit "+A.userUnit),hn.publish("putPage",{objId:ve,pageContext:It[B],pageNumber:B,page:ae}),le("/Contents "+Ee+" 0 R"),le(">>"),le("endobj");var De=ae.join(`
`);return R===P.ADVANCED&&(De+=`
Q`),li(Ee,!0),bs({data:De,filters:xa(),objectId:Ee}),le("endobj"),ve},kl=v.__private__.putPages=function(){var A,B,ae=[];for(A=1;A<=$n;A++)It[A].objId=Wn(),It[A].contentsObjId=Wn();for(A=1;A<=$n;A++)ae.push(Za({number:A,data:Me[A],objId:It[A].objId,contentsObjId:It[A].contentsObjId,mediaBox:It[A].mediaBox,cropBox:It[A].cropBox,bleedBox:It[A].bleedBox,trimBox:It[A].trimBox,artBox:It[A].artBox,userUnit:It[A].userUnit,rootDictionaryObjId:No,resourceDictionaryObjId:_a}));li(No,!0),le("<</Type /Pages");var ve="/Kids [";for(B=0;B<$n;B++)ve+=ae[B]+" 0 R ";le(ve+"]"),le("/Count "+$n),le(">>"),le("endobj"),hn.publish("postPutPages")},Pc=function(A){hn.publish("putFont",{font:A,out:le,newObject:Vn,putStream:bs}),A.isAlreadyPutted!==!0&&(A.objectNumber=Vn(),le("<<"),le("/Type /Font"),le("/BaseFont /"+Wm(A.postScriptName)),le("/Subtype /Type1"),typeof A.encoding=="string"&&le("/Encoding /"+A.encoding),le("/FirstChar 32"),le("/LastChar 255"),le(">>"),le("endobj"))},Tc=function(){for(var A in kn)kn.hasOwnProperty(A)&&(p===!1||p===!0&&y.hasOwnProperty(A))&&Pc(kn[A])},Lc=function(A){A.objectNumber=Vn();var B=[];B.push({key:"Type",value:"/XObject"}),B.push({key:"Subtype",value:"/Form"}),B.push({key:"BBox",value:"["+[U(A.x),U(A.y),U(A.x+A.width),U(A.y+A.height)].join(" ")+"]"}),B.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var ae=A.pages[1].join(`
`);bs({data:ae,additionalKeyValues:B,objectId:A.objectNumber}),le("endobj")},Qu=function(){for(var A in Br)Br.hasOwnProperty(A)&&Lc(Br[A])},im=function(A,B){var ae,ve=[],Ee=1/(B-1);for(ae=0;ae<1;ae+=Ee)ve.push(ae);if(ve.push(1),A[0].offset!=0){var De={offset:0,color:A[0].color};A.unshift(De)}if(A[A.length-1].offset!=1){var $e={offset:1,color:A[A.length-1].color};A.push($e)}for(var at="",bt=0,Dt=0;Dt<ve.length;Dt++){for(ae=ve[Dt];ae>A[bt+1].offset;)bt++;var Ft=A[bt].offset,en=(ae-Ft)/(A[bt+1].offset-Ft),Xn=A[bt].color,tr=A[bt+1].color;at+=oe(Math.round((1-en)*Xn[0]+en*tr[0]).toString(16))+oe(Math.round((1-en)*Xn[1]+en*tr[1]).toString(16))+oe(Math.round((1-en)*Xn[2]+en*tr[2]).toString(16))}return at.trim()},Gn=function(A,B){B||(B=21);var ae=Vn(),ve=im(A.colors,B),Ee=[];Ee.push({key:"FunctionType",value:"0"}),Ee.push({key:"Domain",value:"[0.0 1.0]"}),Ee.push({key:"Size",value:"["+B+"]"}),Ee.push({key:"BitsPerSample",value:"8"}),Ee.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ee.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),bs({data:ve,additionalKeyValues:Ee,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ae}),le("endobj"),A.objectNumber=Vn(),le("<< /ShadingType "+A.type),le("/ColorSpace /DeviceRGB");var De="/Coords ["+U(parseFloat(A.coords[0]))+" "+U(parseFloat(A.coords[1]))+" ";A.type===2?De+=U(parseFloat(A.coords[2]))+" "+U(parseFloat(A.coords[3])):De+=U(parseFloat(A.coords[2]))+" "+U(parseFloat(A.coords[3]))+" "+U(parseFloat(A.coords[4]))+" "+U(parseFloat(A.coords[5])),le(De+="]"),A.matrix&&le("/Matrix ["+A.matrix.toString()+"]"),le("/Function "+ae+" 0 R"),le("/Extend [true true]"),le(">>"),le("endobj")},x0=function(A,B){var ae=Wn(),ve=Vn();B.push({resourcesOid:ae,objectOid:ve}),A.objectNumber=ve;var Ee=[];Ee.push({key:"Type",value:"/Pattern"}),Ee.push({key:"PatternType",value:"1"}),Ee.push({key:"PaintType",value:"1"}),Ee.push({key:"TilingType",value:"1"}),Ee.push({key:"BBox",value:"["+A.boundingBox.map(U).join(" ")+"]"}),Ee.push({key:"XStep",value:U(A.xStep)}),Ee.push({key:"YStep",value:U(A.yStep)}),Ee.push({key:"Resources",value:ae+" 0 R"}),A.matrix&&Ee.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),bs({data:A.stream,additionalKeyValues:Ee,objectId:A.objectNumber}),le("endobj")},El=function(A){var B;for(B in ln)ln.hasOwnProperty(B)&&(ln[B]instanceof Nf?Gn(ln[B]):ln[B]instanceof Xm&&x0(ln[B],A))},qd=function(A){for(var B in A.objectNumber=Vn(),le("<<"),A)switch(B){case"opacity":le("/ca "+ue(A[B]));break;case"stroke-opacity":le("/CA "+ue(A[B]))}le(">>"),le("endobj")},Zu=function(){var A;for(A in Un)Un.hasOwnProperty(A)&&qd(Un[A])},Hd=function(){for(var A in le("/XObject <<"),Br)Br.hasOwnProperty(A)&&Br[A].objectNumber>=0&&le("/"+A+" "+Br[A].objectNumber+" 0 R");hn.publish("putXobjectDict"),le(">>")},sm=function(){Yn.oid=Vn(),le("<<"),le("/Filter /Standard"),le("/V "+Yn.v),le("/R "+Yn.r),le("/U <"+Yn.toHexString(Yn.U)+">"),le("/O <"+Yn.toHexString(Yn.O)+">"),le("/P "+Yn.P),le(">>"),le("endobj")},Nc=function(){for(var A in le("/Font <<"),kn)kn.hasOwnProperty(A)&&(p===!1||p===!0&&y.hasOwnProperty(A))&&le("/"+A+" "+kn[A].objectNumber+" 0 R");le(">>")},$s=function(){if(Object.keys(ln).length>0){for(var A in le("/Shading <<"),ln)ln.hasOwnProperty(A)&&ln[A]instanceof Nf&&ln[A].objectNumber>=0&&le("/"+A+" "+ln[A].objectNumber+" 0 R");hn.publish("putShadingPatternDict"),le(">>")}},eh=function(A){if(Object.keys(ln).length>0){for(var B in le("/Pattern <<"),ln)ln.hasOwnProperty(B)&&ln[B]instanceof v.TilingPattern&&ln[B].objectNumber>=0&&ln[B].objectNumber<A&&le("/"+B+" "+ln[B].objectNumber+" 0 R");hn.publish("putTilingPatternDict"),le(">>")}},_s=function(){if(Object.keys(Un).length>0){var A;for(A in le("/ExtGState <<"),Un)Un.hasOwnProperty(A)&&Un[A].objectNumber>=0&&le("/"+A+" "+Un[A].objectNumber+" 0 R");hn.publish("putGStateDict"),le(">>")}},or=function(A){li(A.resourcesOid,!0),le("<<"),le("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Nc(),$s(),eh(A.objectOid),_s(),Hd(),le(">>"),le("endobj")},am=function(){var A=[];Tc(),Zu(),Qu(),El(A),hn.publish("putResources"),A.forEach(or),or({resourcesOid:_a,objectOid:Number.MAX_SAFE_INTEGER}),hn.publish("postPutResources")},om=function(){hn.publish("putAdditionalObjects");for(var A=0;A<ze.length;A++){var B=ze[A];li(B.objId,!0),le(B.content),le("endobj")}hn.publish("postPutAdditionalObjects")},Rc=function(A){In[A.fontName]=In[A.fontName]||{},In[A.fontName][A.fontStyle]=A.id},Pl=function(A,B,ae,ve,Ee){var De={id:"F"+(Object.keys(kn).length+1).toString(10),postScriptName:A,fontName:B,fontStyle:ae,encoding:ve,isStandardFont:Ee||!1,metadata:{}};return hn.publish("addFont",{font:De,instance:this}),kn[De.id]=De,Rc(De),De.id},Ic=function(A){for(var B=0,ae=Ye.length;B<ae;B++){var ve=Pl.call(this,A[B][0],A[B][1],A[B][2],Ye[B][3],!0);p===!1&&(y[ve]=!0);var Ee=A[B][0].split("-");Rc({id:ve,fontName:Ee[0],fontStyle:Ee[1]||""})}hn.publish("addFonts",{fonts:kn,dictionary:In})},Hi=function(A){return A.foo=function(){try{return A.apply(this,arguments)}catch(ve){var B=ve.stack||"";~B.indexOf(" at ")&&(B=B.split(" at ")[1]);var ae="Error in function "+B.split(`
`)[0].split("<")[0]+": "+ve.message;if(!Lt.console)throw new Error(ae);Lt.console.error(ae,ve),Lt.alert&&alert(ae)}},A.foo.bar=A,A.foo},th=function(A,B){var ae,ve,Ee,De,$e,at,bt,Dt,Ft;if(Ee=(B=B||{}).sourceEncoding||"Unicode",$e=B.outputEncoding,(B.autoencode||$e)&&kn[Rt].metadata&&kn[Rt].metadata[Ee]&&kn[Rt].metadata[Ee].encoding&&(De=kn[Rt].metadata[Ee].encoding,!$e&&kn[Rt].encoding&&($e=kn[Rt].encoding),!$e&&De.codePages&&($e=De.codePages[0]),typeof $e=="string"&&($e=De[$e]),$e)){for(bt=!1,at=[],ae=0,ve=A.length;ae<ve;ae++)(Dt=$e[A.charCodeAt(ae)])?at.push(String.fromCharCode(Dt)):at.push(A[ae]),at[ae].charCodeAt(0)>>8&&(bt=!0);A=at.join("")}for(ae=A.length;bt===void 0&&ae!==0;)A.charCodeAt(ae-1)>>8&&(bt=!0),ae--;if(!bt)return A;for(at=B.noBOM?[]:[254,255],ae=0,ve=A.length;ae<ve;ae++){if((Ft=(Dt=A.charCodeAt(ae))>>8)>>8)throw new Error("Character at position "+ae+" of string '"+A+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");at.push(Ft),at.push(Dt-(Ft<<8))}return String.fromCharCode.apply(void 0,at)},$i=v.__private__.pdfEscape=v.pdfEscape=function(A,B){return th(A,B).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Mc=v.__private__.beginPage=function(A){Me[++$n]=[],It[$n]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},Tl($n),Re(Me[K])},$d=function(A,B){var ae,ve,Ee;switch(t=B||t,typeof A=="string"&&(ae=S(A.toLowerCase()),Array.isArray(ae)&&(ve=ae[0],Ee=ae[1])),Array.isArray(A)&&(ve=A[0]*rt,Ee=A[1]*rt),isNaN(ve)&&(ve=r[0],Ee=r[1]),(ve>14400||Ee>14400)&&(jn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),Ee=Math.min(14400,Ee)),r=[ve,Ee],t.substr(0,1)){case"l":Ee>ve&&(r=[Ee,ve]);break;case"p":ve>Ee&&(r=[Ee,ve])}Mc(r),Bc(Yd),le(Vi),Kd!==0&&le(Kd+" J"),Uc!==0&&le(Uc+" j"),hn.publish("addPage",{pageNumber:$n})},Vd=function(A){A>0&&A<=$n&&(Me.splice(A,1),It.splice(A,1),$n--,K>$n&&(K=$n),this.setPage(K))},Tl=function(A){A>0&&A<=$n&&(K=A)},S0=v.__private__.getNumberOfPages=v.getNumberOfPages=function(){return Me.length-1},nh=function(A,B,ae){var ve,Ee=void 0;return ae=ae||{},A=A!==void 0?A:kn[Rt].fontName,B=B!==void 0?B:kn[Rt].fontStyle,ve=A.toLowerCase(),In[ve]!==void 0&&In[ve][B]!==void 0?Ee=In[ve][B]:In[A]!==void 0&&In[A][B]!==void 0?Ee=In[A][B]:ae.disableWarning===!1&&jn.warn("Unable to look up font label for font '"+A+"', '"+B+"'. Refer to getFontList() for available fonts."),Ee||ae.noFallback||(Ee=In.times[B])==null&&(Ee=In.times.normal),Ee},dn=v.__private__.putInfo=function(){var A=Vn(),B=function(ve){return ve};for(var ae in d!==null&&(B=Yn.encryptor(A,0)),le("<<"),le("/Producer ("+$i(B("jsPDF "+Pt.version))+")"),xt)xt.hasOwnProperty(ae)&&xt[ae]&&le("/"+ae.substr(0,1).toUpperCase()+ae.substr(1)+" ("+$i(B(xt[ae]))+")");le("/CreationDate ("+$i(B(pe))+")"),le(">>"),le("endobj")},rh=v.__private__.putCatalog=function(A){var B=(A=A||{}).rootDictionaryObjId||No;switch(Vn(),le("<<"),le("/Type /Catalog"),le("/Pages "+B+" 0 R"),Qe||(Qe="fullwidth"),Qe){case"fullwidth":le("/OpenAction [3 0 R /FitH null]");break;case"fullheight":le("/OpenAction [3 0 R /FitV null]");break;case"fullpage":le("/OpenAction [3 0 R /Fit]");break;case"original":le("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ae=""+Qe;ae.substr(ae.length-1)==="%"&&(Qe=parseInt(Qe)/100),typeof Qe=="number"&&le("/OpenAction [3 0 R /XYZ null null "+ue(Qe)+"]")}switch(Ht||(Ht="continuous"),Ht){case"continuous":le("/PageLayout /OneColumn");break;case"single":le("/PageLayout /SinglePage");break;case"two":case"twoleft":le("/PageLayout /TwoColumnLeft");break;case"tworight":le("/PageLayout /TwoColumnRight")}Tt&&le("/PageMode /"+Tt),hn.publish("putCatalog"),le(">>"),le("endobj")},lm=v.__private__.putTrailer=function(){le("trailer"),le("<<"),le("/Size "+(de+1)),le("/Root "+de+" 0 R"),le("/Info "+(de-1)+" 0 R"),d!==null&&le("/Encrypt "+Yn.oid+" 0 R"),le("/ID [ <"+fe+"> <"+fe+"> ]"),le(">>")},Wd=v.__private__.putHeader=function(){le("%PDF-"+x),le("%ºß¬à")},cm=v.__private__.putXRef=function(){var A="0000000000";le("xref"),le("0 "+(de+1)),le("0000000000 65535 f ");for(var B=1;B<=de;B++)typeof ge[B]=="function"?le((A+ge[B]()).slice(-10)+" 00000 n "):ge[B]!==void 0?le((A+ge[B]).slice(-10)+" 00000 n "):le("0000000000 00000 n ")},eo=v.__private__.buildDocument=function(){it(),Re(Ce),hn.publish("buildDocument"),Wd(),kl(),om(),am(),d!==null&&sm(),dn(),rh();var A=ke;return cm(),lm(),le("startxref"),le(""+A),le("%%EOF"),Re(Me[K]),Ce.join(`
`)},Oc=v.__private__.getBlob=function(A){return new Blob([ct(A)],{type:"application/pdf"})},Ll=v.output=v.__private__.output=Hi(function(A,B){switch(typeof(B=B||{})=="string"?B={filename:B}:B.filename=B.filename||"generated.pdf",A){case void 0:return eo();case"save":v.save(B.filename);break;case"arraybuffer":return ct(eo());case"blob":return Oc(eo());case"bloburi":case"bloburl":if(Lt.URL!==void 0&&typeof Lt.URL.createObjectURL=="function")return Lt.URL&&Lt.URL.createObjectURL(Oc(eo()))||void 0;jn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ae="",ve=eo();try{ae=yS(ve)}catch{ae=yS(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+B.filename+";base64,"+ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Lt)==="[object Window]"){var Ee="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",De=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';B.pdfObjectUrl&&(Ee=B.pdfObjectUrl,De="");var $e='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ee+'"'+De+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(B)+");<\/script></body></html>",at=Lt.open();return at!==null&&at.document.write($e),at}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Lt)==="[object Window]"){var bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(B.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+B.filename+'" width="500px" height="400px" /></body></html>',Dt=Lt.open();if(Dt!==null){Dt.document.write(bt);var Ft=this;Dt.document.documentElement.querySelector("#pdfViewer").onload=function(){Dt.document.title=B.filename,Dt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ft.output("bloburl"))}}return Dt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Lt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var en='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",B)+'"></iframe></body></html>',Xn=Lt.open();if(Xn!==null&&(Xn.document.write(en),Xn.document.title=B.filename),Xn||typeof safari>"u")return Xn;break;case"datauri":case"dataurl":return Lt.document.location.href=this.output("datauristring",B);default:return null}}),Fc=function(A){return Array.isArray(Al)===!0&&Al.indexOf(A)>-1};switch(n){case"pt":rt=1;break;case"mm":rt=72/25.4;break;case"cm":rt=72/2.54;break;case"in":rt=72;break;case"px":rt=Fc("px_scaling")==1?.75:96/72;break;case"pc":case"em":rt=12;break;case"ex":rt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);rt=n}var Yn=null;se(),ne();var to=function(A){return d!==null?Yn.encryptor(A,0):function(B){return B}},Sa=v.__private__.getPageInfo=v.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:It[A].objId,pageNumber:A,pageContext:It[A]}},Et=v.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var B in It)if(It[B].objId===A)break;return Sa(B)},Dc=v.__private__.getCurrentPageInfo=v.getCurrentPageInfo=function(){return{objId:It[K].objId,pageNumber:K,pageContext:It[K]}};v.addPage=function(){return $d.apply(this,arguments),this},v.setPage=function(){return Tl.apply(this,arguments),Re.call(this,Me[K]),this},v.insertPage=function(A){return this.addPage(),this.movePage(K,A),this},v.movePage=function(A,B){var ae,ve;if(A>B){ae=Me[A],ve=It[A];for(var Ee=A;Ee>B;Ee--)Me[Ee]=Me[Ee-1],It[Ee]=It[Ee-1];Me[B]=ae,It[B]=ve,this.setPage(B)}else if(A<B){ae=Me[A],ve=It[A];for(var De=A;De<B;De++)Me[De]=Me[De+1],It[De]=It[De+1];Me[B]=ae,It[B]=ve,this.setPage(B)}return this},v.deletePage=function(){return Vd.apply(this,arguments),this},v.__private__.text=v.text=function(A,B,ae,ve,Ee){var De,$e,at,bt,Dt,Ft,en,Xn,tr,gr=(ve=ve||{}).scope||this;if(typeof A=="number"&&typeof B=="number"&&(typeof ae=="string"||Array.isArray(ae))){var ci=ae;ae=B,B=A,A=ci}if(arguments[3]instanceof _t?(D("The transform parameter of text() with a Matrix value"),tr=Ee):(at=arguments[4],bt=arguments[5],Rn(en=arguments[3])==="object"&&en!==null||(typeof at=="string"&&(bt=at,at=null),typeof en=="string"&&(bt=en,en=null),typeof en=="number"&&(at=en,en=null),ve={flags:en,angle:at,align:bt})),isNaN(B)||isNaN(ae)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return gr;var zr="",Ea=!1,xs=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:jc,Gs=gr.internal.scaleFactor;function Dl(En){return En=En.split("	").join(Array(ve.TabLen||9).join(" ")),$i(En,en)}function Zd(En){for(var vn,rr=En.concat(),yr=[],oo=rr.length;oo--;)typeof(vn=rr.shift())=="string"?yr.push(vn):Array.isArray(En)&&(vn.length===1||vn[1]===void 0&&vn[2]===void 0)?yr.push(vn[0]):yr.push([vn[0],vn[1],vn[2]]);return yr}function fh(En,vn){var rr;if(typeof En=="string")rr=vn(En)[0];else if(Array.isArray(En)){for(var yr,oo,Sh=En.concat(),Xc=[],nf=Sh.length;nf--;)typeof(yr=Sh.shift())=="string"?Xc.push(vn(yr)[0]):Array.isArray(yr)&&typeof yr[0]=="string"&&(oo=vn(yr[0],yr[1],yr[2]),Xc.push([oo[0],oo[1],oo[2]]));rr=Xc}return rr}var qc=!1,ph=!0;if(typeof A=="string")qc=!0;else if(Array.isArray(A)){var mh=A.concat();$e=[];for(var Hc,nr=mh.length;nr--;)(typeof(Hc=mh.shift())!="string"||Array.isArray(Hc)&&typeof Hc[0]!="string")&&(ph=!1);qc=ph}if(qc===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var gh=Je/gr.internal.scaleFactor,yh=gh*(xs-1);switch(ve.baseline){case"bottom":ae-=yh;break;case"top":ae+=gh-yh;break;case"hanging":ae+=gh-2*yh;break;case"middle":ae+=gh/2-yh}if((Ft=ve.maxWidth||0)>0&&(typeof A=="string"?A=gr.splitTextToSize(A,Ft):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(En,vn){return En.concat(gr.splitTextToSize(vn,Ft))},[]))),De={text:A,x:B,y:ae,options:ve,mutex:{pdfEscape:$i,activeFontKey:Rt,fonts:kn,activeFontSize:Je}},hn.publish("preProcessText",De),A=De.text,at=(ve=De.options).angle,!(tr instanceof _t)&&at&&typeof at=="number"){at*=Math.PI/180,ve.rotationDirection===0&&(at=-at),R===P.ADVANCED&&(at=-at);var vh=Math.cos(at),bh=Math.sin(at);tr=new _t(vh,bh,-bh,vh,0,0)}else at&&at instanceof _t&&(tr=at);R!==P.ADVANCED||tr||(tr=Ui),(Dt=ve.charSpace||Ml)!==void 0&&(zr+=U(V(Dt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Xn=ve.horizontalScale)!==void 0&&(zr+=U(100*Xn)+` Tz
`),ve.lang;var ki=-1,$c=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,Mo=gr.internal.getCurrentPageInfo().pageContext;switch($c){case 0:case!1:case"fill":ki=0;break;case 1:case!0:case"stroke":ki=1;break;case 2:case"fillThenStroke":ki=2;break;case 3:case"invisible":ki=3;break;case 4:case"fillAndAddForClipping":ki=4;break;case 5:case"strokeAndAddPathForClipping":ki=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ki=6;break;case 7:case"addToPathForClipping":ki=7}var fm=Mo.usedRenderingMode!==void 0?Mo.usedRenderingMode:-1;ki!==-1?zr+=ki+` Tr
`:fm!==-1&&(zr+=`0 Tr
`),ki!==-1&&(Mo.usedRenderingMode=ki),bt=ve.align||"left";var Ei,_h=Je*xs,ef=gr.internal.pageSize.getWidth(),wh=kn[Rt];Dt=ve.charSpace||Ml,Ft=ve.maxWidth||0,en=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var so=[],jl=function(En){return gr.getStringUnitWidth(En,{font:wh,charSpace:Dt,fontSize:Je,doKerning:!1})*Je/Gs};if(Object.prototype.toString.call(A)==="[object Array]"){var Pi;$e=Zd(A),bt!=="left"&&(Ei=$e.map(jl));var ui,Bl=0;if(bt==="right"){B-=Ei[0],A=[],nr=$e.length;for(var Oo=0;Oo<nr;Oo++)Oo===0?(ui=Vs(B),Pi=Ws(ae)):(ui=V(Bl-Ei[Oo]),Pi=-_h),A.push([$e[Oo],ui,Pi]),Bl=Ei[Oo]}else if(bt==="center"){B-=Ei[0]/2,A=[],nr=$e.length;for(var Fo=0;Fo<nr;Fo++)Fo===0?(ui=Vs(B),Pi=Ws(ae)):(ui=V((Bl-Ei[Fo])/2),Pi=-_h),A.push([$e[Fo],ui,Pi]),Bl=Ei[Fo]}else if(bt==="left"){A=[],nr=$e.length;for(var xh=0;xh<nr;xh++)A.push($e[xh])}else if(bt==="justify"&&wh.encoding==="Identity-H"){A=[],nr=$e.length,Ft=Ft!==0?Ft:ef;for(var Do=0,fn=0;fn<nr;fn++)if(Pi=fn===0?Ws(ae):-_h,ui=fn===0?Vs(B):Do,fn<nr-1){var jo=V((Ft-Ei[fn])/($e[fn].split(" ").length-1)),hi=$e[fn].split(" ");A.push([hi[0]+" ",ui,Pi]),Do=0;for(var Ss=1;Ss<hi.length;Ss++){var Vc=(jl(hi[Ss-1]+" "+hi[Ss])-jl(hi[Ss]))*Gs+jo;Ss==hi.length-1?A.push([hi[Ss],Vc,0]):A.push([hi[Ss]+" ",Vc,0]),Do-=Vc}}else A.push([$e[fn],ui,Pi]);A.push(["",Do,0])}else{if(bt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],nr=$e.length,Ft=Ft!==0?Ft:ef,fn=0;fn<nr;fn++)Pi=fn===0?Ws(ae):-_h,ui=fn===0?Vs(B):0,fn<nr-1?so.push(U(V((Ft-Ei[fn])/($e[fn].split(" ").length-1)))):so.push(0),A.push([$e[fn],ui,Pi])}}var tf=typeof ve.R2L=="boolean"?ve.R2L:gt;tf===!0&&(A=fh(A,function(En,vn,rr){return[En.split("").reverse().join(""),vn,rr]})),De={text:A,x:B,y:ae,options:ve,mutex:{pdfEscape:$i,activeFontKey:Rt,fonts:kn,activeFontSize:Je}},hn.publish("postProcessText",De),A=De.text,Ea=De.mutex.isHex||!1;var Wc=kn[Rt].encoding;Wc!=="WinAnsiEncoding"&&Wc!=="StandardEncoding"||(A=fh(A,function(En,vn,rr){return[Dl(En),vn,rr]})),$e=Zd(A),A=[];for(var Gc,Yc,As,Bo=0,ao=1,zo=Array.isArray($e[0])?ao:Bo,Uo="",zl=function(En,vn,rr){var yr="";return rr instanceof _t?(rr=typeof ve.angle=="number"?vs(rr,new _t(1,0,0,1,En,vn)):vs(new _t(1,0,0,1,En,vn),rr),R===P.ADVANCED&&(rr=vs(new _t(1,0,0,-1,0,0),rr)),yr=rr.join(" ")+` Tm
`):yr=U(En)+" "+U(vn)+` Td
`,yr},Xr=0;Xr<$e.length;Xr++){switch(Uo="",zo){case ao:As=(Ea?"<":"(")+$e[Xr][0]+(Ea?">":")"),Gc=parseFloat($e[Xr][1]),Yc=parseFloat($e[Xr][2]);break;case Bo:As=(Ea?"<":"(")+$e[Xr]+(Ea?">":")"),Gc=Vs(B),Yc=Ws(ae)}so!==void 0&&so[Xr]!==void 0&&(Uo=so[Xr]+` Tw
`),Xr===0?A.push(Uo+zl(Gc,Yc,tr)+As):zo===Bo?A.push(Uo+As):zo===ao&&A.push(Uo+zl(Gc,Yc,tr)+As)}A=zo===Bo?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var Wi=`BT
/`;return Wi+=Rt+" "+Je+` Tf
`,Wi+=U(Je*xs)+` TL
`,Wi+=kr+`
`,Wi+=zr,Wi+=A,le(Wi+="ET"),y[Rt]=!0,gr};var no=v.__private__.clip=v.clip=function(A){return le(A==="evenodd"?"W*":"W"),this};v.clipEvenOdd=function(){return no("evenodd")},v.__private__.discardPath=v.discardPath=function(){return le("n"),this};var ro=v.__private__.isValidStyle=function(A){var B=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(B=!0),B};v.__private__.setDefaultPathOperation=v.setDefaultPathOperation=function(A){return ro(A)&&(h=A),this};var Gd=v.__private__.getStyle=v.getStyle=function(A){var B=h;switch(A){case"D":case"S":B="S";break;case"F":B="f";break;case"FD":case"DF":B="B";break;case"f":case"f*":case"B":case"B*":B=A}return B},Nl=v.close=function(){return le("h"),this};v.stroke=function(){return le("S"),this},v.fill=function(A){return ih("f",A),this},v.fillEvenOdd=function(A){return ih("f*",A),this},v.fillStroke=function(A){return ih("B",A),this},v.fillStrokeEvenOdd=function(A){return ih("B*",A),this};var ih=function(A,B){Rn(B)==="object"?um(B,A):le(A)},sh=function(A){A===null||R===P.ADVANCED&&A===void 0||(A=Gd(A),le(A))};function ah(A,B,ae,ve,Ee){var De=new Xm(B||this.boundingBox,ae||this.xStep,ve||this.yStep,this.gState,Ee||this.matrix);De.stream=this.stream;var $e=A+"$$"+this.cloneIndex+++"$$";return qi($e,De),De}var um=function(A,B){var ae=Lo[A.key],ve=ln[ae];if(ve instanceof Nf)le("q"),le(A0(B)),ve.gState&&v.setGState(ve.gState),le(A.matrix.toString()+" cm"),le("/"+ae+" sh"),le("Q");else if(ve instanceof Xm){var Ee=new _t(1,0,0,-1,0,Fl());A.matrix&&(Ee=Ee.multiply(A.matrix||Ui),ae=ah.call(ve,A.key,A.boundingBox,A.xStep,A.yStep,Ee).id),le("q"),le("/Pattern cs"),le("/"+ae+" scn"),ve.gState&&v.setGState(ve.gState),le(B),le("Q")}},A0=function(A){switch(A){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ro=v.moveTo=function(A,B){return le(U(V(A))+" "+U(re(B))+" m"),this},Aa=v.lineTo=function(A,B){return le(U(V(A))+" "+U(re(B))+" l"),this},ws=v.curveTo=function(A,B,ae,ve,Ee,De){return le([U(V(A)),U(re(B)),U(V(ae)),U(re(ve)),U(V(Ee)),U(re(De)),"c"].join(" ")),this};v.__private__.line=v.line=function(A,B,ae,ve,Ee){if(isNaN(A)||isNaN(B)||isNaN(ae)||isNaN(ve)||!ro(Ee))throw new Error("Invalid arguments passed to jsPDF.line");return R===P.COMPAT?this.lines([[ae-A,ve-B]],A,B,[1,1],Ee||"S"):this.lines([[ae-A,ve-B]],A,B,[1,1]).stroke()},v.__private__.lines=v.lines=function(A,B,ae,ve,Ee,De){var $e,at,bt,Dt,Ft,en,Xn,tr,gr,ci,zr,Ea;if(typeof A=="number"&&(Ea=ae,ae=B,B=A,A=Ea),ve=ve||[1,1],De=De||!1,isNaN(B)||isNaN(ae)||!Array.isArray(A)||!Array.isArray(ve)||!ro(Ee)||typeof De!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ro(B,ae),$e=ve[0],at=ve[1],Dt=A.length,ci=B,zr=ae,bt=0;bt<Dt;bt++)(Ft=A[bt]).length===2?(ci=Ft[0]*$e+ci,zr=Ft[1]*at+zr,Aa(ci,zr)):(en=Ft[0]*$e+ci,Xn=Ft[1]*at+zr,tr=Ft[2]*$e+ci,gr=Ft[3]*at+zr,ci=Ft[4]*$e+ci,zr=Ft[5]*at+zr,ws(en,Xn,tr,gr,ci,zr));return De&&Nl(),sh(Ee),this},v.path=function(A){for(var B=0;B<A.length;B++){var ae=A[B],ve=ae.c;switch(ae.op){case"m":Ro(ve[0],ve[1]);break;case"l":Aa(ve[0],ve[1]);break;case"c":ws.apply(this,ve);break;case"h":Nl()}}return this},v.__private__.rect=v.rect=function(A,B,ae,ve,Ee){if(isNaN(A)||isNaN(B)||isNaN(ae)||isNaN(ve)||!ro(Ee))throw new Error("Invalid arguments passed to jsPDF.rect");return R===P.COMPAT&&(ve=-ve),le([U(V(A)),U(re(B)),U(V(ae)),U(V(ve)),"re"].join(" ")),sh(Ee),this},v.__private__.triangle=v.triangle=function(A,B,ae,ve,Ee,De,$e){if(isNaN(A)||isNaN(B)||isNaN(ae)||isNaN(ve)||isNaN(Ee)||isNaN(De)||!ro($e))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ae-A,ve-B],[Ee-ae,De-ve],[A-Ee,B-De]],A,B,[1,1],$e,!0),this},v.__private__.roundedRect=v.roundedRect=function(A,B,ae,ve,Ee,De,$e){if(isNaN(A)||isNaN(B)||isNaN(ae)||isNaN(ve)||isNaN(Ee)||isNaN(De)||!ro($e))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var at=4/3*(Math.SQRT2-1);return Ee=Math.min(Ee,.5*ae),De=Math.min(De,.5*ve),this.lines([[ae-2*Ee,0],[Ee*at,0,Ee,De-De*at,Ee,De],[0,ve-2*De],[0,De*at,-Ee*at,De,-Ee,De],[2*Ee-ae,0],[-Ee*at,0,-Ee,-De*at,-Ee,-De],[0,2*De-ve],[0,-De*at,Ee*at,-De,Ee,-De]],A+Ee,B,[1,1],$e,!0),this},v.__private__.ellipse=v.ellipse=function(A,B,ae,ve,Ee){if(isNaN(A)||isNaN(B)||isNaN(ae)||isNaN(ve)||!ro(Ee))throw new Error("Invalid arguments passed to jsPDF.ellipse");var De=4/3*(Math.SQRT2-1)*ae,$e=4/3*(Math.SQRT2-1)*ve;return Ro(A+ae,B),ws(A+ae,B-$e,A+De,B-ve,A,B-ve),ws(A-De,B-ve,A-ae,B-$e,A-ae,B),ws(A-ae,B+$e,A-De,B+ve,A,B+ve),ws(A+De,B+ve,A+ae,B+$e,A+ae,B),sh(Ee),this},v.__private__.circle=v.circle=function(A,B,ae,ve){if(isNaN(A)||isNaN(B)||isNaN(ae)||!ro(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,B,ae,ae,ve)},v.setFont=function(A,B,ae){return ae&&(B=$(B,ae)),Rt=nh(A,B,{disableWarning:!1}),this};var oh=v.__private__.getFont=v.getFont=function(){return kn[nh.apply(v,arguments)]};v.__private__.getFontList=v.getFontList=function(){var A,B,ae={};for(A in In)if(In.hasOwnProperty(A))for(B in ae[A]=[],In[A])In[A].hasOwnProperty(B)&&ae[A].push(B);return ae},v.addFont=function(A,B,ae,ve,Ee){var De=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&De.indexOf(arguments[3])!==-1?Ee=arguments[3]:arguments[3]&&De.indexOf(arguments[3])==-1&&(ae=$(ae,ve)),Ee=Ee||"Identity-H",Pl.call(this,A,B,ae,Ee)};var jc,Yd=i.lineWidth||.200025,Rl=v.__private__.getLineWidth=v.getLineWidth=function(){return Yd},Bc=v.__private__.setLineWidth=v.setLineWidth=function(A){return Yd=A,le(U(V(A))+" w"),this};v.__private__.setLineDash=Pt.API.setLineDash=Pt.API.setLineDashPattern=function(A,B){if(A=A||[],B=B||0,isNaN(B)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(ae){return U(V(ae))}).join(" "),B=U(V(B)),le("["+A+"] "+B+" d"),this};var lh=v.__private__.getLineHeight=v.getLineHeight=function(){return Je*jc};v.__private__.getLineHeight=v.getLineHeight=function(){return Je*jc};var Xd=v.__private__.setLineHeightFactor=v.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(jc=A),this},Ca=v.__private__.getLineHeightFactor=v.getLineHeightFactor=function(){return jc};Xd(i.lineHeight);var Vs=v.__private__.getHorizontalCoordinate=function(A){return V(A)},Ws=v.__private__.getVerticalCoordinate=function(A){return R===P.ADVANCED?A:It[K].mediaBox.topRightY-It[K].mediaBox.bottomLeftY-V(A)},hm=v.__private__.getHorizontalCoordinateString=v.getHorizontalCoordinateString=function(A){return U(Vs(A))},ka=v.__private__.getVerticalCoordinateString=v.getVerticalCoordinateString=function(A){return U(Ws(A))},Vi=i.strokeColor||"0 G";v.__private__.getStrokeColor=v.getDrawColor=function(){return wa(Vi)},v.__private__.setStrokeColor=v.setDrawColor=function(A,B,ae,ve){return Vi=Yr({ch1:A,ch2:B,ch3:ae,ch4:ve,pdfColorType:"draw",precision:2}),le(Vi),this};var ch=i.fillColor||"0 g";v.__private__.getFillColor=v.getFillColor=function(){return wa(ch)},v.__private__.setFillColor=v.setFillColor=function(A,B,ae,ve){return ch=Yr({ch1:A,ch2:B,ch3:ae,ch4:ve,pdfColorType:"fill",precision:2}),le(ch),this};var kr=i.textColor||"0 g",Il=v.__private__.getTextColor=v.getTextColor=function(){return wa(kr)};v.__private__.setTextColor=v.setTextColor=function(A,B,ae,ve){return kr=Yr({ch1:A,ch2:B,ch3:ae,ch4:ve,pdfColorType:"text",precision:3}),this};var Ml=i.charSpace,zc=v.__private__.getCharSpace=v.getCharSpace=function(){return parseFloat(Ml||0)};v.__private__.setCharSpace=v.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ml=A,this};var Kd=0;v.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},v.__private__.setLineCap=v.setLineCap=function(A){var B=v.CapJoinStyles[A];if(B===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Kd=B,le(B+" J"),this};var Uc=0;v.__private__.setLineJoin=v.setLineJoin=function(A){var B=v.CapJoinStyles[A];if(B===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Uc=B,le(B+" j"),this},v.__private__.setLineMiterLimit=v.__private__.setMiterLimit=v.setLineMiterLimit=v.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return le(U(V(A))+" M"),this},v.GState=Ob,v.setGState=function(A){(A=typeof A=="string"?Un[oi[A]]:uh(null,A)).equals(zi)||(le("/"+A.id+" gs"),zi=A)};var uh=function(A,B){if(!A||!oi[A]){var ae=!1;for(var ve in Un)if(Un.hasOwnProperty(ve)&&Un[ve].equals(B)){ae=!0;break}if(ae)B=Un[ve];else{var Ee="GS"+(Object.keys(Un).length+1).toString(10);Un[Ee]=B,B.id=Ee}return A&&(oi[A]=B.id),hn.publish("addGState",B),B}};v.addGState=function(A,B){return uh(A,B),this},v.saveGraphicsState=function(){return le("q"),qs.push({key:Rt,size:Je,color:kr}),this},v.restoreGraphicsState=function(){le("Q");var A=qs.pop();return Rt=A.key,Je=A.size,kr=A.color,zi=null,this},v.setCurrentTransformationMatrix=function(A){return le(A.toString()+" cm"),this},v.comment=function(A){return le("#"+A),this};var io=function(A,B){var ae=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ae},set:function(De){isNaN(De)||(ae=parseFloat(De))}});var ve=B||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function(De){isNaN(De)||(ve=parseFloat(De))}});var Ee="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ee},set:function(De){Ee=De.toString()}}),this},Ol=function(A,B,ae,ve){io.call(this,A,B),this.type="rect";var Ee=ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ee},set:function($e){isNaN($e)||(Ee=parseFloat($e))}});var De=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return De},set:function($e){isNaN($e)||(De=parseFloat($e))}}),this},hh=function(){this.page=$n,this.currentPage=K,this.pages=Me.slice(0),this.pagesContext=It.slice(0),this.x=ai,this.y=rn,this.matrix=Us,this.width=Io(K),this.height=Fl(K),this.outputDestination=He,this.id="",this.objectNumber=-1};hh.prototype.restore=function(){$n=this.page,K=this.currentPage,It=this.pagesContext,Me=this.pages,ai=this.x,rn=this.y,Us=this.matrix,Jd(K,this.width),Qd(K,this.height),He=this.outputDestination};var dm=function(A,B,ae,ve,Ee){ba.push(new hh),$n=K=0,Me=[],ai=A,rn=B,Us=Ee,Mc([ae,ve])},C0=function(A){if(Hs[A])ba.pop().restore();else{var B=new hh,ae="Xo"+(Object.keys(Br).length+1).toString(10);B.id=ae,Hs[A]=ae,Br[ae]=B,hn.publish("addFormObject",B),ba.pop().restore()}};for(var dh in v.beginFormObject=function(A,B,ae,ve,Ee){return dm(A,B,ae,ve,Ee),this},v.endFormObject=function(A){return C0(A),this},v.doFormObject=function(A,B){var ae=Br[Hs[A]];return le("q"),le(B.toString()+" cm"),le("/"+ae.id+" Do"),le("Q"),this},v.getFormObject=function(A){var B=Br[Hs[A]];return{x:B.x,y:B.y,width:B.width,height:B.height,matrix:B.matrix}},v.save=function(A,B){return A=A||"generated.pdf",(B=B||{}).returnPromise=B.returnPromise||!1,B.returnPromise===!1?(Tf(Oc(eo()),A),typeof Tf.unload=="function"&&Lt.setTimeout&&setTimeout(Tf.unload,911),this):new Promise(function(ae,ve){try{var Ee=Tf(Oc(eo()),A);typeof Tf.unload=="function"&&Lt.setTimeout&&setTimeout(Tf.unload,911),ae(Ee)}catch(De){ve(De.message)}})},Pt.API)Pt.API.hasOwnProperty(dh)&&(dh==="events"&&Pt.API.events.length?function(A,B){var ae,ve,Ee;for(Ee=B.length-1;Ee!==-1;Ee--)ae=B[Ee][0],ve=B[Ee][1],A.subscribe.apply(A,[ae].concat(typeof ve=="function"?[ve]:ve))}(hn,Pt.API.events):v[dh]=Pt.API[dh]);var Io=v.getPageWidth=function(A){return(It[A=A||K].mediaBox.topRightX-It[A].mediaBox.bottomLeftX)/rt},Jd=v.setPageWidth=function(A,B){It[A].mediaBox.topRightX=B*rt+It[A].mediaBox.bottomLeftX},Fl=v.getPageHeight=function(A){return(It[A=A||K].mediaBox.topRightY-It[A].mediaBox.bottomLeftY)/rt},Qd=v.setPageHeight=function(A,B){It[A].mediaBox.topRightY=B*rt+It[A].mediaBox.bottomLeftY};return v.internal={pdfEscape:$i,getStyle:Gd,getFont:oh,getFontSize:et,getCharSpace:zc,getTextColor:Il,getLineHeight:lh,getLineHeightFactor:Ca,getLineWidth:Rl,write:St,getHorizontalCoordinate:Vs,getVerticalCoordinate:Ws,getCoordinateString:hm,getVerticalCoordinateString:ka,collections:{},newObject:Vn,newAdditionalObject:Cl,newObjectDeferred:Wn,newObjectDeferredBegin:li,getFilters:xa,putStream:bs,events:hn,scaleFactor:rt,pageSize:{getWidth:function(){return Io(K)},setWidth:function(A){Jd(K,A)},getHeight:function(){return Fl(K)},setHeight:function(A){Qd(K,A)}},encryptionOptions:d,encryption:Yn,getEncryptor:to,output:Ll,getNumberOfPages:S0,pages:Me,out:le,f2:ue,f3:j,getPageInfo:Sa,getPageInfoByObjId:Et,getCurrentPageInfo:Dc,getPDFVersion:w,Point:io,Rectangle:Ol,Matrix:_t,hasHotfix:Fc},Object.defineProperty(v.internal.pageSize,"width",{get:function(){return Io(K)},set:function(A){Jd(K,A)},enumerable:!0,configurable:!0}),Object.defineProperty(v.internal.pageSize,"height",{get:function(){return Fl(K)},set:function(A){Qd(K,A)},enumerable:!0,configurable:!0}),Ic.call(v,Ye),Rt="F1",$d(r,t),hn.publish("initialized"),v}Vm.prototype.lsbFirstWord=function(i){return String.fromCharCode(i>>0&255,i>>8&255,i>>16&255,i>>24&255)},Vm.prototype.toHexString=function(i){return i.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Vm.prototype.hexToBytes=function(i){for(var e=[],t=0;t<i.length;t+=2)e.push(String.fromCharCode(parseInt(i.substr(t,2),16)));return e.join("")},Vm.prototype.processOwnerPassword=function(i,e){return bS(vS(e).substr(0,5),i)},Vm.prototype.encryptor=function(i,e){var t=vS(this.encryptionKey+String.fromCharCode(255&i,i>>8&255,i>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return bS(t,n)}},Ob.prototype.equals=function(i){var e,t="id,objectNumber,equals";if(!i||Rn(i)!==Rn(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!i.hasOwnProperty(e)||this[e]!==i[e])return!1;n++}for(e in i)i.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},Pt.API={events:[]},Pt.version="3.0.1";var Sr=Pt.API,RA=1,rm=function(i){return i.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Om=function(i){return i.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ut=function(i){return i.toFixed(2)},$h=function(i){return i.toFixed(5)};Sr.__acroform__={};var va=function(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i},jE=function(i){return i*RA},Kl=function(i){var e=new M6,t=ft.internal.getHeight(i)||0,n=ft.internal.getWidth(i)||0;return e.BBox=[0,0,Number(Ut(n)),Number(Ut(t))],e},pU=Sr.__acroform__.setBit=function(i,e){if(i=i||0,e=e||0,isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return i|=1<<e},mU=Sr.__acroform__.clearBit=function(i,e){if(i=i||0,e=e||0,isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return i&=~(1<<e)},gU=Sr.__acroform__.getBit=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(i&1<<e)==0?0:1},Ir=Sr.__acroform__.getBitForPdf=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return gU(i,e-1)},Mr=Sr.__acroform__.setBitForPdf=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return pU(i,e-1)},Or=Sr.__acroform__.clearBitForPdf=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return mU(i,e-1)},yU=Sr.__acroform__.calculateCoordinates=function(i,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,r=i[0],s=i[1],a=i[2],o=i[3],c={};return c.lowerLeft_X=t(r)||0,c.lowerLeft_Y=n(s+o)||0,c.upperRight_X=t(r+a)||0,c.upperRight_Y=n(s)||0,[Number(Ut(c.lowerLeft_X)),Number(Ut(c.lowerLeft_Y)),Number(Ut(c.upperRight_X)),Number(Ut(c.upperRight_Y))]},vU=function(i){if(i.appearanceStreamContent)return i.appearanceStreamContent;if(i.V||i.DV){var e=[],t=i._V||i.DV,n=_S(i,t),r=i.scope.internal.getFont(i.fontName,i.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(i.scope.__private__.encodeColorString(i.color)),e.push("/"+r+" "+Ut(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Kl(i);return s.scope=i.scope,s.stream=e.join(`
`),s}},_S=function(i,e){var t=i.fontSize===0?i.maxFontSize:i.fontSize,n={text:"",fontSize:""},r=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");r=i.multiline?r.map(function(j){return j.split(`
`)}):r.map(function(j){return[j]});var s=t,a=ft.internal.getHeight(i)||0;a=a<0?-a:a;var o=ft.internal.getWidth(i)||0;o=o<0?-o:o;var c=function(j,V,ee){if(j+1<r.length){var re=V+" "+r[j+1][0];return d2(re,i,ee).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var h,d,p=d2("3",i,s).height,y=i.multiline?a-s:(a-p)/2,v=y+=2,x=0,w=0,C=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+d2(e,i,s=12).width+", FieldWidth:"+o+`
`;break}for(var S="",P=0,R=0;R<r.length;R++)if(r.hasOwnProperty(R)){var M=!1;if(r[R].length!==1&&C!==r[R].length-1){if((p+2)*(P+2)+2>a)continue e;S+=r[R][C],M=!0,w=R,R--}else{S=(S+=r[R][C]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var O=parseInt(R),$=c(O,S,s),U=R>=r.length-1;if($&&!U){S+=" ",C=0;continue}if($||U){if(U)w=O;else if(i.multiline&&(p+2)*(P+2)+2>a)continue e}else{if(!i.multiline||(p+2)*(P+2)+2>a)continue e;w=O}}for(var D="",Q=x;Q<=w;Q++){var ue=r[Q];if(i.multiline){if(Q===w){D+=ue[C]+" ",C=(C+1)%ue.length;continue}if(Q===x){D+=ue[ue.length-1]+" ";continue}}D+=ue[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,d=d2(D,i,s).width,i.textAlign){case"right":h=o-d-2;break;case"center":h=(o-d)/2;break;case"left":default:h=2}e+=Ut(h)+" "+Ut(v)+` Td
`,e+="("+rm(D)+`) Tj
`,e+=-Ut(h)+` 0 Td
`,v=-(s+2),d=0,x=M?w:w+1,P++,S=""}break}return n.text=e,n.fontSize=s,n},d2=function(i,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),r=e.scope.getStringUnitWidth(i,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:r}},bU={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},_U=function(i,e){var t={type:"reference",object:i};e.internal.getPageInfo(i.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(i.page).pageContext.annotations.push(t)},wU=function(i,e){for(var t in i)if(i.hasOwnProperty(t)){var n=t,r=i[t];e.internal.newObjectDeferredBegin(r.objId,!0),Rn(r)==="object"&&typeof r.putStream=="function"&&r.putStream(),delete i[n]}},xU=function(i,e){if(e.scope=i,i.internal!==void 0&&(i.internal.acroformPlugin===void 0||i.internal.acroformPlugin.isInitialized===!1)){if(xl.FieldNum=0,i.internal.acroformPlugin=JSON.parse(JSON.stringify(bU)),i.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");RA=i.internal.scaleFactor,i.internal.acroformPlugin.acroFormDictionaryRoot=new O6,i.internal.acroformPlugin.acroFormDictionaryRoot.scope=i,i.internal.acroformPlugin.acroFormDictionaryRoot._eventID=i.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(i)}),i.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in n)if(n.hasOwnProperty(r)){var s=n[r];s.objId=void 0,s.hasAnnotation&&_U(s,t)}})(i)}),i.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(i)}),i.internal.events.subscribe("postPutPages",function(t){(function(n,r){var s=!n;for(var a in n||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],c=[],h=o.Rect;if(o.Rect&&(o.Rect=yU(o.Rect,r)),r.internal.newObjectDeferredBegin(o.objId,!0),o.DA=ft.createDefaultAppearanceStream(o),Rn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=h,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=vU(o);c.push({key:"AP",value:"<</N "+d+">>"}),r.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var p="";for(var y in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(y)){var v=o.appearanceStreamContent[y];if(p+="/"+y+" ",p+="<<",Object.keys(v).length>=1||Array.isArray(v)){for(var a in v)if(v.hasOwnProperty(a)){var x=v[a];typeof x=="function"&&(x=x.call(r,o)),p+="/"+a+" "+x+" ",r.internal.acroformPlugin.xForms.indexOf(x)>=0||r.internal.acroformPlugin.xForms.push(x)}}else typeof(x=v)=="function"&&(x=x.call(r,o)),p+="/"+a+" "+x,r.internal.acroformPlugin.xForms.indexOf(x)>=0||r.internal.acroformPlugin.xForms.push(x);p+=">>"}c.push({key:"AP",value:`<<
`+p+">>"})}r.internal.putStream({additionalKeyValues:c,objectId:o.objId}),r.internal.out("endobj")}s&&wU(r.internal.acroformPlugin.xForms,r)})(t,i)}),i.internal.acroformPlugin.isInitialized=!0}},I6=Sr.__acroform__.arrayToPdfArray=function(i,e,t){var n=function(a){return a};if(Array.isArray(i)){for(var r="[",s=0;s<i.length;s++)switch(s!==0&&(r+=" "),Rn(i[s])){case"boolean":case"number":case"object":r+=i[s].toString();break;case"string":i[s].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),r+="("+rm(n(i[s].toString()))+")"):r+=i[s].toString()}return r+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},tx=function(i,e,t){var n=function(r){return r};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(i=i||"").toString(),i="("+rm(n(i))+")"},bc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(i){this._objId=i}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};bc.prototype.toString=function(){return this.objId+" 0 R"},bc.prototype.putStream=function(){var i=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:i,objectId:this.objId}),this.scope.internal.out("endobj")},bc.prototype.getKeyValueListForStream=function(){var i=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],r=this[n];r&&(Array.isArray(r)?i.push({key:n,value:I6(r,this.objId,this.scope)}):r instanceof bc?(r.scope=this.scope,i.push({key:n,value:r.objId+" 0 R"})):typeof r!="function"&&i.push({key:n,value:r}))}return i};var M6=function(){bc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var i,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){i=t.trim()},get:function(){return i||null}})};va(M6,bc);var O6=function(){bc.call(this);var i,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(i){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+rm(t(i))+")"}},set:function(t){i=t}})};va(O6,bc);var xl=function i(){bc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');e=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ir(e,3)},set:function(S){S?this.F=Mr(e,3):this.F=Or(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');t=S}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(S){n=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(S){n[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(S){n[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(S){n[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(S){n[3]=S}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Fb)return;s="FieldObject"+i.FieldNum++}var S=function(P){return P};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+rm(S(s))+")"},set:function(S){s=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(S){s=S}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(S){a=S}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(S){o=S}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(S){c=S}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/RA:h},set:function(S){h=S}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(S){d=S}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof Fb||this instanceof Bp))return tx(p,this.objId,this.scope)},set:function(S){S=S.toString(),p=S}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Si?y:tx(y,this.objId,this.scope)},set:function(S){S=S.toString(),y=this instanceof Si?S:S.substr(0,1)==="("?Om(S.substr(1,S.length-2)):Om(S)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Si?Om(y.substr(1,y.length-1)):y},set:function(S){S=S.toString(),y=this instanceof Si?"/"+S:S}});var v=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(v)return v},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Si?v:tx(v,this.objId,this.scope)},set:function(S){S=S.toString(),v=this instanceof Si?S:S.substr(0,1)==="("?Om(S.substr(1,S.length-2)):Om(S)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Si?Om(v.substr(1,v.length-1)):v},set:function(S){S=S.toString(),v=this instanceof Si?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(S){S=!!S,w=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(S){x=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,1)},set:function(S){S?this.Ff=Mr(this.Ff,1):this.Ff=Or(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,2)},set:function(S){S?this.Ff=Mr(this.Ff,2):this.Ff=Or(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,3)},set:function(S){S?this.Ff=Mr(this.Ff,3):this.Ff=Or(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');C=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(C){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:C=2;break;case"center":case 1:C=1;break;case"left":case 0:default:C=0}}})};va(xl,bc);var ag=function(){xl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var i=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return i},set:function(t){i=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return I6(e,this.objId,this.scope)},set:function(t){var n,r;r=[],typeof(n=t)=="string"&&(r=function(s,a,o){o||(o=1);for(var c,h=[];c=a.exec(s);)h.push(c[o]);return h}(n,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,18)},set:function(t){t?this.Ff=Mr(this.Ff,18):this.Ff=Or(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Mr(this.Ff,19):this.Ff=Or(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,20)},set:function(t){t?(this.Ff=Mr(this.Ff,20),e.sort()):this.Ff=Or(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,22)},set:function(t){t?this.Ff=Mr(this.Ff,22):this.Ff=Or(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,23)},set:function(t){t?this.Ff=Mr(this.Ff,23):this.Ff=Or(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,27)},set:function(t){t?this.Ff=Mr(this.Ff,27):this.Ff=Or(this.Ff,27)}}),this.hasAppearanceStream=!1};va(ag,xl);var og=function(){ag.call(this),this.fontName="helvetica",this.combo=!1};va(og,ag);var lg=function(){og.call(this),this.combo=!0};va(lg,og);var fb=function(){lg.call(this),this.edit=!0};va(fb,lg);var Si=function(){xl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,15)},set:function(t){t?this.Ff=Mr(this.Ff,15):this.Ff=Or(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,16)},set:function(t){t?this.Ff=Mr(this.Ff,16):this.Ff=Or(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,17)},set:function(t){t?this.Ff=Mr(this.Ff,17):this.Ff=Or(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,26)},set:function(t){t?this.Ff=Mr(this.Ff,26):this.Ff=Or(this.Ff,26)}});var i,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,r=[];for(n in r.push("<<"),e)r.push("/"+n+" ("+rm(t(e[n]))+")");return r.push(">>"),r.join(`
`)}},set:function(t){Rn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(t){i="/"+t}})};va(Si,xl);var pb=function(){Si.call(this),this.pushButton=!0};va(pb,Si);var cg=function(){Si.call(this),this.radio=!0,this.pushButton=!1;var i=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){i=e!==void 0?e:[]}})};va(cg,Si);var Fb=function(){var i,e;xl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return i},set:function(r){i=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(r){e=r}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+rm(r(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(r){Rn(r)==="object"&&(n=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(r){typeof r=="string"&&(n.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ft.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};va(Fb,xl),cg.prototype.setAppearance=function(i){if(!("createAppearanceStream"in i)||!("getCA"in i))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=i.createAppearanceStream(t.optionName),t.caption=i.getCA()}},cg.prototype.createOption=function(i){var e=new Fb;return e.Parent=this,e.optionName=i,this.Kids.push(e),SU.call(this.scope,e),e};var mb=function(){Si.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ft.CheckBox.createAppearanceStream()};va(mb,Si);var Bp=function(){xl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,13)},set:function(e){e?this.Ff=Mr(this.Ff,13):this.Ff=Or(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,21)},set:function(e){e?this.Ff=Mr(this.Ff,21):this.Ff=Or(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,23)},set:function(e){e?this.Ff=Mr(this.Ff,23):this.Ff=Or(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,24)},set:function(e){e?this.Ff=Mr(this.Ff,24):this.Ff=Or(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,25)},set:function(e){e?this.Ff=Mr(this.Ff,25):this.Ff=Or(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,26)},set:function(e){e?this.Ff=Mr(this.Ff,26):this.Ff=Or(this.Ff,26)}});var i=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return i},set:function(e){Number.isInteger(e)&&(i=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};va(Bp,xl);var gb=function(){Bp.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,14)},set:function(i){i?this.Ff=Mr(this.Ff,14):this.Ff=Or(this.Ff,14)}}),this.password=!0};va(gb,Bp);var ft={CheckBox:{createAppearanceStream:function(){return{N:{On:ft.CheckBox.YesNormal},D:{On:ft.CheckBox.YesPushDown,Off:ft.CheckBox.OffPushDown}}},YesPushDown:function(i){var e=Kl(i);e.scope=i.scope;var t=[],n=i.scope.internal.getFont(i.fontName,i.fontStyle).id,r=i.scope.__private__.encodeColorString(i.color),s=_S(i,i.caption);return t.push("0.749023 g"),t.push("0 0 "+Ut(ft.internal.getWidth(i))+" "+Ut(ft.internal.getHeight(i))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+Ut(s.fontSize)+" Tf "+r),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(i){var e=Kl(i);e.scope=i.scope;var t=i.scope.internal.getFont(i.fontName,i.fontStyle).id,n=i.scope.__private__.encodeColorString(i.color),r=[],s=ft.internal.getHeight(i),a=ft.internal.getWidth(i),o=_S(i,i.caption);return r.push("1 g"),r.push("0 0 "+Ut(a)+" "+Ut(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+Ut(a-1)+" "+Ut(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+t+" "+Ut(o.fontSize)+" Tf "+n),r.push(o.text),r.push("ET"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(i){var e=Kl(i);e.scope=i.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Ut(ft.internal.getWidth(i))+" "+Ut(ft.internal.getHeight(i))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(i){var e={D:{Off:ft.RadioButton.Circle.OffPushDown},N:{}};return e.N[i]=ft.RadioButton.Circle.YesNormal,e.D[i]=ft.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(i){var e=Kl(i);e.scope=i.scope;var t=[],n=ft.internal.getWidth(i)<=ft.internal.getHeight(i)?ft.internal.getWidth(i)/4:ft.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var r=ft.internal.Bezier_C,s=Number((n*r).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+$h(ft.internal.getWidth(i)/2)+" "+$h(ft.internal.getHeight(i)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),t.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),t.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),t.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(i){var e=Kl(i);e.scope=i.scope;var t=[],n=ft.internal.getWidth(i)<=ft.internal.getHeight(i)?ft.internal.getWidth(i)/4:ft.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var r=Number((2*n).toFixed(5)),s=Number((r*ft.internal.Bezier_C).toFixed(5)),a=Number((n*ft.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+$h(ft.internal.getWidth(i)/2)+" "+$h(ft.internal.getHeight(i)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+$h(ft.internal.getWidth(i)/2)+" "+$h(ft.internal.getHeight(i)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),t.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),t.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),t.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(i){var e=Kl(i);e.scope=i.scope;var t=[],n=ft.internal.getWidth(i)<=ft.internal.getHeight(i)?ft.internal.getWidth(i)/4:ft.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var r=Number((2*n).toFixed(5)),s=Number((r*ft.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+$h(ft.internal.getWidth(i)/2)+" "+$h(ft.internal.getHeight(i)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(i){var e={D:{Off:ft.RadioButton.Cross.OffPushDown},N:{}};return e.N[i]=ft.RadioButton.Cross.YesNormal,e.D[i]=ft.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(i){var e=Kl(i);e.scope=i.scope;var t=[],n=ft.internal.calculateCross(i);return t.push("q"),t.push("1 1 "+Ut(ft.internal.getWidth(i)-2)+" "+Ut(ft.internal.getHeight(i)-2)+" re"),t.push("W"),t.push("n"),t.push(Ut(n.x1.x)+" "+Ut(n.x1.y)+" m"),t.push(Ut(n.x2.x)+" "+Ut(n.x2.y)+" l"),t.push(Ut(n.x4.x)+" "+Ut(n.x4.y)+" m"),t.push(Ut(n.x3.x)+" "+Ut(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(i){var e=Kl(i);e.scope=i.scope;var t=ft.internal.calculateCross(i),n=[];return n.push("0.749023 g"),n.push("0 0 "+Ut(ft.internal.getWidth(i))+" "+Ut(ft.internal.getHeight(i))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Ut(ft.internal.getWidth(i)-2)+" "+Ut(ft.internal.getHeight(i)-2)+" re"),n.push("W"),n.push("n"),n.push(Ut(t.x1.x)+" "+Ut(t.x1.y)+" m"),n.push(Ut(t.x2.x)+" "+Ut(t.x2.y)+" l"),n.push(Ut(t.x4.x)+" "+Ut(t.x4.y)+" m"),n.push(Ut(t.x3.x)+" "+Ut(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(i){var e=Kl(i);e.scope=i.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Ut(ft.internal.getWidth(i))+" "+Ut(ft.internal.getHeight(i))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(i){var e=i.scope.internal.getFont(i.fontName,i.fontStyle).id,t=i.scope.__private__.encodeColorString(i.color);return"/"+e+" "+i.fontSize+" Tf "+t}};ft.internal={Bezier_C:.551915024494,calculateCross:function(i){var e=ft.internal.getWidth(i),t=ft.internal.getHeight(i),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},ft.internal.getWidth=function(i){var e=0;return Rn(i)==="object"&&(e=jE(i.Rect[2])),e},ft.internal.getHeight=function(i){var e=0;return Rn(i)==="object"&&(e=jE(i.Rect[3])),e};var SU=Sr.addField=function(i){if(xU(this,i),!(i instanceof xl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=i).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),i.page=i.scope.internal.getCurrentPageInfo().pageNumber,this};Sr.AcroFormChoiceField=ag,Sr.AcroFormListBox=og,Sr.AcroFormComboBox=lg,Sr.AcroFormEditBox=fb,Sr.AcroFormButton=Si,Sr.AcroFormPushButton=pb,Sr.AcroFormRadioButton=cg,Sr.AcroFormCheckBox=mb,Sr.AcroFormTextField=Bp,Sr.AcroFormPasswordField=gb,Sr.AcroFormAppearance=ft,Sr.AcroForm={ChoiceField:ag,ListBox:og,ComboBox:lg,EditBox:fb,Button:Si,PushButton:pb,RadioButton:cg,CheckBox:mb,TextField:Bp,PasswordField:gb,Appearance:ft},Pt.AcroForm={ChoiceField:ag,ListBox:og,ComboBox:lg,EditBox:fb,Button:Si,PushButton:pb,RadioButton:cg,CheckBox:mb,TextField:Bp,PasswordField:gb,Appearance:ft};Pt.AcroForm;function F6(i){return i.reduce(function(e,t,n){return e[t]=n,e},{})}(function(i){i.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=i.__addimage__.getImageFileTypeByImageData=function(j,V){var ee,re,pe,fe,he,ne=e;if((V=V||e)==="RGBA"||j.data!==void 0&&j.data instanceof Uint8ClampedArray&&"height"in j&&"width"in j)return"RGBA";if($(j))for(he in t)for(pe=t[he],ee=0;ee<pe.length;ee+=1){for(fe=!0,re=0;re<pe[ee].length;re+=1)if(pe[ee][re]!==void 0&&pe[ee][re]!==j[re]){fe=!1;break}if(fe===!0){ne=he;break}}else for(he in t)for(pe=t[he],ee=0;ee<pe.length;ee+=1){for(fe=!0,re=0;re<pe[ee].length;re+=1)if(pe[ee][re]!==void 0&&pe[ee][re]!==j.charCodeAt(re)){fe=!1;break}if(fe===!0){ne=he;break}}return ne===e&&V!==e&&(ne=V),ne},r=function j(V){for(var ee=this.internal.write,re=this.internal.putStream,pe=(0,this.internal.getFilters)();pe.indexOf("FlateEncode")!==-1;)pe.splice(pe.indexOf("FlateEncode"),1);V.objectId=this.internal.newObject();var fe=[];if(fe.push({key:"Type",value:"/XObject"}),fe.push({key:"Subtype",value:"/Image"}),fe.push({key:"Width",value:V.width}),fe.push({key:"Height",value:V.height}),V.colorSpace===C.INDEXED?fe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(V.palette.length/3-1)+" "+("sMask"in V&&V.sMask!==void 0?V.objectId+2:V.objectId+1)+" 0 R]"}):(fe.push({key:"ColorSpace",value:"/"+V.colorSpace}),V.colorSpace===C.DEVICE_CMYK&&fe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),fe.push({key:"BitsPerComponent",value:V.bitsPerComponent}),"decodeParameters"in V&&V.decodeParameters!==void 0&&fe.push({key:"DecodeParms",value:"<<"+V.decodeParameters+">>"}),"transparency"in V&&Array.isArray(V.transparency)){for(var he="",ne=0,ye=V.transparency.length;ne<ye;ne++)he+=V.transparency[ne]+" "+V.transparency[ne]+" ";fe.push({key:"Mask",value:"["+he+"]"})}V.sMask!==void 0&&fe.push({key:"SMask",value:V.objectId+1+" 0 R"});var me=V.filter!==void 0?["/"+V.filter]:void 0;if(re({data:V.data,additionalKeyValues:fe,alreadyAppliedFilters:me,objectId:V.objectId}),ee("endobj"),"sMask"in V&&V.sMask!==void 0){var se="/Predictor "+V.predictor+" /Colors 1 /BitsPerComponent "+V.bitsPerComponent+" /Columns "+V.width,I={width:V.width,height:V.height,colorSpace:"DeviceGray",bitsPerComponent:V.bitsPerComponent,decodeParameters:se,data:V.sMask};"filter"in V&&(I.filter=V.filter),j.call(this,I)}if(V.colorSpace===C.INDEXED){var K=this.internal.newObject();re({data:D(new Uint8Array(V.palette)),objectId:K}),ee("endobj")}},s=function(){var j=this.internal.collections.addImage_images;for(var V in j)r.call(this,j[V])},a=function(){var j,V=this.internal.collections.addImage_images,ee=this.internal.write;for(var re in V)ee("/I"+(j=V[re]).index,j.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var j=this.internal.collections.addImage_images;return o.call(this),j},h=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(j){return typeof i["process"+j.toUpperCase()]=="function"},p=function(j){return Rn(j)==="object"&&j.nodeType===1},y=function(j,V){if(j.nodeName==="IMG"&&j.hasAttribute("src")){var ee=""+j.getAttribute("src");if(ee.indexOf("data:image/")===0)return E1(unescape(ee).split("base64,").pop());var re=i.loadFile(ee,!0);if(re!==void 0)return re}if(j.nodeName==="CANVAS"){if(j.width===0||j.height===0)throw new Error("Given canvas must have data. Canvas width: "+j.width+", height: "+j.height);var pe;switch(V){case"PNG":pe="image/png";break;case"WEBP":pe="image/webp";break;case"JPEG":case"JPG":default:pe="image/jpeg"}return E1(j.toDataURL(pe,1).split("base64,").pop())}},v=function(j){var V=this.internal.collections.addImage_images;if(V){for(var ee in V)if(j===V[ee].alias)return V[ee]}},x=function(j,V,ee){return j||V||(j=-96,V=-96),j<0&&(j=-1*ee.width*72/j/this.internal.scaleFactor),V<0&&(V=-1*ee.height*72/V/this.internal.scaleFactor),j===0&&(j=V*ee.width/ee.height),V===0&&(V=j*ee.height/ee.width),[j,V]},w=function(j,V,ee,re,pe,fe){var he=x.call(this,ee,re,pe),ne=this.internal.getCoordinateString,ye=this.internal.getVerticalCoordinateString,me=c.call(this);if(ee=he[0],re=he[1],me[pe.index]=pe,fe){fe*=Math.PI/180;var se=Math.cos(fe),I=Math.sin(fe),K=function(oe){return oe.toFixed(4)},Z=[K(se),K(I),K(-1*I),K(se),0,0,"cm"]}this.internal.write("q"),fe?(this.internal.write([1,"0","0",1,ne(j),ye(V+re),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([ne(ee),"0","0",ne(re),"0","0","cm"].join(" "))):this.internal.write([ne(ee),"0","0",ne(re),ne(j),ye(V+re),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pe.index+" Do"),this.internal.write("Q")},C=i.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};i.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=i.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},P=i.__addimage__.sHashCode=function(j){var V,ee,re=0;if(typeof j=="string")for(ee=j.length,V=0;V<ee;V++)re=(re<<5)-re+j.charCodeAt(V),re|=0;else if($(j))for(ee=j.byteLength/2,V=0;V<ee;V++)re=(re<<5)-re+j[V],re|=0;return re},R=i.__addimage__.validateStringAsBase64=function(j){(j=j||"").toString().trim();var V=!0;return j.length===0&&(V=!1),j.length%4!=0&&(V=!1),/^[A-Za-z0-9+/]+$/.test(j.substr(0,j.length-2))===!1&&(V=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(j.substr(-2))===!1&&(V=!1),V},M=i.__addimage__.extractImageFromDataUrl=function(j){if(j==null||!(j=j.trim()).startsWith("data:"))return null;var V=j.indexOf(",");return V<0?null:j.substring(0,V).trim().endsWith("base64")?j.substring(V+1):null},O=i.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};i.__addimage__.isArrayBuffer=function(j){return O()&&j instanceof ArrayBuffer};var $=i.__addimage__.isArrayBufferView=function(j){return O()&&typeof Uint32Array<"u"&&(j instanceof Int8Array||j instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&j instanceof Uint8ClampedArray||j instanceof Int16Array||j instanceof Uint16Array||j instanceof Int32Array||j instanceof Uint32Array||j instanceof Float32Array||j instanceof Float64Array)},U=i.__addimage__.binaryStringToUint8Array=function(j){for(var V=j.length,ee=new Uint8Array(V),re=0;re<V;re++)ee[re]=j.charCodeAt(re);return ee},D=i.__addimage__.arrayBufferToBinaryString=function(j){for(var V="",ee=$(j)?j:new Uint8Array(j),re=0;re<ee.length;re+=8192)V+=String.fromCharCode.apply(null,ee.subarray(re,re+8192));return V};i.addImage=function(){var j,V,ee,re,pe,fe,he,ne,ye;if(typeof arguments[1]=="number"?(V=e,ee=arguments[1],re=arguments[2],pe=arguments[3],fe=arguments[4],he=arguments[5],ne=arguments[6],ye=arguments[7]):(V=arguments[1],ee=arguments[2],re=arguments[3],pe=arguments[4],fe=arguments[5],he=arguments[6],ne=arguments[7],ye=arguments[8]),Rn(j=arguments[0])==="object"&&!p(j)&&"imageData"in j){var me=j;j=me.imageData,V=me.format||V||e,ee=me.x||ee||0,re=me.y||re||0,pe=me.w||me.width||pe,fe=me.h||me.height||fe,he=me.alias||he,ne=me.compression||ne,ye=me.rotation||me.angle||ye}var se=this.internal.getFilters();if(ne===void 0&&se.indexOf("FlateEncode")!==-1&&(ne="SLOW"),isNaN(ee)||isNaN(re))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var I=Q.call(this,j,V,he,ne);return w.call(this,ee,re,pe,fe,I,ye),this};var Q=function(j,V,ee,re){var pe,fe,he;if(typeof j=="string"&&n(j)===e){j=unescape(j);var ne=ue(j,!1);(ne!==""||(ne=i.loadFile(j,!0))!==void 0)&&(j=ne)}if(p(j)&&(j=y(j,V)),V=n(j,V),!d(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(((he=ee)==null||he.length===0)&&(ee=function(ye){return typeof ye=="string"||$(ye)?P(ye):$(ye.data)?P(ye.data):null}(j)),(pe=v.call(this,ee))||(O()&&(j instanceof Uint8Array||V==="RGBA"||(fe=j,j=U(j))),pe=this["process"+V.toUpperCase()](j,h.call(this),ee,function(ye){return ye&&typeof ye=="string"&&(ye=ye.toUpperCase()),ye in i.image_compression?ye:S.NONE}(re),fe)),!pe)throw new Error("An unknown error occurred whilst processing the image.");return pe},ue=i.__addimage__.convertBase64ToBinaryString=function(j,V){V=typeof V!="boolean"||V;var ee,re="";if(typeof j=="string"){var pe;ee=(pe=M(j))!==null&&pe!==void 0?pe:j;try{re=E1(ee)}catch(fe){if(V)throw R(ee)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+fe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return re};i.getImageProperties=function(j){var V,ee,re="";if(p(j)&&(j=y(j)),typeof j=="string"&&n(j)===e&&((re=ue(j,!1))===""&&(re=i.loadFile(j)||""),j=re),ee=n(j),!d(ee))throw new Error("addImage does not support files of type '"+ee+"', please ensure that a plugin for '"+ee+"' support is added.");if(!O()||j instanceof Uint8Array||(j=U(j)),!(V=this["process"+ee.toUpperCase()](j)))throw new Error("An unknown error occurred whilst processing the image");return V.fileType=ee,V}})(Pt.API),function(i){var e=function(t){if(t!==void 0&&t!="")return!0};Pt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),i.events.push(["putPage",function(t){for(var n,r,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),h=t.pageContext.annotations,d=!1,p=0;p<h.length&&!d;p++)switch((n=h[p]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var y=0;y<h.length;y++){n=h[y];var v=this.internal.pdfEscape,x=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(w.objId),P=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+v(S(n.contents))+")",s+=" /Popup "+C.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+v(S(P))+") >>",w.content=s;var R=w.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+R,n.open&&(s+=" /Open true"),s+=" >>",C.content=s,this.internal.write(w.objId,"0 R",C.objId,"0 R");break;case"freetext":r="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var M=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+v(x(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+M+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var O=this.annotations._nameMap[n.options.name];n.options.pageNumber=O.page,n.options.top=O.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+v(x(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var $=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+$+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),i.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},i.link=function(t,n,r,s,a){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(t),y:h(n),w:c(t+r),h:h(n+s)},options:a,type:"link"})},i.textWithLink=function(t,n,r,s){var a,o,c=this.getTextWidth(t),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var d=this.splitTextToSize(t,o).length;a=Math.ceil(h*d)}else o=c,a=h;return this.text(t,n,r,s),r+=.2*h,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,r-h,o,a,s),c},i.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}}(Pt.API),function(i){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];i.__arabicParser__={};var s=i.__arabicParser__.isInArabicSubstitutionA=function(w){return e[w.charCodeAt(0)]!==void 0},a=i.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},o=i.__arabicParser__.isArabicEndLetter=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length<=2},c=i.__arabicParser__.isArabicAlfLetter=function(w){return a(w)&&r.indexOf(w.charCodeAt(0))>=0};i.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length>=1};var h=i.__arabicParser__.arabicLetterHasFinalForm=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length>=2};i.__arabicParser__.arabicLetterHasInitialForm=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length>=3};var d=i.__arabicParser__.arabicLetterHasMedialForm=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length==4},p=i.__arabicParser__.resolveLigatures=function(w){var C=0,S=t,P="",R=0;for(C=0;C<w.length;C+=1)S[w.charCodeAt(C)]!==void 0?(R++,typeof(S=S[w.charCodeAt(C)])=="number"&&(P+=String.fromCharCode(S),S=t,R=0),C===w.length-1&&(S=t,P+=w.charAt(C-(R-1)),C-=R-1,R=0)):(S=t,P+=w.charAt(C-R),C-=R,R=0);return P};i.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&n[w.charCodeAt(0)]!==void 0};var y=i.__arabicParser__.getCorrectForm=function(w,C,S){return a(w)?s(w)===!1?-1:!h(w)||!a(C)&&!a(S)||!a(S)&&o(C)||o(w)&&!a(C)||o(w)&&c(C)||o(w)&&o(C)?0:d(w)&&a(C)&&!o(C)&&a(S)&&h(S)?3:o(w)||!a(S)?1:2:-1},v=function(w){var C=0,S=0,P=0,R="",M="",O="",$=(w=w||"").split("\\s+"),U=[];for(C=0;C<$.length;C+=1){for(U.push(""),S=0;S<$[C].length;S+=1)R=$[C][S],M=$[C][S-1],O=$[C][S+1],a(R)?(P=y(R,M,O),U[C]+=P!==-1?String.fromCharCode(e[R.charCodeAt(0)][P]):R):U[C]+=R;U[C]=p(U[C])}return U.join(" ")},x=i.__arabicParser__.processArabic=i.processArabic=function(){var w,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(C)){var P=0;for(S=[],P=0;P<C.length;P+=1)Array.isArray(C[P])?S.push([v(C[P][0]),C[P][1],C[P][2]]):S.push([v(C[P])]);w=S}else w=v(C);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};i.events.push(["preProcessText",x])}(Pt.API),Pt.API.autoPrint=function(i){var e;switch((i=i||{}).variant=i.variant||"non-conform",i.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(i){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(o){t=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var r;if((t=t||"2d")!=="2d")return null;for(r in n)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=n[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},i.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Pt.API),function(i){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(w){h=w}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(w){d=w}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(w){y=w}});var v=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return v},set:function(w){v=w}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(w){x=w}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},i.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},i.getTextDimensions=function(c,h){n.call(this);var d=(h=h||{}).fontSize||this.getFontSize(),p=h.font||this.getFont(),y=h.scaleFactor||this.internal.scaleFactor,v=0,x=0,w=0,C=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var S=h.maxWidth;S>0?typeof c=="string"?c=this.splitTextToSize(c,S):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(R,M){return R.concat(C.splitTextToSize(M,S))},[])):c=Array.isArray(c)?c:[c];for(var P=0;P<c.length;P++)v<(w=this.getStringUnitWidth(c[P],{font:p})*d)&&(v=w);return v!==0&&(x=c.length),{w:v/=y,h:Math.max((x*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/y,0)}},i.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=i.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var h=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,v=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===c.lineNumber?(c.x=(h.x||0)+(h.width||0),c.y=h.y||0):h.y+h.height+c.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=p.top,v&&y&&(this.printHeaderRow(c.lineNumber,!0),c.y+=y[0].height)):c.y=h.y+h.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};i.table=function(c,h,d,p,y){if(n.call(this),!d)throw new Error("No data for PDF table.");var v,x,w,C,S=[],P=[],R=[],M={},O={},$=[],U=[],D=(y=y||{}).autoSize||!1,Q=y.printHeaders!==!1,ue=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,j=y.margins||Object.assign({width:this.getPageWidth()},e),V=typeof y.padding=="number"?y.padding:3,ee=y.headerBackgroundColor||"#c8c8c8",re=y.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=Q,this.internal.__cell__.margins=j,this.internal.__cell__.table_font_size=ue,this.internal.__cell__.padding=V,this.internal.__cell__.headerBackgroundColor=ee,this.internal.__cell__.headerTextColor=re,this.setFontSize(ue),p==null)P=S=Object.keys(d[0]),R=S.map(function(){return"left"});else if(Array.isArray(p)&&Rn(p[0])==="object")for(S=p.map(function(me){return me.name}),P=p.map(function(me){return me.prompt||me.name||""}),R=p.map(function(me){return me.align||"left"}),v=0;v<p.length;v+=1)O[p[v].name]=p[v].width*(19.049976/25.4);else Array.isArray(p)&&typeof p[0]=="string"&&(P=S=p,R=S.map(function(){return"left"}));if(D||Array.isArray(p)&&typeof p[0]=="string")for(v=0;v<S.length;v+=1){for(M[C=S[v]]=d.map(function(me){return me[C]}),this.setFont(void 0,"bold"),$.push(this.getTextDimensions(P[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=M[C],this.setFont(void 0,"normal"),w=0;w<x.length;w+=1)$.push(this.getTextDimensions(x[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);O[C]=Math.max.apply(null,$)+V+V,$=[]}if(Q){var pe={};for(v=0;v<S.length;v+=1)pe[S[v]]={},pe[S[v]].text=P[v],pe[S[v]].align=R[v];var fe=o.call(this,pe,O);U=S.map(function(me){return new s(c,h,O[me],fe,pe[me].text,void 0,pe[me].align)}),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var he=p.reduce(function(me,se){return me[se.name]=se.align,me},{});for(v=0;v<d.length;v+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:v,data:d[v]},this);var ne=o.call(this,d[v],O);for(w=0;w<S.length;w+=1){var ye=d[v][S[w]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:v,col:w,data:ye},this),a.call(this,new s(c,h,O[S[w]],ne,ye,v+2,he[S[w]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=h,this};var o=function(c,h){var d=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(c).map(function(v){var x=c[v];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,h[v]-d-d)},this).map(function(v){return this.getLineHeightFactor()*v.length*p/y+d+d},this).reduce(function(v,x){return Math.max(v,x)},0)};i.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},i.printHeaderRow=function(c,h){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],v=0;v<this.internal.__cell__.tableHeaderRow.length;v+=1){d=this.internal.__cell__.tableHeaderRow[v].clone(),h&&(d.y=this.internal.__cell__.margins.top||0,y.push(d)),d.lineNumber=c;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(x)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),t=!1}}(Pt.API);var D6={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},j6=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],wS=F6(j6),B6=[100,200,300,400,500,600,700,800,900],AU=F6(B6);function xS(i){var e=i.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return D6[s=s||"normal"]?s:"normal"}(i.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(i.weight),r=function(s){return typeof wS[s=s||"normal"]=="number"?s:"normal"}(i.stretch);return{family:e,style:t,weight:n,stretch:r,src:i.src||[],ref:i.ref||{name:e,style:[r,t,n].join(" ")}}}function BE(i,e,t,n){var r;for(r=t;r>=0&&r<e.length;r+=n)if(i[e[r]])return i[e[r]];for(r=t;r>=0&&r<e.length;r-=n)if(i[e[r]])return i[e[r]]}var CU={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},zE={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function UE(i){return[i.stretch,i.style,i.weight,i.family].join(" ")}function kU(i,e,t){for(var n=(t=t||{}).defaultFontFamily||"times",r=Object.assign({},CU,t.genericFontFamilies||{}),s=null,a=null,o=0;o<e.length;++o)if(r[(s=xS(e[o])).family]&&(s.family=r[s.family]),i.hasOwnProperty(s.family)){a=i[s.family];break}if(!(a=a||i[n]))throw new Error("Could not find a font-family for the rule '"+UE(s)+"' and default family '"+n+"'.");if(a=function(c,h){if(h[c])return h[c];var d=wS[c],p=d<=wS.normal?-1:1,y=BE(h,j6,d,p);if(!y)throw new Error("Could not find a matching font-stretch value for "+c);return y}(s.stretch,a),a=function(c,h){if(h[c])return h[c];for(var d=D6[c],p=0;p<d.length;++p)if(h[d[p]])return h[d[p]];throw new Error("Could not find a matching font-style for "+c)}(s.style,a),!(a=function(c,h){if(h[c])return h[c];if(c===400&&h[500])return h[500];if(c===500&&h[400])return h[400];var d=AU[c],p=BE(h,B6,d,c<400?-1:1);if(!p)throw new Error("Could not find a matching font-weight for value "+c);return p}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+UE(s)+"'.");return a}function qE(i){return i.trimLeft()}function EU(i,e){for(var t=0;t<i.length;){if(i.charAt(t)===e)return[i.substring(0,t),i.substring(t+1)];t+=1}return null}function PU(i){var e=i.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],i.substring(e[0].length)]}var f2,HE,$E,nx=["times"];(function(i){var e,t,n,r,s,a,o,c,h,d=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new c,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new a,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new a,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};i.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,h=new d}]);var p=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=I;Object.defineProperty(this,"pdf",{get:function(){return K}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(Re){Z=!!Re}});var oe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return oe},set:function(Re){oe=!!Re}});var de=0;Object.defineProperty(this,"posX",{get:function(){return de},set:function(Re){isNaN(Re)||(de=Re)}});var ge=0;Object.defineProperty(this,"posY",{get:function(){return ge},set:function(Re){isNaN(Re)||(ge=Re)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(Re){var le;typeof Re=="number"?le=[Re,Re,Re,Re]:((le=new Array(4))[0]=Re[0],le[1]=Re.length>=2?Re[1]:le[0],le[2]=Re.length>=3?Re[2]:le[0],le[3]=Re.length>=4?Re[3]:le[1]),h.margin=le}});var Ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ce},set:function(Re){Ce=Re}});var ke=0;Object.defineProperty(this,"lastBreak",{get:function(){return ke},set:function(Re){ke=Re}});var ze=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ze},set:function(Re){ze=Re}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(Re){Re instanceof d&&(h=Re)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(Re){h.path=Re}});var Me=[];Object.defineProperty(this,"ctxStack",{get:function(){return Me},set:function(Re){Me=Re}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Re){var le;le=y(Re),this.ctx.fillStyle=le.style,this.ctx.isFillTransparent=le.a===0,this.ctx.fillOpacity=le.a,this.pdf.setFillColor(le.r,le.g,le.b,{a:le.a}),this.pdf.setTextColor(le.r,le.g,le.b,{a:le.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Re){var le=y(Re);this.ctx.strokeStyle=le.style,this.ctx.isStrokeTransparent=le.a===0,this.ctx.strokeOpacity=le.a,le.a===0?this.pdf.setDrawColor(255,255,255):(le.a,this.pdf.setDrawColor(le.r,le.g,le.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Re){["butt","round","square"].indexOf(Re)!==-1&&(this.ctx.lineCap=Re,this.pdf.setLineCap(Re))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Re){isNaN(Re)||(this.ctx.lineWidth=Re,this.pdf.setLineWidth(Re))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Re){["bevel","round","miter"].indexOf(Re)!==-1&&(this.ctx.lineJoin=Re,this.pdf.setLineJoin(Re))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Re){isNaN(Re)||(this.ctx.miterLimit=Re,this.pdf.setMiterLimit(Re))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Re){this.ctx.textBaseline=Re}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Re){["right","end","center","left","start"].indexOf(Re)!==-1&&(this.ctx.textAlign=Re)}});var Ge=null;function He(Re,le){if(Ge===null){var St=function(ct){var Ye=[];return Object.keys(ct).forEach(function(Je){ct[Je].forEach(function(Qe){var et=null;switch(Qe){case"bold":et={family:Je,weight:"bold"};break;case"italic":et={family:Je,style:"italic"};break;case"bolditalic":et={family:Je,weight:"bold",style:"italic"};break;case"":case"normal":et={family:Je}}et!==null&&(et.ref={name:Je,style:Qe},Ye.push(et))})}),Ye}(Re.getFontList());Ge=function(ct){for(var Ye={},Je=0;Je<ct.length;++Je){var Qe=xS(ct[Je]),et=Qe.family,gt=Qe.stretch,Tt=Qe.style,Ot=Qe.weight;Ye[et]=Ye[et]||{},Ye[et][gt]=Ye[et][gt]||{},Ye[et][gt][Tt]=Ye[et][gt][Tt]||{},Ye[et][gt][Tt][Ot]=Qe}return Ye}(St.concat(le))}return Ge}var it=null;Object.defineProperty(this,"fontFaces",{get:function(){return it},set:function(Re){Ge=null,it=Re}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Re){var le;if(this.ctx.font=Re,(le=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Re))!==null){var St=le[1];le[2];var ct=le[3],Ye=le[4];le[5];var Je=le[6],Qe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ye)[2];Ye=Math.floor(Qe==="px"?parseFloat(Ye)*this.pdf.internal.scaleFactor:Qe==="em"?parseFloat(Ye)*this.pdf.getFontSize():parseFloat(Ye)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ye);var et=function(xt){var Rt,rt,ai=[],rn=xt.trim();if(rn==="")return nx;if(rn in zE)return[zE[rn]];for(;rn!=="";){switch(rt=null,Rt=(rn=qE(rn)).charAt(0)){case'"':case"'":rt=EU(rn.substring(1),Rt);break;default:rt=PU(rn)}if(rt===null||(ai.push(rt[0]),(rn=qE(rt[1]))!==""&&rn.charAt(0)!==","))return nx;rn=rn.replace(/^,/,"")}return ai}(Je);if(this.fontFaces){var gt=kU(He(this.pdf,this.fontFaces),et.map(function(xt){return{family:xt,stretch:"normal",weight:ct,style:St}}));this.pdf.setFont(gt.ref.name,gt.ref.style)}else{var Tt="";(ct==="bold"||parseInt(ct,10)>=700||St==="bold")&&(Tt="bold"),St==="italic"&&(Tt+="italic"),Tt.length===0&&(Tt="normal");for(var Ot="",Ht={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},zt=0;zt<et.length;zt++){if(this.pdf.internal.getFont(et[zt],Tt,{noFallback:!0,disableWarning:!0})!==void 0){Ot=et[zt];break}if(Tt==="bolditalic"&&this.pdf.internal.getFont(et[zt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ot=et[zt],Tt="bold";else if(this.pdf.internal.getFont(et[zt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ot=et[zt],Tt="normal";break}}if(Ot===""){for(var Kt=0;Kt<et.length;Kt++)if(Ht[et[Kt]]){Ot=Ht[et[Kt]];break}}Ot=Ot===""?"Times":Ot,this.pdf.setFont(Ot,Tt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Re){this.ctx.globalCompositeOperation=Re}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Re){this.ctx.globalAlpha=Re}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Re){this.ctx.lineDashOffset=Re,se.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Re){this.ctx.lineDash=Re,se.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Re){this.ctx.ignoreClearRect=!!Re}})};p.prototype.setLineDash=function(I){this.lineDash=I},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){M.call(this,"fill",!1)},p.prototype.stroke=function(){M.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(I,K){if(isNaN(I)||isNaN(K))throw jn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new a(I,K));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new a(I,K)},p.prototype.closePath=function(){var I=new a(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&Rn(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){I=new a(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(I.x,I.y)},p.prototype.lineTo=function(I,K){if(isNaN(I)||isNaN(K))throw jn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new a(I,K));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new a(Z.x,Z.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),M.call(this,null,!0)},p.prototype.quadraticCurveTo=function(I,K,Z,oe){if(isNaN(Z)||isNaN(oe)||isNaN(I)||isNaN(K))throw jn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var de=this.ctx.transform.applyToPoint(new a(Z,oe)),ge=this.ctx.transform.applyToPoint(new a(I,K));this.path.push({type:"qct",x1:ge.x,y1:ge.y,x:de.x,y:de.y}),this.ctx.lastPoint=new a(de.x,de.y)},p.prototype.bezierCurveTo=function(I,K,Z,oe,de,ge){if(isNaN(de)||isNaN(ge)||isNaN(I)||isNaN(K)||isNaN(Z)||isNaN(oe))throw jn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ce=this.ctx.transform.applyToPoint(new a(de,ge)),ke=this.ctx.transform.applyToPoint(new a(I,K)),ze=this.ctx.transform.applyToPoint(new a(Z,oe));this.path.push({type:"bct",x1:ke.x,y1:ke.y,x2:ze.x,y2:ze.y,x:Ce.x,y:Ce.y}),this.ctx.lastPoint=new a(Ce.x,Ce.y)},p.prototype.arc=function(I,K,Z,oe,de,ge){if(isNaN(I)||isNaN(K)||isNaN(Z)||isNaN(oe)||isNaN(de))throw jn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ge=!!ge,!this.ctx.transform.isIdentity){var Ce=this.ctx.transform.applyToPoint(new a(I,K));I=Ce.x,K=Ce.y;var ke=this.ctx.transform.applyToPoint(new a(0,Z)),ze=this.ctx.transform.applyToPoint(new a(0,0));Z=Math.sqrt(Math.pow(ke.x-ze.x,2)+Math.pow(ke.y-ze.y,2))}Math.abs(de-oe)>=2*Math.PI&&(oe=0,de=2*Math.PI),this.path.push({type:"arc",x:I,y:K,radius:Z,startAngle:oe,endAngle:de,counterclockwise:ge})},p.prototype.arcTo=function(I,K,Z,oe,de){throw new Error("arcTo not implemented.")},p.prototype.rect=function(I,K,Z,oe){if(isNaN(I)||isNaN(K)||isNaN(Z)||isNaN(oe))throw jn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,K),this.lineTo(I+Z,K),this.lineTo(I+Z,K+oe),this.lineTo(I,K+oe),this.lineTo(I,K),this.lineTo(I+Z,K),this.lineTo(I,K)},p.prototype.fillRect=function(I,K,Z,oe){if(isNaN(I)||isNaN(K)||isNaN(Z)||isNaN(oe))throw jn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!v.call(this)){var de={};this.lineCap!=="butt"&&(de.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(de.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,K,Z,oe),this.fill(),de.hasOwnProperty("lineCap")&&(this.lineCap=de.lineCap),de.hasOwnProperty("lineJoin")&&(this.lineJoin=de.lineJoin)}},p.prototype.strokeRect=function(I,K,Z,oe){if(isNaN(I)||isNaN(K)||isNaN(Z)||isNaN(oe))throw jn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(I,K,Z,oe),this.stroke())},p.prototype.clearRect=function(I,K,Z,oe){if(isNaN(I)||isNaN(K)||isNaN(Z)||isNaN(oe))throw jn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,K,Z,oe))},p.prototype.save=function(I){I=typeof I!="boolean"||I;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var oe=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=oe}},p.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(K),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(I){var K,Z,oe,de;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))K=0,Z=0,oe=0,de=0;else{var ge=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(ge!==null)K=parseInt(ge[1]),Z=parseInt(ge[2]),oe=parseInt(ge[3]),de=1;else if((ge=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)K=parseInt(ge[1]),Z=parseInt(ge[2]),oe=parseInt(ge[3]),de=parseFloat(ge[4]);else{if(de=1,typeof I=="string"&&I.charAt(0)!=="#"){var Ce=new L6(I);I=Ce.ok?Ce.toHex():"#000000"}I.length===4?(K=I.substring(1,2),K+=K,Z=I.substring(2,3),Z+=Z,oe=I.substring(3,4),oe+=oe):(K=I.substring(1,3),Z=I.substring(3,5),oe=I.substring(5,7)),K=parseInt(K,16),Z=parseInt(Z,16),oe=parseInt(oe,16)}}return{r:K,g:Z,b:oe,a:de,style:I}},v=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(I,K,Z,oe){if(isNaN(K)||isNaN(Z)||typeof I!="string")throw jn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(oe=isNaN(oe)?void 0:oe,!v.call(this)){var de=ne(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;V.call(this,{text:I,x:K,y:Z,scale:ge,angle:de,align:this.textAlign,maxWidth:oe})}},p.prototype.strokeText=function(I,K,Z,oe){if(isNaN(K)||isNaN(Z)||typeof I!="string")throw jn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){oe=isNaN(oe)?void 0:oe;var de=ne(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;V.call(this,{text:I,x:K,y:Z,scale:ge,renderingMode:"stroke",angle:de,align:this.textAlign,maxWidth:oe})}},p.prototype.measureText=function(I){if(typeof I!="string")throw jn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,Z=this.pdf.internal.scaleFactor,oe=K.internal.getFontSize(),de=K.getStringUnitWidth(I)*oe/K.internal.scaleFactor,ge=function(Ce){var ke=(Ce=Ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ke}}),this};return new ge({width:de*=Math.round(96*Z/72*1e4)/1e4})},p.prototype.scale=function(I,K){if(isNaN(I)||isNaN(K))throw jn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new c(I,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},p.prototype.rotate=function(I){if(isNaN(I))throw jn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new c(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},p.prototype.translate=function(I,K){if(isNaN(I)||isNaN(K))throw jn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new c(1,0,0,1,I,K);this.ctx.transform=this.ctx.transform.multiply(Z)},p.prototype.transform=function(I,K,Z,oe,de,ge){if(isNaN(I)||isNaN(K)||isNaN(Z)||isNaN(oe)||isNaN(de)||isNaN(ge))throw jn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ce=new c(I,K,Z,oe,de,ge);this.ctx.transform=this.ctx.transform.multiply(Ce)},p.prototype.setTransform=function(I,K,Z,oe,de,ge){I=isNaN(I)?1:I,K=isNaN(K)?0:K,Z=isNaN(Z)?0:Z,oe=isNaN(oe)?1:oe,de=isNaN(de)?0:de,ge=isNaN(ge)?0:ge,this.ctx.transform=new c(I,K,Z,oe,de,ge)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(I,K,Z,oe,de,ge,Ce,ke,ze){var Me=this.pdf.getImageProperties(I),Ge=1,He=1,it=1,Re=1;oe!==void 0&&ke!==void 0&&(it=ke/oe,Re=ze/de,Ge=Me.width/oe*ke/oe,He=Me.height/de*ze/de),ge===void 0&&(ge=K,Ce=Z,K=0,Z=0),oe!==void 0&&ke===void 0&&(ke=oe,ze=de),oe===void 0&&ke===void 0&&(ke=Me.width,ze=Me.height);for(var le,St=this.ctx.transform.decompose(),ct=ne(St.rotate.shx),Ye=new c,Je=(Ye=(Ye=(Ye=Ye.multiply(St.translate)).multiply(St.skew)).multiply(St.scale)).applyToRectangle(new o(ge-K*it,Ce-Z*Re,oe*Ge,de*He)),Qe=C.call(this,Je),et=[],gt=0;gt<Qe.length;gt+=1)et.indexOf(Qe[gt])===-1&&et.push(Qe[gt]);if(R(et),this.autoPaging)for(var Tt=et[0],Ot=et[et.length-1],Ht=Tt;Ht<Ot+1;Ht++){this.pdf.setPage(Ht);var zt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Kt=Ht===1?this.posY+this.margin[0]:this.margin[0],xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Rt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=Ht===1?0:xt+(Ht-2)*Rt;if(this.ctx.clip_path.length!==0){var ai=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(le,this.posX+this.margin[3],-rt+Kt+this.ctx.prevPageLastElemOffset),O.call(this,"fill",!0),this.path=ai}var rn=JSON.parse(JSON.stringify(Je));rn=P([rn],this.posX+this.margin[3],-rt+Kt+this.ctx.prevPageLastElemOffset)[0];var Us=(Ht>Tt||Ht<Ot)&&w.call(this);Us&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],zt,Rt,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",rn.x,rn.y,rn.w,rn.h,null,null,ct),Us&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(I,"JPEG",Je.x,Je.y,Je.w,Je.h,null,null,ct)};var C=function(I,K,Z){var oe=[];K=K||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var de=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":oe.push(Math.floor((I.y+de)/Z)+1);break;case"arc":oe.push(Math.floor((I.y+de-I.radius)/Z)+1),oe.push(Math.floor((I.y+de+I.radius)/Z)+1);break;case"qct":var ge=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);oe.push(Math.floor((ge.y+de)/Z)+1),oe.push(Math.floor((ge.y+ge.h+de)/Z)+1);break;case"bct":var Ce=me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);oe.push(Math.floor((Ce.y+de)/Z)+1),oe.push(Math.floor((Ce.y+Ce.h+de)/Z)+1);break;case"rect":oe.push(Math.floor((I.y+de)/Z)+1),oe.push(Math.floor((I.y+I.h+de)/Z)+1)}for(var ke=0;ke<oe.length;ke+=1)for(;this.pdf.internal.getNumberOfPages()<oe[ke];)S.call(this);return oe},S=function(){var I=this.fillStyle,K=this.strokeStyle,Z=this.font,oe=this.lineCap,de=this.lineWidth,ge=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=K,this.font=Z,this.lineCap=oe,this.lineWidth=de,this.lineJoin=ge},P=function(I,K,Z){for(var oe=0;oe<I.length;oe++)switch(I[oe].type){case"bct":I[oe].x2+=K,I[oe].y2+=Z;case"qct":I[oe].x1+=K,I[oe].y1+=Z;case"mt":case"lt":case"arc":default:I[oe].x+=K,I[oe].y+=Z}return I},R=function(I){return I.sort(function(K,Z){return K-Z})},M=function(I,K){for(var Z,oe,de=this.fillStyle,ge=this.strokeStyle,Ce=this.lineCap,ke=this.lineWidth,ze=Math.abs(ke*this.ctx.transform.scaleX),Me=this.lineJoin,Ge=JSON.parse(JSON.stringify(this.path)),He=JSON.parse(JSON.stringify(this.path)),it=[],Re=0;Re<He.length;Re++)if(He[Re].x!==void 0)for(var le=C.call(this,He[Re]),St=0;St<le.length;St+=1)it.indexOf(le[St])===-1&&it.push(le[St]);for(var ct=0;ct<it.length;ct++)for(;this.pdf.internal.getNumberOfPages()<it[ct];)S.call(this);if(R(it),this.autoPaging)for(var Ye=it[0],Je=it[it.length-1],Qe=Ye;Qe<Je+1;Qe++){this.pdf.setPage(Qe),this.fillStyle=de,this.strokeStyle=ge,this.lineCap=Ce,this.lineWidth=ze,this.lineJoin=Me;var et=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],gt=Qe===1?this.posY+this.margin[0]:this.margin[0],Tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ht=Qe===1?0:Tt+(Qe-2)*Ot;if(this.ctx.clip_path.length!==0){var zt=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(Z,this.posX+this.margin[3],-Ht+gt+this.ctx.prevPageLastElemOffset),O.call(this,I,!0),this.path=zt}if(oe=JSON.parse(JSON.stringify(Ge)),this.path=P(oe,this.posX+this.margin[3],-Ht+gt+this.ctx.prevPageLastElemOffset),K===!1||Qe===0){var Kt=(Qe>Ye||Qe<Je)&&w.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],et,Ot,null).clip().discardPath()),O.call(this,I,K),Kt&&this.pdf.restoreGraphicsState()}this.lineWidth=ke}else this.lineWidth=ze,O.call(this,I,K),this.lineWidth=ke;this.path=Ge},O=function(I,K){if((I!=="stroke"||K||!x.call(this))&&(I==="stroke"||K||!v.call(this))){for(var Z,oe,de=[],ge=this.path,Ce=0;Ce<ge.length;Ce++){var ke=ge[Ce];switch(ke.type){case"begin":de.push({begin:!0});break;case"close":de.push({close:!0});break;case"mt":de.push({start:ke,deltas:[],abs:[]});break;case"lt":var ze=de.length;if(ge[Ce-1]&&!isNaN(ge[Ce-1].x)&&(Z=[ke.x-ge[Ce-1].x,ke.y-ge[Ce-1].y],ze>0)){for(;ze>=0;ze--)if(de[ze-1].close!==!0&&de[ze-1].begin!==!0){de[ze-1].deltas.push(Z),de[ze-1].abs.push(ke);break}}break;case"bct":Z=[ke.x1-ge[Ce-1].x,ke.y1-ge[Ce-1].y,ke.x2-ge[Ce-1].x,ke.y2-ge[Ce-1].y,ke.x-ge[Ce-1].x,ke.y-ge[Ce-1].y],de[de.length-1].deltas.push(Z);break;case"qct":var Me=ge[Ce-1].x+2/3*(ke.x1-ge[Ce-1].x),Ge=ge[Ce-1].y+2/3*(ke.y1-ge[Ce-1].y),He=ke.x+2/3*(ke.x1-ke.x),it=ke.y+2/3*(ke.y1-ke.y),Re=ke.x,le=ke.y;Z=[Me-ge[Ce-1].x,Ge-ge[Ce-1].y,He-ge[Ce-1].x,it-ge[Ce-1].y,Re-ge[Ce-1].x,le-ge[Ce-1].y],de[de.length-1].deltas.push(Z);break;case"arc":de.push({deltas:[],abs:[],arc:!0}),Array.isArray(de[de.length-1].abs)&&de[de.length-1].abs.push(ke)}}oe=K?null:I==="stroke"?"stroke":"fill";for(var St=!1,ct=0;ct<de.length;ct++)if(de[ct].arc)for(var Ye=de[ct].abs,Je=0;Je<Ye.length;Je++){var Qe=Ye[Je];Qe.type==="arc"?D.call(this,Qe.x,Qe.y,Qe.radius,Qe.startAngle,Qe.endAngle,Qe.counterclockwise,void 0,K,!St):ee.call(this,Qe.x,Qe.y),St=!0}else if(de[ct].close===!0)this.pdf.internal.out("h"),St=!1;else if(de[ct].begin!==!0){var et=de[ct].start.x,gt=de[ct].start.y;re.call(this,de[ct].deltas,et,gt),St=!0}oe&&Q.call(this,oe),K&&ue.call(this)}},$=function(I){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-Z;case"top":return I+K-Z;case"hanging":return I+K-2*Z;case"middle":return I+K/2-Z;case"ideographic":return I;case"alphabetic":default:return I}},U=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(K,Z){this.colorStops.push([K,Z])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(I,K,Z,oe,de,ge,Ce,ke,ze){for(var Me=fe.call(this,Z,oe,de,ge),Ge=0;Ge<Me.length;Ge++){var He=Me[Ge];Ge===0&&(ze?j.call(this,He.x1+I,He.y1+K):ee.call(this,He.x1+I,He.y1+K)),pe.call(this,I,K,He.x2,He.y2,He.x3,He.y3,He.x4,He.y4)}ke?ue.call(this):Q.call(this,Ce)},Q=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ue=function(){this.pdf.clip(),this.pdf.discardPath()},j=function(I,K){this.pdf.internal.out(t(I)+" "+n(K)+" m")},V=function(I){var K;switch(I.align){case"right":case"end":K="right";break;case"center":K="center";break;case"left":case"start":default:K="left"}var Z=this.pdf.getTextDimensions(I.text),oe=$.call(this,I.y),de=U.call(this,oe)-Z.h,ge=this.ctx.transform.applyToPoint(new a(I.x,oe)),Ce=this.ctx.transform.decompose(),ke=new c;ke=(ke=(ke=ke.multiply(Ce.translate)).multiply(Ce.skew)).multiply(Ce.scale);for(var ze,Me,Ge,He=this.ctx.transform.applyToRectangle(new o(I.x,oe,Z.w,Z.h)),it=ke.applyToRectangle(new o(I.x,de,Z.w,Z.h)),Re=C.call(this,it),le=[],St=0;St<Re.length;St+=1)le.indexOf(Re[St])===-1&&le.push(Re[St]);if(R(le),this.autoPaging)for(var ct=le[0],Ye=le[le.length-1],Je=ct;Je<Ye+1;Je++){this.pdf.setPage(Je);var Qe=Je===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[2],Tt=gt-this.margin[0],Ot=this.pdf.internal.pageSize.width-this.margin[1],Ht=Ot-this.margin[3],zt=Je===1?0:et+(Je-2)*Tt;if(this.ctx.clip_path.length!==0){var Kt=this.path;ze=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(ze,this.posX+this.margin[3],-1*zt+Qe),O.call(this,"fill",!0),this.path=Kt}var xt=P([JSON.parse(JSON.stringify(it))],this.posX+this.margin[3],-zt+Qe+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(Me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Me*I.scale),Ge=this.lineWidth,this.lineWidth=Ge*I.scale);var Rt=this.autoPaging!=="text";if(Rt||xt.y+xt.h<=gt){if(Rt||xt.y>=Qe&&xt.x<=Ot){var rt=Rt?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||Ot-xt.x)[0],ai=P([JSON.parse(JSON.stringify(He))],this.posX+this.margin[3],-zt+Qe+this.ctx.prevPageLastElemOffset)[0],rn=Rt&&(Je>ct||Je<Ye)&&w.call(this);rn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ht,Tt,null).clip().discardPath()),this.pdf.text(rt,ai.x,ai.y,{angle:I.angle,align:K,renderingMode:I.renderingMode}),rn&&this.pdf.restoreGraphicsState()}}else xt.y<gt&&(this.ctx.prevPageLastElemOffset+=gt-xt.y);I.scale>=.01&&(this.pdf.setFontSize(Me),this.lineWidth=Ge)}else I.scale>=.01&&(Me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Me*I.scale),Ge=this.lineWidth,this.lineWidth=Ge*I.scale),this.pdf.text(I.text,ge.x+this.posX,ge.y+this.posY,{angle:I.angle,align:K,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(Me),this.lineWidth=Ge)},ee=function(I,K,Z,oe){Z=Z||0,oe=oe||0,this.pdf.internal.out(t(I+Z)+" "+n(K+oe)+" l")},re=function(I,K,Z){return this.pdf.lines(I,K,Z,null,null)},pe=function(I,K,Z,oe,de,ge,Ce,ke){this.pdf.internal.out([e(r(Z+I)),e(s(oe+K)),e(r(de+I)),e(s(ge+K)),e(r(Ce+I)),e(s(ke+K)),"c"].join(" "))},fe=function(I,K,Z,oe){for(var de=2*Math.PI,ge=Math.PI/2;K>Z;)K-=de;var Ce=Math.abs(Z-K);Ce<de&&oe&&(Ce=de-Ce);for(var ke=[],ze=oe?-1:1,Me=K;Ce>1e-5;){var Ge=Me+ze*Math.min(Ce,ge);ke.push(he.call(this,I,Me,Ge)),Ce-=Math.abs(Ge-Me),Me=Ge}return ke},he=function(I,K,Z){var oe=(Z-K)/2,de=I*Math.cos(oe),ge=I*Math.sin(oe),Ce=de,ke=-ge,ze=Ce*Ce+ke*ke,Me=ze+Ce*de+ke*ge,Ge=4/3*(Math.sqrt(2*ze*Me)-Me)/(Ce*ge-ke*de),He=Ce-Ge*ke,it=ke+Ge*Ce,Re=He,le=-it,St=oe+K,ct=Math.cos(St),Ye=Math.sin(St);return{x1:I*Math.cos(K),y1:I*Math.sin(K),x2:He*ct-it*Ye,y2:He*Ye+it*ct,x3:Re*ct-le*Ye,y3:Re*Ye+le*ct,x4:I*Math.cos(Z),y4:I*Math.sin(Z)}},ne=function(I){return 180*I/Math.PI},ye=function(I,K,Z,oe,de,ge){var Ce=I+.5*(Z-I),ke=K+.5*(oe-K),ze=de+.5*(Z-de),Me=ge+.5*(oe-ge),Ge=Math.min(I,de,Ce,ze),He=Math.max(I,de,Ce,ze),it=Math.min(K,ge,ke,Me),Re=Math.max(K,ge,ke,Me);return new o(Ge,it,He-Ge,Re-it)},me=function(I,K,Z,oe,de,ge,Ce,ke){var ze,Me,Ge,He,it,Re,le,St,ct,Ye,Je,Qe,et,gt,Tt=Z-I,Ot=oe-K,Ht=de-Z,zt=ge-oe,Kt=Ce-de,xt=ke-ge;for(Me=0;Me<41;Me++)ct=(le=(Ge=I+(ze=Me/40)*Tt)+ze*((it=Z+ze*Ht)-Ge))+ze*(it+ze*(de+ze*Kt-it)-le),Ye=(St=(He=K+ze*Ot)+ze*((Re=oe+ze*zt)-He))+ze*(Re+ze*(ge+ze*xt-Re)-St),Me==0?(Je=ct,Qe=Ye,et=ct,gt=Ye):(Je=Math.min(Je,ct),Qe=Math.min(Qe,Ye),et=Math.max(et,ct),gt=Math.max(gt,Ye));return new o(Math.round(Je),Math.round(Qe),Math.round(et-Je),Math.round(gt-Qe))},se=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,K,Z=(I=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:K}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(Pt.API),function(i){var e=function(s){var a,o,c,h,d,p,y,v,x,w;for(o=[],c=0,h=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;h>c;c+=4)(d=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(p=(d=((d=((d=((d=(d-(w=d%85))/85)-(x=d%85))/85)-(v=d%85))/85)-(y=d%85))/85)%85,o.push(p+33,y+33,v+33,x+33,w+33)):o.push(122);return function(C,S){for(var P=S;P>0;P--)C.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},t=function(s){var a,o,c,h,d,p=String,y="length",v=255,x="charCodeAt",w="slice",C="replace";for(s[w](-2),s=s[w](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),c=[],h=0,d=(s+=a="uuuuu"[w](s[y]%5||5))[y];d>h;h+=5)o=52200625*(s[x](h)-33)+614125*(s[x](h+1)-33)+7225*(s[x](h+2)-33)+85*(s[x](h+3)-33)+(s[x](h+4)-33),c.push(v&o>>24,v&o>>16,v&o>>8,v&o);return function(S,P){for(var R=P;R>0;R--)S.pop()}(c,a[y]),p.fromCharCode.apply(p,c)},n=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var o="",c=0;c<s.length;c+=2)o+=String.fromCharCode("0x"+(s[c]+s[c+1]));return o},r=function(s){for(var a=new Uint8Array(s.length),o=s.length;o--;)a[o]=s.charCodeAt(o);return s=(a=gS(a)).reduce(function(c,h){return c+String.fromCharCode(h)},"")};i.processDataByFilters=function(s,a){var o=0,c=s||"",h=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=r(c),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:c,reverseChain:h.reverse().join(" ")}}}(Pt.API),function(i){i.loadFile=function(e,t,n){return function(r,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(c,h,d){var p=new XMLHttpRequest,y=0,v=function(x){var w=x.length,C=[],S=String.fromCharCode;for(y=0;y<w;y+=1)C.push(S(255&x.charCodeAt(y)));return C.join("")};if(p.open("GET",c,!h),p.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(p.onload=function(){p.status===200?d(v(this.responseText)):d(void 0)}),p.send(null),h&&p.status===200)return v(p.responseText)}(r,s,a)}catch{}return o}(e,t,n)},i.loadImageFile=i.loadFile}(Pt.API),function(i){function e(){return(Lt.html2canvas?Promise.resolve(Lt.html2canvas):Df(()=>import("./html2canvas.esm-DadlvMMh.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function t(){return(Lt.DOMPurify?Promise.resolve(Lt.DOMPurify):Df(()=>import("./purify.es-Ci5xwkH_.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var o=Rn(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},r=function(a,o){var c=document.createElement(a);for(var h in o.className&&(c.className=o.className),o.innerHTML&&o.dompurify&&(c.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)c.style[h]=o.style[h];return c},s=function a(o){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),h=a.convert(Promise.resolve(),c);return h=(h=h.setProgress(1,a,1,[a])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,o){return a.__proto__=o||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(t).then(function(c){return this.set({src:r("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function c(h,d){for(var p=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),y=h.firstChild;y;y=y.nextSibling)d!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||p.appendChild(c(y,d));return h.nodeType===1&&(h.nodeName==="CANVAS"?(p.width=h.width,p.height=h.height,p.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(p.value=h.value),p.addEventListener("load",function(){p.scrollTop=h.scrollTop,p.scrollLeft=h.scrollLeft},!0)),p}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,o(this.prop.container,c)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var c=this.opt.jsPDF,h=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=h,h)for(var y=0;y<h.length;++y){var v=h[y],x=v.src.find(function(w){return w.format==="truetype"});x&&c.addFont(x.url,v.ref.name,v.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,c.context2d.save(!0),o(this.prop.container,p)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,o,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},s.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(n(a)!=="object")return this;var o=Object.keys(a||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(a,o){return this.then(function(){var c=a in s.template.prop?this.prop[a]:this.opt[a];return o?o(c):c})},s.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function o(c,h){return Math.floor(c*h/72*96)}return this.then(function(){(a=a||Pt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,o,c,h){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),c!=null&&(this.progress.n=c),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,o,c,h){return this.setProgress(a?this.progress.val+a:null,o||null,c?this.progress.n+c:null,h?this.progress.stack.concat(h):null)},s.prototype.then=function(a,o){var c=this;return this.thenCore(a,o,function(h,d){return c.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(p){return c.updateProgress(null,h),p}).then(h,d).then(function(p){return c.updateProgress(1),p})})},s.prototype.thenCore=function(a,o,c){c=c||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),d=c.call(h,a,o);return s.convert(d,this.__proto__)},s.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},s.prototype.thenList=function(a){var o=this;return a.forEach(function(c){o=o.thenCore(c)}),o},s.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return s.convert(o,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Pt.getPageSize=function(a,o,c){if(Rn(a)==="object"){var h=a;a=h.orientation,o=h.unit||o,c=h.format||c}o=o||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var d,p=(""+c).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+o}var v,x=0,w=0;if(y.hasOwnProperty(p))x=y[p][1]/d,w=y[p][0]/d;else try{x=c[1],w=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",w>x&&(v=w,w=x,x=v);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",x>w&&(v=w,w=x,x=v)}return{width:w,height:x,unit:o,k:d,orientation:a}},i.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(xS):null;var c=new s(o);return o.worker?c:c.from(a).doCallback()}}(Pt.API),Pt.API.addJS=function(i){return $E=i,this.internal.events.subscribe("postPutResources",function(){f2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(f2+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),HE=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+$E+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){f2!==void 0&&HE!==void 0&&this.internal.out("/Names <</JavaScript "+f2+" 0 R>>")}),this},function(i){var e;i.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=t.outline.render().split(/\r\n/),s=0;s<r.length;s++){var a=r[s],o=n.exec(a);if(o!=null){var c=o[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,d=[];for(s=0;s<h;s++){var p=t.internal.newObject();d.push(p);var y=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var v=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<d.length;s++)t.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+v+" 0 R"),t.internal.write(">>","endobj")}}]),i.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),i.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,r,s){var a={title:r,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var r=0;r<n.children.length;r++)this.genIds_r(n.children[r])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var c=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var h=0;h<n.children.length;h++)this.renderItems(n.children[h])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,r){for(var s=0;s<r.children.length;s++)n.count++,this.count_r(n,r.children[s]);return n.count}}])}(Pt.API),function(i){var e=[192,193,194,195,196,197,198,199];i.processJPEG=function(t,n,r,s,a,o){var c,h=this.decode.DCT_DECODE,d=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(c=function(p){for(var y,v=256*p.charCodeAt(4)+p.charCodeAt(5),x=p.length,w={width:0,height:0,numcomponents:1},C=4;C<x;C+=2){if(C+=v,e.indexOf(p.charCodeAt(C+1))!==-1){y=256*p.charCodeAt(C+5)+p.charCodeAt(C+6),w={width:256*p.charCodeAt(C+7)+p.charCodeAt(C+8),height:y,numcomponents:p.charCodeAt(C+9)};break}v=256*p.charCodeAt(C+2)+p.charCodeAt(C+3)}return w}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:t,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:h,index:n,alias:r}}return d}}(Pt.API);var Fm,p2,VE,WE,GE,TU=function(){var i,e,t;function n(s){var a,o,c,h,d,p,y,v,x,w,C,S,P,R;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},p=null;;){switch(a=this.readUInt32(),x=(function(){var M,O;for(O=[],M=0;M<4;++M)O.push(String.fromCharCode(this.data[this.pos++]));return O}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":p&&this.animation.frames.push(p),this.pos+=4,p={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),h=this.readUInt16()||100,p.delay=1e3*d/h,p.disposeOp=this.data[this.pos++],p.blendOp=this.data[this.pos++],p.data=[];break;case"IDAT":case"fdAT":for(x==="fdAT"&&(this.pos+=4,a-=4),s=(p!=null?p.data:void 0)||this.imgData,S=0;0<=a?S<a:S>a;0<=a?++S:--S)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((w=c-this.transparency.indexed.length)>0)for(P=0;0<=w?P<w:P>w;0<=w?++P:--P)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":y=(C=this.read(a)).indexOf(0),v=String.fromCharCode.apply(String,C.slice(0,y)),this.text[v]=String.fromCharCode.apply(String,C.slice(y+1));break;case"IEND":return p&&this.animation.frames.push(p),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(R=this.colorType)===4||R===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var a,o;for(o=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),c=0,h=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function d(p,y,v,x){var w,C,S,P,R,M,O,$,U,D,Q,ue,j,V,ee,re,pe,fe,he,ne,ye,me=Math.ceil((h.width-p)/v),se=Math.ceil((h.height-y)/x),I=h.width==me&&h.height==se;for(V=a*me,ue=I?o:new Uint8Array(V*se),M=s.length,j=0,C=0;j<se&&c<M;){switch(s[c++]){case 0:for(P=pe=0;pe<V;P=pe+=1)ue[C++]=s[c++];break;case 1:for(P=fe=0;fe<V;P=fe+=1)w=s[c++],R=P<a?0:ue[C-a],ue[C++]=(w+R)%256;break;case 2:for(P=he=0;he<V;P=he+=1)w=s[c++],S=(P-P%a)/a,ee=j&&ue[(j-1)*V+S*a+P%a],ue[C++]=(ee+w)%256;break;case 3:for(P=ne=0;ne<V;P=ne+=1)w=s[c++],S=(P-P%a)/a,R=P<a?0:ue[C-a],ee=j&&ue[(j-1)*V+S*a+P%a],ue[C++]=(w+Math.floor((R+ee)/2))%256;break;case 4:for(P=ye=0;ye<V;P=ye+=1)w=s[c++],S=(P-P%a)/a,R=P<a?0:ue[C-a],j===0?ee=re=0:(ee=ue[(j-1)*V+S*a+P%a],re=S&&ue[(j-1)*V+(S-1)*a+P%a]),O=R+ee-re,$=Math.abs(O-R),D=Math.abs(O-ee),Q=Math.abs(O-re),U=$<=D&&$<=Q?R:D<=Q?ee:re,ue[C++]=(w+U)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!I){var K=((y+j*x)*h.width+p)*a,Z=j*V;for(P=0;P<me;P+=1){for(var oe=0;oe<a;oe+=1)o[K++]=ue[Z++];K+=(v-1)*a}}j++}}return s=oU(s),h.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),o},n.prototype.decodePalette=function(){var s,a,o,c,h,d,p,y,v;for(o=this.palette,d=this.transparency.indexed||[],h=new Uint8Array((d.length||0)+o.length),c=0,s=0,a=p=0,y=o.length;p<y;a=p+=3)h[c++]=o[a],h[c++]=o[a+1],h[c++]=o[a+2],h[c++]=(v=d[s++])!=null?v:255;return h},n.prototype.copyToImageData=function(s,a){var o,c,h,d,p,y,v,x,w,C,S;if(c=this.colors,w=null,o=this.hasAlphaChannel,this.palette.length&&(w=(S=this._decodedPalette)!=null?S:this._decodedPalette=this.decodePalette(),c=4,o=!0),x=(h=s.data||s).length,p=w||a,d=y=0,c===1)for(;d<x;)v=w?4*a[d/4]:y,C=p[v++],h[d++]=C,h[d++]=C,h[d++]=C,h[d++]=o?p[v++]:255,y=v;else for(;d<x;)v=w?4*a[d/4]:y,h[d++]=p[v++],h[d++]=p[v++],h[d++]=p[v++],h[d++]=o?p[v++]:255,y=v},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var r=function(){if(Object.prototype.toString.call(Lt)==="[object Window]"){try{e=Lt.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return r(),i=function(s){var a;if(r()===!0)return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var a,o,c,h,d,p,y,v;if(this.animation){for(v=[],o=d=0,p=(y=this.animation.frames).length;d<p;o=++d)a=y[o],c=s.createImageData(a.width,a.height),h=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(c,h),a.imageData=c,v.push(a.image=i(c));return v}},n.prototype.renderFrame=function(s,a){var o,c,h;return o=(c=this.animation.frames)[a],h=c[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(h!=null?h.disposeOp:void 0)===1?s.clearRect(h.xOffset,h.yOffset,h.width,h.height):(h!=null?h.disposeOp:void 0)===2&&s.putImageData(h.imageData,h.xOffset,h.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(s){var a,o,c,h,d,p,y=this;return o=0,p=this.animation,h=p.numFrames,c=p.frames,d=p.numPlays,(a=function(){var v,x;if(v=o++%h,x=c[v],y.renderFrame(s,v),h>1&&o/h<d)return y.animation._timeout=setTimeout(a,x.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var a,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function LU(i){var e=0;if(i[e++]!==71||i[e++]!==73||i[e++]!==70||i[e++]!==56||(i[e++]+1&253)!=56||i[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=i[e++]|i[e++]<<8,n=i[e++]|i[e++]<<8,r=i[e++],s=r>>7,a=1<<(7&r)+1;i[e++],i[e++];var o=null,c=null;s&&(o=e,c=a,e+=3*a);var h=!0,d=[],p=0,y=null,v=0,x=null;for(this.width=t,this.height=n;h&&e<i.length;)switch(i[e++]){case 33:switch(i[e++]){case 255:if(i[e]!==11||i[e+1]==78&&i[e+2]==69&&i[e+3]==84&&i[e+4]==83&&i[e+5]==67&&i[e+6]==65&&i[e+7]==80&&i[e+8]==69&&i[e+9]==50&&i[e+10]==46&&i[e+11]==48&&i[e+12]==3&&i[e+13]==1&&i[e+16]==0)e+=14,x=i[e++]|i[e++]<<8,e++;else for(e+=12;;){if(!((j=i[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}break;case 249:if(i[e++]!==4||i[e+4]!==0)throw new Error("Invalid graphics extension block.");var w=i[e++];p=i[e++]|i[e++]<<8,y=i[e++],(1&w)==0&&(y=null),v=w>>2&7,e++;break;case 254:for(;;){if(!((j=i[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}break;default:throw new Error("Unknown graphic control label: 0x"+i[e-1].toString(16))}break;case 44:var C=i[e++]|i[e++]<<8,S=i[e++]|i[e++]<<8,P=i[e++]|i[e++]<<8,R=i[e++]|i[e++]<<8,M=i[e++],O=M>>6&1,$=1<<(7&M)+1,U=o,D=c,Q=!1;M>>7&&(Q=!0,U=e,D=$,e+=3*$);var ue=e;for(e++;;){var j;if(!((j=i[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}d.push({x:C,y:S,width:P,height:R,has_local_palette:Q,palette_offset:U,palette_size:D,data_offset:ue,data_length:e-ue,transparent_index:y,interlaced:!!O,delay:p,disposal:v});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+i[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return x},this.frameInfo=function(V){if(V<0||V>=d.length)throw new Error("Frame index out of range.");return d[V]},this.decodeAndBlitFrameBGRA=function(V,ee){var re=this.frameInfo(V),pe=re.width*re.height,fe=new Uint8Array(pe);YE(i,re.data_offset,fe,pe);var he=re.palette_offset,ne=re.transparent_index;ne===null&&(ne=256);var ye=re.width,me=t-ye,se=ye,I=4*(re.y*t+re.x),K=4*((re.y+re.height)*t+re.x),Z=I,oe=4*me;re.interlaced===!0&&(oe+=4*t*7);for(var de=8,ge=0,Ce=fe.length;ge<Ce;++ge){var ke=fe[ge];if(se===0&&(se=ye,(Z+=oe)>=K&&(oe=4*me+4*t*(de-1),Z=I+(ye+me)*(de<<1),de>>=1)),ke===ne)Z+=4;else{var ze=i[he+3*ke],Me=i[he+3*ke+1],Ge=i[he+3*ke+2];ee[Z++]=Ge,ee[Z++]=Me,ee[Z++]=ze,ee[Z++]=255}--se}},this.decodeAndBlitFrameRGBA=function(V,ee){var re=this.frameInfo(V),pe=re.width*re.height,fe=new Uint8Array(pe);YE(i,re.data_offset,fe,pe);var he=re.palette_offset,ne=re.transparent_index;ne===null&&(ne=256);var ye=re.width,me=t-ye,se=ye,I=4*(re.y*t+re.x),K=4*((re.y+re.height)*t+re.x),Z=I,oe=4*me;re.interlaced===!0&&(oe+=4*t*7);for(var de=8,ge=0,Ce=fe.length;ge<Ce;++ge){var ke=fe[ge];if(se===0&&(se=ye,(Z+=oe)>=K&&(oe=4*me+4*t*(de-1),Z=I+(ye+me)*(de<<1),de>>=1)),ke===ne)Z+=4;else{var ze=i[he+3*ke],Me=i[he+3*ke+1],Ge=i[he+3*ke+2];ee[Z++]=ze,ee[Z++]=Me,ee[Z++]=Ge,ee[Z++]=255}--se}}}function YE(i,e,t,n){for(var r=i[e++],s=1<<r,a=s+1,o=a+1,c=r+1,h=(1<<c)-1,d=0,p=0,y=0,v=i[e++],x=new Int32Array(4096),w=null;;){for(;d<16&&v!==0;)p|=i[e++]<<d,d+=8,v===1?v=i[e++]:--v;if(d<c)break;var C=p&h;if(p>>=c,d-=c,C!==s){if(C===a)break;for(var S=C<o?C:w,P=0,R=S;R>s;)R=x[R]>>8,++P;var M=R;if(y+P+(S!==C?1:0)>n)return void jn.log("Warning, gif stream longer than expected.");t[y++]=M;var O=y+=P;for(S!==C&&(t[y++]=M),R=S;P--;)R=x[R],t[--O]=255&R,R>>=8;w!==null&&o<4096&&(x[o++]=w<<8|M,o>=h+1&&c<12&&(++c,h=h<<1|1)),w=C}else o=a+1,h=(1<<(c=r+1))-1,w=null}return y!==n&&jn.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function rx(i){var e,t,n,r,s,a=Math.floor,o=new Array(64),c=new Array(64),h=new Array(64),d=new Array(64),p=new Array(65535),y=new Array(65535),v=new Array(64),x=new Array(64),w=[],C=0,S=7,P=new Array(64),R=new Array(64),M=new Array(64),O=new Array(256),$=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],ue=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],j=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],V=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ee=[0,1,2,3,4,5,6,7,8,9,10,11],re=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function fe(I,K){for(var Z=0,oe=0,de=new Array,ge=1;ge<=16;ge++){for(var Ce=1;Ce<=I[ge];Ce++)de[K[oe]]=[],de[K[oe]][0]=Z,de[K[oe]][1]=ge,oe++,Z++;Z*=2}return de}function he(I){for(var K=I[0],Z=I[1]-1;Z>=0;)K&1<<Z&&(C|=1<<S),Z--,--S<0&&(C==255?(ne(255),ne(0)):ne(C),S=7,C=0)}function ne(I){w.push(I)}function ye(I){ne(I>>8&255),ne(255&I)}function me(I,K,Z,oe,de){for(var ge,Ce=de[0],ke=de[240],ze=function(Ye,Je){var Qe,et,gt,Tt,Ot,Ht,zt,Kt,xt,Rt,rt=0;for(xt=0;xt<8;++xt){Qe=Ye[rt],et=Ye[rt+1],gt=Ye[rt+2],Tt=Ye[rt+3],Ot=Ye[rt+4],Ht=Ye[rt+5],zt=Ye[rt+6];var ai=Qe+(Kt=Ye[rt+7]),rn=Qe-Kt,Us=et+zt,kn=et-zt,In=gt+Ht,qs=gt-Ht,ln=Tt+Ot,Lo=Tt-Ot,Un=ai+ln,oi=ai-ln,zi=Us+In,$n=Us-In;Ye[rt]=Un+zi,Ye[rt+4]=Un-zi;var It=.707106781*($n+oi);Ye[rt+2]=oi+It,Ye[rt+6]=oi-It;var hn=.382683433*((Un=Lo+qs)-($n=kn+rn)),Al=.5411961*Un+hn,Br=1.306562965*$n+hn,Hs=.707106781*(zi=qs+kn),ba=rn+Hs,_t=rn-Hs;Ye[rt+5]=_t+Al,Ye[rt+3]=_t-Al,Ye[rt+1]=ba+Br,Ye[rt+7]=ba-Br,rt+=8}for(rt=0,xt=0;xt<8;++xt){Qe=Ye[rt],et=Ye[rt+8],gt=Ye[rt+16],Tt=Ye[rt+24],Ot=Ye[rt+32],Ht=Ye[rt+40],zt=Ye[rt+48];var vs=Qe+(Kt=Ye[rt+56]),Ui=Qe-Kt,qi=et+zt,Vn=et-zt,Wn=gt+Ht,li=gt-Ht,Cl=Tt+Ot,No=Tt-Ot,_a=vs+Cl,wa=vs-Cl,Yr=qi+Wn,xa=qi-Wn;Ye[rt]=_a+Yr,Ye[rt+32]=_a-Yr;var bs=.707106781*(xa+wa);Ye[rt+16]=wa+bs,Ye[rt+48]=wa-bs;var Za=.382683433*((_a=No+li)-(xa=Vn+Ui)),kl=.5411961*_a+Za,Pc=1.306562965*xa+Za,Tc=.707106781*(Yr=li+Vn),Lc=Ui+Tc,Qu=Ui-Tc;Ye[rt+40]=Qu+kl,Ye[rt+24]=Qu-kl,Ye[rt+8]=Lc+Pc,Ye[rt+56]=Lc-Pc,rt++}for(xt=0;xt<64;++xt)Rt=Ye[xt]*Je[xt],v[xt]=Rt>0?Rt+.5|0:Rt-.5|0;return v}(I,K),Me=0;Me<64;++Me)x[U[Me]]=ze[Me];var Ge=x[0]-Z;Z=x[0],Ge==0?he(oe[0]):(he(oe[y[ge=32767+Ge]]),he(p[ge]));for(var He=63;He>0&&x[He]==0;)He--;if(He==0)return he(Ce),Z;for(var it,Re=1;Re<=He;){for(var le=Re;x[Re]==0&&Re<=He;)++Re;var St=Re-le;if(St>=16){it=St>>4;for(var ct=1;ct<=it;++ct)he(ke);St&=15}ge=32767+x[Re],he(de[(St<<4)+y[ge]]),he(p[ge]),Re++}return He!=63&&he(Ce),Z}function se(I){I=Math.min(Math.max(I,1),100),s!=I&&(function(K){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],oe=0;oe<64;oe++){var de=a((Z[oe]*K+50)/100);de=Math.min(Math.max(de,1),255),o[U[oe]]=de}for(var ge=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ce=0;Ce<64;Ce++){var ke=a((ge[Ce]*K+50)/100);ke=Math.min(Math.max(ke,1),255),c[U[Ce]]=ke}for(var ze=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Me=0,Ge=0;Ge<8;Ge++)for(var He=0;He<8;He++)h[Me]=1/(o[U[Me]]*ze[Ge]*ze[He]*8),d[Me]=1/(c[U[Me]]*ze[Ge]*ze[He]*8),Me++}(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),s=I)}this.encode=function(I,K){K&&se(K),w=new Array,C=0,S=7,ye(65496),ye(65504),ye(16),ne(74),ne(70),ne(73),ne(70),ne(0),ne(1),ne(1),ne(0),ye(1),ye(1),ne(0),ne(0),function(){ye(65499),ye(132),ne(0);for(var et=0;et<64;et++)ne(o[et]);ne(1);for(var gt=0;gt<64;gt++)ne(c[gt])}(),function(et,gt){ye(65472),ye(17),ne(8),ye(gt),ye(et),ne(3),ne(1),ne(17),ne(0),ne(2),ne(17),ne(1),ne(3),ne(17),ne(1)}(I.width,I.height),function(){ye(65476),ye(418),ne(0);for(var et=0;et<16;et++)ne(D[et+1]);for(var gt=0;gt<=11;gt++)ne(Q[gt]);ne(16);for(var Tt=0;Tt<16;Tt++)ne(ue[Tt+1]);for(var Ot=0;Ot<=161;Ot++)ne(j[Ot]);ne(1);for(var Ht=0;Ht<16;Ht++)ne(V[Ht+1]);for(var zt=0;zt<=11;zt++)ne(ee[zt]);ne(17);for(var Kt=0;Kt<16;Kt++)ne(re[Kt+1]);for(var xt=0;xt<=161;xt++)ne(pe[xt])}(),ye(65498),ye(12),ne(3),ne(1),ne(0),ne(2),ne(17),ne(3),ne(17),ne(0),ne(63),ne(0);var Z=0,oe=0,de=0;C=0,S=7,this.encode.displayName="_encode_";for(var ge,Ce,ke,ze,Me,Ge,He,it,Re,le=I.data,St=I.width,ct=I.height,Ye=4*St,Je=0;Je<ct;){for(ge=0;ge<Ye;){for(Me=Ye*Je+ge,He=-1,it=0,Re=0;Re<64;Re++)Ge=Me+(it=Re>>3)*Ye+(He=4*(7&Re)),Je+it>=ct&&(Ge-=Ye*(Je+1+it-ct)),ge+He>=Ye&&(Ge-=ge+He-Ye+4),Ce=le[Ge++],ke=le[Ge++],ze=le[Ge++],P[Re]=($[Ce]+$[ke+256>>0]+$[ze+512>>0]>>16)-128,R[Re]=($[Ce+768>>0]+$[ke+1024>>0]+$[ze+1280>>0]>>16)-128,M[Re]=($[Ce+1280>>0]+$[ke+1536>>0]+$[ze+1792>>0]>>16)-128;Z=me(P,h,Z,e,n),oe=me(R,d,oe,t,r),de=me(M,d,de,t,r),ge+=32}Je+=8}if(S>=0){var Qe=[];Qe[1]=S+1,Qe[0]=(1<<S+1)-1,he(Qe)}return ye(65497),new Uint8Array(w)},i=i||50,function(){for(var I=String.fromCharCode,K=0;K<256;K++)O[K]=I(K)}(),e=fe(D,Q),t=fe(V,ee),n=fe(ue,j),r=fe(re,pe),function(){for(var I=1,K=2,Z=1;Z<=15;Z++){for(var oe=I;oe<K;oe++)y[32767+oe]=Z,p[32767+oe]=[],p[32767+oe][1]=Z,p[32767+oe][0]=oe;for(var de=-(K-1);de<=-I;de++)y[32767+de]=Z,p[32767+de]=[],p[32767+de][1]=Z,p[32767+de][0]=K-1+de;I<<=1,K<<=1}}(),function(){for(var I=0;I<256;I++)$[I]=19595*I,$[I+256>>0]=38470*I,$[I+512>>0]=7471*I+32768,$[I+768>>0]=-11059*I,$[I+1024>>0]=-21709*I,$[I+1280>>0]=32768*I+8421375,$[I+1536>>0]=-27439*I,$[I+1792>>0]=-5329*I}(),se(i)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function el(i,e){if(this.pos=0,this.buffer=i,this.datav=new DataView(i.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function XE(i){function e(D){if(!D)throw Error("assert :P")}function t(D,Q,ue){for(var j=0;4>j;j++)if(D[Q+j]!=ue.charCodeAt(j))return!0;return!1}function n(D,Q,ue,j,V){for(var ee=0;ee<V;ee++)D[Q+ee]=ue[j+ee]}function r(D,Q,ue,j){for(var V=0;V<j;V++)D[Q+V]=ue}function s(D){return new Int32Array(D)}function a(D,Q){for(var ue=[],j=0;j<D;j++)ue.push(new Q);return ue}function o(D,Q){var ue=[];return function j(V,ee,re){for(var pe=re[ee],fe=0;fe<pe&&(V.push(re.length>ee+1?[]:new Q),!(re.length<ee+1));fe++)j(V[fe],ee+1,re)}(ue,0,D),ue}var c=function(){var D=this;function Q(m,_){for(var E=1<<_-1>>>0;m&E;)E>>>=1;return E?(m&E-1)+E:m}function ue(m,_,E,N,F){e(!(N%E));do m[_+(N-=E)]=F;while(0<N)}function j(m,_,E,N,F){if(e(2328>=F),512>=F)var q=s(512);else if((q=s(F))==null)return 0;return function(G,Y,X,ie,be,Pe){var Te,Ae,qe=Y,Oe=1<<X,we=s(16),xe=s(16);for(e(be!=0),e(ie!=null),e(G!=null),e(0<X),Ae=0;Ae<be;++Ae){if(15<ie[Ae])return 0;++we[ie[Ae]]}if(we[0]==be)return 0;for(xe[1]=0,Te=1;15>Te;++Te){if(we[Te]>1<<Te)return 0;xe[Te+1]=xe[Te]+we[Te]}for(Ae=0;Ae<be;++Ae)Te=ie[Ae],0<ie[Ae]&&(Pe[xe[Te]++]=Ae);if(xe[15]==1)return(ie=new V).g=0,ie.value=Pe[0],ue(G,qe,1,Oe,ie),Oe;var Be,je=-1,Ue=Oe-1,ot=0,Ze=1,wt=1,tt=1<<X;for(Ae=0,Te=1,be=2;Te<=X;++Te,be<<=1){if(Ze+=wt<<=1,0>(wt-=we[Te]))return 0;for(;0<we[Te];--we[Te])(ie=new V).g=Te,ie.value=Pe[Ae++],ue(G,qe+ot,be,tt,ie),ot=Q(ot,Te)}for(Te=X+1,be=2;15>=Te;++Te,be<<=1){if(Ze+=wt<<=1,0>(wt-=we[Te]))return 0;for(;0<we[Te];--we[Te]){if(ie=new V,(ot&Ue)!=je){for(qe+=tt,Be=1<<(je=Te)-X;15>je&&!(0>=(Be-=we[je]));)++je,Be<<=1;Oe+=tt=1<<(Be=je-X),G[Y+(je=ot&Ue)].g=Be+X,G[Y+je].value=qe-Y-je}ie.g=Te-X,ie.value=Pe[Ae++],ue(G,qe+(ot>>X),be,tt,ie),ot=Q(ot,Te)}}return Ze!=2*xe[15]-1?0:Oe}(m,_,E,N,F,q)}function V(){this.value=this.g=0}function ee(){this.value=this.g=0}function re(){this.G=a(5,V),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(nr,ee)}function pe(m,_,E,N){e(m!=null),e(_!=null),e(2147483648>N),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=_,m.pa=E,m.Jd=_,m.Yc=E+N,m.Zc=4<=N?E+N-4+1:E,ge(m)}function fe(m,_){for(var E=0;0<_--;)E|=ke(m,128)<<_;return E}function he(m,_){var E=fe(m,_);return Ce(m)?-E:E}function ne(m,_,E,N){var F,q=0;for(e(m!=null),e(_!=null),e(4294967288>N),m.Sb=N,m.Ra=0,m.u=0,m.h=0,4<N&&(N=4),F=0;F<N;++F)q+=_[E+F]<<8*F;m.Ra=q,m.bb=N,m.oa=_,m.pa=E}function ye(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<vh-8>>>0,++m.bb,m.u-=8;Z(m)&&(m.h=1,m.u=0)}function me(m,_){if(e(0<=_),!m.h&&_<=yh){var E=K(m)&gh[_];return m.u+=_,ye(m),E}return m.h=1,m.u=0}function se(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function I(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(m){return m.Ra>>>(m.u&vh-1)>>>0}function Z(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>vh}function oe(m,_){m.u=_,m.h=Z(m)}function de(m){m.u>=bh&&(e(m.u>=bh),ye(m))}function ge(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function Ce(m){return fe(m,1)}function ke(m,_){var E=m.Ca;0>m.b&&ge(m);var N=m.b,F=E*_>>>8,q=(m.I>>>N>F)+0;for(q?(E-=F,m.I-=F+1<<N>>>0):E=F+1,N=E,F=0;256<=N;)F+=8,N>>=8;return N=7^F+ki[N],m.b-=N,m.Ca=(E<<N)-1,q}function ze(m,_,E){m[_+0]=E>>24&255,m[_+1]=E>>16&255,m[_+2]=E>>8&255,m[_+3]=E>>0&255}function Me(m,_){return m[_+0]<<0|m[_+1]<<8}function Ge(m,_){return Me(m,_)|m[_+2]<<16}function He(m,_){return Me(m,_)|Me(m,_+2)<<16}function it(m,_){var E=1<<_;return e(m!=null),e(0<_),m.X=s(E),m.X==null?0:(m.Mb=32-_,m.Xa=_,1)}function Re(m,_){e(m!=null),e(_!=null),e(m.Xa==_.Xa),n(_.X,0,m.X,0,1<<_.Xa)}function le(){this.X=[],this.Xa=this.Mb=0}function St(m,_,E,N){e(E!=null),e(N!=null);var F=E[0],q=N[0];return F==0&&(F=(m*q+_/2)/_),q==0&&(q=(_*F+m/2)/m),0>=F||0>=q?0:(E[0]=F,N[0]=q,1)}function ct(m,_){return m+(1<<_)-1>>>_}function Ye(m,_){return((4278255360&m)+(4278255360&_)>>>0&4278255360)+((16711935&m)+(16711935&_)>>>0&16711935)>>>0}function Je(m,_){D[_]=function(E,N,F,q,G,Y,X){var ie;for(ie=0;ie<G;++ie){var be=D[m](Y[X+ie-1],F,q+ie);Y[X+ie]=Ye(E[N+ie],be)}}}function Qe(){this.ud=this.hd=this.jd=0}function et(m,_){return((4278124286&(m^_))>>>1)+(m&_)>>>0}function gt(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Tt(m,_){return gt(m+(m-_+.5>>1))}function Ot(m,_,E){return Math.abs(_-E)-Math.abs(m-E)}function Ht(m,_,E,N,F,q,G){for(N=q[G-1],E=0;E<F;++E)q[G+E]=N=Ye(m[_+E],N)}function zt(m,_,E,N,F){var q;for(q=0;q<E;++q){var G=m[_+q],Y=G>>8&255,X=16711935&(X=(X=16711935&G)+((Y<<16)+Y));N[F+q]=(4278255360&G)+X>>>0}}function Kt(m,_){_.jd=m>>0&255,_.hd=m>>8&255,_.ud=m>>16&255}function xt(m,_,E,N,F,q){var G;for(G=0;G<N;++G){var Y=_[E+G],X=Y>>>8,ie=Y,be=255&(be=(be=Y>>>16)+((m.jd<<24>>24)*(X<<24>>24)>>>5));ie=255&(ie=(ie=ie+((m.hd<<24>>24)*(X<<24>>24)>>>5))+((m.ud<<24>>24)*(be<<24>>24)>>>5)),F[q+G]=(4278255360&Y)+(be<<16)+ie}}function Rt(m,_,E,N,F){D[_]=function(q,G,Y,X,ie,be,Pe,Te,Ae){for(X=Pe;X<Te;++X)for(Pe=0;Pe<Ae;++Pe)ie[be++]=F(Y[N(q[G++])])},D[m]=function(q,G,Y,X,ie,be,Pe){var Te=8>>q.b,Ae=q.Ea,qe=q.K[0],Oe=q.w;if(8>Te)for(q=(1<<q.b)-1,Oe=(1<<Te)-1;G<Y;++G){var we,xe=0;for(we=0;we<Ae;++we)we&q||(xe=N(X[ie++])),be[Pe++]=F(qe[xe&Oe]),xe>>=Te}else D["VP8LMapColor"+E](X,ie,qe,Oe,be,Pe,G,Y,Ae)}}function rt(m,_,E,N,F){for(E=_+E;_<E;){var q=m[_++];N[F++]=q>>16&255,N[F++]=q>>8&255,N[F++]=q>>0&255}}function ai(m,_,E,N,F){for(E=_+E;_<E;){var q=m[_++];N[F++]=q>>16&255,N[F++]=q>>8&255,N[F++]=q>>0&255,N[F++]=q>>24&255}}function rn(m,_,E,N,F){for(E=_+E;_<E;){var q=(G=m[_++])>>16&240|G>>12&15,G=G>>0&240|G>>28&15;N[F++]=q,N[F++]=G}}function Us(m,_,E,N,F){for(E=_+E;_<E;){var q=(G=m[_++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;N[F++]=q,N[F++]=G}}function kn(m,_,E,N,F){for(E=_+E;_<E;){var q=m[_++];N[F++]=q>>0&255,N[F++]=q>>8&255,N[F++]=q>>16&255}}function In(m,_,E,N,F,q){if(q==0)for(E=_+E;_<E;)ze(N,((q=m[_++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),F+=32;else n(N,F,m,_,E)}function qs(m,_){D[_][0]=D[m+"0"],D[_][1]=D[m+"1"],D[_][2]=D[m+"2"],D[_][3]=D[m+"3"],D[_][4]=D[m+"4"],D[_][5]=D[m+"5"],D[_][6]=D[m+"6"],D[_][7]=D[m+"7"],D[_][8]=D[m+"8"],D[_][9]=D[m+"9"],D[_][10]=D[m+"10"],D[_][11]=D[m+"11"],D[_][12]=D[m+"12"],D[_][13]=D[m+"13"],D[_][14]=D[m+"0"],D[_][15]=D[m+"0"]}function ln(m){return m==Ch||m==Kc||m==af||m==of}function Lo(){this.eb=[],this.size=this.A=this.fb=0}function Un(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function oi(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Lo,this.f.kb=new Un,this.sd=null}function zi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function $n(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function It(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function hn(m,_){var E=m.T,N=_.ba.f.RGBA,F=N.eb,q=N.fb+m.ka*N.A,G=Yi[_.ba.S],Y=m.y,X=m.O,ie=m.f,be=m.N,Pe=m.ea,Te=m.W,Ae=_.cc,qe=_.dc,Oe=_.Mc,we=_.Nc,xe=m.ka,Be=m.ka+m.T,je=m.U,Ue=je+1>>1;for(xe==0?G(Y,X,null,null,ie,be,Pe,Te,ie,be,Pe,Te,F,q,null,null,je):(G(_.ec,_.fc,Y,X,Ae,qe,Oe,we,ie,be,Pe,Te,F,q-N.A,F,q,je),++E);xe+2<Be;xe+=2)Ae=ie,qe=be,Oe=Pe,we=Te,be+=m.Rc,Te+=m.Rc,q+=2*N.A,G(Y,(X+=2*m.fa)-m.fa,Y,X,Ae,qe,Oe,we,ie,be,Pe,Te,F,q-N.A,F,q,je);return X+=m.fa,m.j+Be<m.o?(n(_.ec,_.fc,Y,X,je),n(_.cc,_.dc,ie,be,Ue),n(_.Mc,_.Nc,Pe,Te,Ue),E--):1&Be||G(Y,X,null,null,ie,be,Pe,Te,ie,be,Pe,Te,F,q+N.A,null,null,je),E}function Al(m,_,E){var N=m.F,F=[m.J];if(N!=null){var q=m.U,G=_.ba.S,Y=G==sf||G==af;_=_.ba.f.RGBA;var X=[0],ie=m.ka;X[0]=m.T,m.Kb&&(ie==0?--X[0]:(--ie,F[0]-=m.width),m.j+m.ka+m.T==m.o&&(X[0]=m.o-m.j-ie));var be=_.eb;ie=_.fb+ie*_.A,m=vn(N,F[0],m.width,q,X,be,ie+(Y?0:3),_.A),e(E==X),m&&ln(G)&&Wi(be,ie,Y,q,X,_.A)}return 0}function Br(m){var _=m.ma,E=_.ba.S,N=11>E,F=E==Ul||E==rf||E==sf||E==Pn||E==12||ln(E);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!ph(_.Oa,m,F?11:12))return 0;if(F&&ln(E)&&$e(),m.da)alert("todo:use_scaling");else{if(N){if(_.Ib=It,m.Kb){if(E=m.U+1>>1,_.memory=s(m.U+2*E),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+m.U,_.Mc=_.cc,_.Nc=_.dc+E,_.Ib=hn,$e()}}else alert("todo:EmitYUV");F&&(_.Jb=Al,N&&Ee())}if(N&&!Kr){for(m=0;256>m;++m)Xi[m]=89858*(m-128)+Pa>>qo,Ki[m]=-22014*(m-128)+Pa,Th[m]=-45773*(m-128),eu[m]=113618*(m-128)+Pa>>qo;for(m=bn;m<xn;++m)_=76283*(m-16)+Pa>>qo,vm[m-bn]=xs(_,255),xv[m-bn]=xs(_+8>>4,15);Kr=1}return 1}function Hs(m){var _=m.ma,E=m.U,N=m.T;return e(!(1&m.ka)),0>=E||0>=N?0:(E=_.Ib(m,_),_.Jb!=null&&_.Jb(m,_,E),_.Dc+=E,1)}function ba(m){m.ma.memory=null}function _t(m,_,E,N){return me(m,8)!=47?0:(_[0]=me(m,14)+1,E[0]=me(m,14)+1,N[0]=me(m,1),me(m,3)!=0?0:!m.h)}function vs(m,_){if(4>m)return m+1;var E=m-2>>1;return(2+(1&m)<<E)+me(_,E)+1}function Ui(m,_){return 120<_?_-120:1<=(E=((E=R_[_-1])>>4)*m+(8-(15&E)))?E:1;var E}function qi(m,_,E){var N=K(E),F=m[_+=255&N].g-8;return 0<F&&(oe(E,E.u+8),N=K(E),_+=m[_].value,_+=N&(1<<F)-1),oe(E,E.u+m[_].g),m[_].value}function Vn(m,_,E){return E.g+=m.g,E.value+=m.value<<_>>>0,e(8>=E.g),m.g}function Wn(m,_,E){var N=m.xc;return e((_=N==0?0:m.vc[m.md*(E>>N)+(_>>N)])<m.Wb),m.Ya[_]}function li(m,_,E,N){var F=m.ab,q=m.c*_,G=m.C;_=G+_;var Y=E,X=N;for(N=m.Ta,E=m.Ua;0<F--;){var ie=m.gc[F],be=G,Pe=_,Te=Y,Ae=X,qe=(X=N,Y=E,ie.Ea);switch(e(be<Pe),e(Pe<=ie.nc),ie.hc){case 2:fm(Te,Ae,(Pe-be)*qe,X,Y);break;case 0:var Oe=be,we=Pe,xe=X,Be=Y,je=(tt=ie).Ea;Oe==0&&($c(Te,Ae,null,null,1,xe,Be),Ht(Te,Ae+1,0,0,je-1,xe,Be+1),Ae+=je,Be+=je,++Oe);for(var Ue=1<<tt.b,ot=Ue-1,Ze=ct(je,tt.b),wt=tt.K,tt=tt.w+(Oe>>tt.b)*Ze;Oe<we;){var cn=wt,un=tt,tn=1;for(Mo(Te,Ae,xe,Be-je,1,xe,Be);tn<je;){var $t=(tn&~ot)+Ue;$t>je&&($t=je),(0,so[cn[un++]>>8&15])(Te,Ae+ +tn,xe,Be+tn-je,$t-tn,xe,Be+tn),tn=$t}Ae+=je,Be+=je,++Oe&ot||(tt+=Ze)}Pe!=ie.nc&&n(X,Y-qe,X,Y+(Pe-be-1)*qe,qe);break;case 1:for(qe=Te,we=Ae,je=(Te=ie.Ea)-(Be=Te&~(xe=(Ae=1<<ie.b)-1)),Oe=ct(Te,ie.b),Ue=ie.K,ie=ie.w+(be>>ie.b)*Oe;be<Pe;){for(ot=Ue,Ze=ie,wt=new Qe,tt=we+Be,cn=we+Te;we<tt;)Kt(ot[Ze++],wt),jl(wt,qe,we,Ae,X,Y),we+=Ae,Y+=Ae;we<cn&&(Kt(ot[Ze++],wt),jl(wt,qe,we,je,X,Y),we+=je,Y+=je),++be&xe||(ie+=Oe)}break;case 3:if(Te==X&&Ae==Y&&0<ie.b){for(we=X,Te=qe=Y+(Pe-be)*qe-(Be=(Pe-be)*ct(ie.Ea,ie.b)),Ae=X,xe=Y,Oe=[],Be=(je=Be)-1;0<=Be;--Be)Oe[Be]=Ae[xe+Be];for(Be=je-1;0<=Be;--Be)we[Te+Be]=Oe[Be];Ei(ie,be,Pe,X,qe,X,Y)}else Ei(ie,be,Pe,Te,Ae,X,Y)}Y=N,X=E}X!=E&&n(N,E,Y,X,q)}function Cl(m,_){var E=m.V,N=m.Ba+m.c*m.C,F=_-m.C;if(e(_<=m.l.o),e(16>=F),0<F){var q=m.l,G=m.Ta,Y=m.Ua,X=q.width;if(li(m,F,E,N),F=Y=[Y],e((E=m.C)<(N=_)),e(q.v<q.va),N>q.o&&(N=q.o),E<q.j){var ie=q.j-E;E=q.j,F[0]+=ie*X}if(E>=N?E=0:(F[0]+=4*q.v,q.ka=E-q.j,q.U=q.va-q.v,q.T=N-E,E=1),E){if(Y=Y[0],11>(E=m.ca).S){var be=E.f.RGBA,Pe=(N=E.S,F=q.U,q=q.T,ie=be.eb,be.A),Te=q;for(be=be.fb+m.Ma*be.A;0<Te--;){var Ae=G,qe=Y,Oe=F,we=ie,xe=be;switch(N){case pm:Pi(Ae,qe,Oe,we,xe);break;case Ul:ui(Ae,qe,Oe,we,xe);break;case Ch:ui(Ae,qe,Oe,we,xe),Wi(we,xe,0,Oe,1,0);break;case yv:Fo(Ae,qe,Oe,we,xe);break;case rf:In(Ae,qe,Oe,we,xe,1);break;case Kc:In(Ae,qe,Oe,we,xe,1),Wi(we,xe,0,Oe,1,0);break;case sf:In(Ae,qe,Oe,we,xe,0);break;case af:In(Ae,qe,Oe,we,xe,0),Wi(we,xe,1,Oe,1,0);break;case Pn:Bl(Ae,qe,Oe,we,xe);break;case of:Bl(Ae,qe,Oe,we,xe),En(we,xe,Oe,1,0);break;case mm:Oo(Ae,qe,Oe,we,xe);break;default:e(0)}Y+=X,be+=Pe}m.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=E.height)}}m.C=_,e(m.C<=m.i)}function No(m){var _;if(0<m.ua)return 0;for(_=0;_<m.Wb;++_){var E=m.Ya[_].G,N=m.Ya[_].H;if(0<E[1][N[1]+0].g||0<E[2][N[2]+0].g||0<E[3][N[3]+0].g)return 0}return 1}function _a(m,_,E,N,F,q){if(m.Z!=0){var G=m.qd,Y=m.rd;for(e(di[m.Z]!=null);_<E;++_)di[m.Z](G,Y,N,F,N,F,q),G=N,Y=F,F+=q;m.qd=G,m.rd=Y}}function wa(m,_){var E=m.l.ma,N=E.Z==0||E.Z==1?m.l.j:m.C;if(N=m.C<N?N:m.C,e(_<=m.l.o),_>N){var F=m.l.width,q=E.ca,G=E.tb+F*N,Y=m.V,X=m.Ba+m.c*N,ie=m.gc;e(m.ab==1),e(ie[0].hc==3),ef(ie[0],N,_,Y,X,q,G),_a(E,N,_,q,G,F)}m.C=m.Ma=_}function Yr(m,_,E,N,F,q,G){var Y=m.$/N,X=m.$%N,ie=m.m,be=m.s,Pe=E+m.$,Te=Pe;F=E+N*F;var Ae=E+N*q,qe=280+be.ua,Oe=m.Pb?Y:16777216,we=0<be.ua?be.Wa:null,xe=be.wc,Be=Pe<Ae?Wn(be,X,Y):null;e(m.C<q),e(Ae<=F);var je=!1;e:for(;;){for(;je||Pe<Ae;){var Ue=0;if(Y>=Oe){var ot=Pe-E;e((Oe=m).Pb),Oe.wd=Oe.m,Oe.xd=ot,0<Oe.s.ua&&Re(Oe.s.Wa,Oe.s.vb),Oe=Y+ym}if(X&xe||(Be=Wn(be,X,Y)),e(Be!=null),Be.Qb&&(_[Pe]=Be.qb,je=!0),!je)if(de(ie),Be.jc){Ue=ie,ot=_;var Ze=Pe,wt=Be.pd[K(Ue)&nr-1];e(Be.jc),256>wt.g?(oe(Ue,Ue.u+wt.g),ot[Ze]=wt.value,Ue=0):(oe(Ue,Ue.u+wt.g-256),e(256<=wt.value),Ue=wt.value),Ue==0&&(je=!0)}else Ue=qi(Be.G[0],Be.H[0],ie);if(ie.h)break;if(je||256>Ue){if(!je)if(Be.nd)_[Pe]=(Be.qb|Ue<<8)>>>0;else{if(de(ie),je=qi(Be.G[1],Be.H[1],ie),de(ie),ot=qi(Be.G[2],Be.H[2],ie),Ze=qi(Be.G[3],Be.H[3],ie),ie.h)break;_[Pe]=(Ze<<24|je<<16|Ue<<8|ot)>>>0}if(je=!1,++Pe,++X>=N&&(X=0,++Y,G!=null&&Y<=q&&!(Y%16)&&G(m,Y),we!=null))for(;Te<Pe;)Ue=_[Te++],we.X[(506832829*Ue&4294967295)>>>we.Mb]=Ue}else if(280>Ue){if(Ue=vs(Ue-256,ie),ot=qi(Be.G[4],Be.H[4],ie),de(ie),ot=Ui(N,ot=vs(ot,ie)),ie.h)break;if(Pe-E<ot||F-Pe<Ue)break e;for(Ze=0;Ze<Ue;++Ze)_[Pe+Ze]=_[Pe+Ze-ot];for(Pe+=Ue,X+=Ue;X>=N;)X-=N,++Y,G!=null&&Y<=q&&!(Y%16)&&G(m,Y);if(e(Pe<=F),X&xe&&(Be=Wn(be,X,Y)),we!=null)for(;Te<Pe;)Ue=_[Te++],we.X[(506832829*Ue&4294967295)>>>we.Mb]=Ue}else{if(!(Ue<qe))break e;for(je=Ue-280,e(we!=null);Te<Pe;)Ue=_[Te++],we.X[(506832829*Ue&4294967295)>>>we.Mb]=Ue;Ue=Pe,e(!(je>>>(ot=we).Xa)),_[Ue]=ot.X[je],je=!0}je||e(ie.h==Z(ie))}if(m.Pb&&ie.h&&Pe<F)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&Re(m.s.vb,m.s.Wa);else{if(ie.h)break e;G!=null&&G(m,Y>q?q:Y),m.a=0,m.$=Pe-E}return 1}return m.a=3,0}function xa(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var _=m.Wa;_!=null&&(_.X=null),m.vb=null,e(m!=null)}function bs(){var m=new C0;return m==null?null:(m.a=0,m.xb=Eh,qs("Predictor","VP8LPredictors"),qs("Predictor","VP8LPredictors_C"),qs("PredictorAdd","VP8LPredictorsAdd"),qs("PredictorAdd","VP8LPredictorsAdd_C"),fm=zt,jl=xt,Pi=rt,ui=ai,Bl=rn,Oo=Us,Fo=kn,D.VP8LMapColor32b=_h,D.VP8LMapColor8b=wh,m)}function Za(m,_,E,N,F){var q=1,G=[m],Y=[_],X=N.m,ie=N.s,be=null,Pe=0;e:for(;;){if(E)for(;q&&me(X,1);){var Te=G,Ae=Y,qe=N,Oe=1,we=qe.m,xe=qe.gc[qe.ab],Be=me(we,2);if(qe.Oc&1<<Be)q=0;else{switch(qe.Oc|=1<<Be,xe.hc=Be,xe.Ea=Te[0],xe.nc=Ae[0],xe.K=[null],++qe.ab,e(4>=qe.ab),Be){case 0:case 1:xe.b=me(we,3)+2,Oe=Za(ct(xe.Ea,xe.b),ct(xe.nc,xe.b),0,qe,xe.K),xe.K=xe.K[0];break;case 3:var je,Ue=me(we,8)+1,ot=16<Ue?0:4<Ue?1:2<Ue?2:3;if(Te[0]=ct(xe.Ea,ot),xe.b=ot,je=Oe=Za(Ue,1,0,qe,xe.K)){var Ze,wt=Ue,tt=xe,cn=1<<(8>>tt.b),un=s(cn);if(un==null)je=0;else{var tn=tt.K[0],$t=tt.w;for(un[0]=tt.K[0][0],Ze=1;Ze<1*wt;++Ze)un[Ze]=Ye(tn[$t+Ze],un[Ze-1]);for(;Ze<4*cn;++Ze)un[Ze]=0;tt.K[0]=null,tt.K[0]=un,je=1}}Oe=je;break;case 2:break;default:e(0)}q=Oe}}if(G=G[0],Y=Y[0],q&&me(X,1)&&!(q=1<=(Pe=me(X,4))&&11>=Pe)){N.a=3;break e}var _n;if(_n=q)t:{var Sn,Nt,Kn,Ni=N,lr=G,Er=Y,mn=Pe,fi=E,pi=Ni.m,Jn=Ni.s,Pr=[null],Jr=1,Ji=0,Ks=bv[mn];n:for(;;){if(fi&&me(pi,1)){var Qn=me(pi,3)+2,vr=ct(lr,Qn),Cs=ct(Er,Qn),$l=vr*Cs;if(!Za(vr,Cs,0,Ni,Pr))break n;for(Pr=Pr[0],Jn.xc=Qn,Sn=0;Sn<$l;++Sn){var $o=Pr[Sn]>>8&65535;Pr[Sn]=$o,$o>=Jr&&(Jr=$o+1)}}if(pi.h)break n;for(Nt=0;5>Nt;++Nt){var gn=Jc[Nt];!Nt&&0<mn&&(gn+=1<<mn),Ji<gn&&(Ji=gn)}var uo=a(Jr*Ks,V),bm=Jr,N0=a(bm,re);if(N0==null)var Js=null;else e(65536>=bm),Js=N0;var Qs=s(Ji);if(Js==null||Qs==null||uo==null){Ni.a=1;break n}var nu=uo;for(Sn=Kn=0;Sn<Jr;++Sn){var Zs=Js[Sn],Vo=Zs.G,ru=Zs.H,Lh=0,ks=1,Nh=0;for(Nt=0;5>Nt;++Nt){gn=Jc[Nt],Vo[Nt]=nu,ru[Nt]=Kn,!Nt&&0<mn&&(gn+=1<<mn);i:{var Vl,Wo=gn,Rh=Ni,ho=Qs,Av=nu,R0=Kn,Fn=0,Ta=Rh.m,I0=me(Ta,1);if(r(ho,0,0,Wo),I0){var M0=me(Ta,1)+1,_m=me(Ta,1),wm=me(Ta,_m==0?1:8);ho[wm]=1,M0==2&&(ho[wm=me(Ta,8)]=1);var fo=1}else{var qn=s(19),br=me(Ta,4)+4;if(19<br){Rh.a=3;var cr=0;break i}for(Vl=0;Vl<br;++Vl)qn[N_[Vl]]=me(Ta,3);var Ih=void 0,Go=void 0,Mh=Rh,D_=qn,Tr=Wo,xm=ho,df=0,po=Mh.m,La=8,Es=a(128,V);r:for(;j(Es,0,7,D_,19);){if(me(po,1)){var ff=2+2*me(po,3);if((Ih=2+me(po,ff))>Tr)break r}else Ih=Tr;for(Go=0;Go<Tr&&Ih--;){de(po);var Sm=Es[0+(127&K(po))];oe(po,po.u+Sm.g);var Wl=Sm.value;if(16>Wl)xm[Go++]=Wl,Wl!=0&&(La=Wl);else{var Cv=Wl==16,O0=Wl-16,kv=gm[O0],F0=me(po,lf[O0])+kv;if(Go+F0>Tr)break r;for(var Ev=Cv?La:0;0<F0--;)xm[Go++]=Ev}}df=1;break r}df||(Mh.a=3),fo=df}(fo=fo&&!Ta.h)&&(Fn=j(Av,R0,8,ho,Wo)),fo&&Fn!=0?cr=Fn:(Rh.a=3,cr=0)}if(cr==0)break n;if(ks&&vv[Nt]==1&&(ks=nu[Kn].g==0),Lh+=nu[Kn].g,Kn+=cr,3>=Nt){var Oh,Am=Qs[0];for(Oh=1;Oh<gn;++Oh)Qs[Oh]>Am&&(Am=Qs[Oh]);Nh+=Am}}if(Zs.nd=ks,Zs.Qb=0,ks&&(Zs.qb=(Vo[3][ru[3]+0].value<<24|Vo[1][ru[1]+0].value<<16|Vo[2][ru[2]+0].value)>>>0,Lh==0&&256>Vo[0][ru[0]+0].value&&(Zs.Qb=1,Zs.qb+=Vo[0][ru[0]+0].value<<8)),Zs.jc=!Zs.Qb&&6>Nh,Zs.jc){var pf,Ps=Zs;for(pf=0;pf<nr;++pf){var Yo=pf,Na=Ps.pd[Yo],iu=Ps.G[0][Ps.H[0]+Yo];256<=iu.value?(Na.g=iu.g+256,Na.value=iu.value):(Na.g=0,Na.value=0,Yo>>=Vn(iu,8,Na),Yo>>=Vn(Ps.G[1][Ps.H[1]+Yo],16,Na),Yo>>=Vn(Ps.G[2][Ps.H[2]+Yo],0,Na),Vn(Ps.G[3][Ps.H[3]+Yo],24,Na))}}}Jn.vc=Pr,Jn.Wb=Jr,Jn.Ya=Js,Jn.yc=uo,_n=1;break t}_n=0}if(!(q=_n)){N.a=3;break e}if(0<Pe){if(ie.ua=1<<Pe,!it(ie.Wa,Pe)){N.a=1,q=0;break e}}else ie.ua=0;var Cm=N,km=G,Pv=Y,Em=Cm.s,Pm=Em.xc;if(Cm.c=km,Cm.i=Pv,Em.md=ct(km,Pm),Em.wc=Pm==0?-1:(1<<Pm)-1,E){N.xb=co;break e}if((be=s(G*Y))==null){N.a=1,q=0;break e}q=(q=Yr(N,be,0,G,Y,Y,null))&&!X.h;break e}return q?(F!=null?F[0]=be:(e(be==null),e(E)),N.$=0,E||xa(ie)):xa(ie),q}function kl(m,_){var E=m.c*m.i,N=E+_+16*_;return e(m.c<=_),m.V=s(N),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+E+_,1)}function Pc(m,_){var E=m.C,N=_-E,F=m.V,q=m.Ba+m.c*E;for(e(_<=m.l.o);0<N;){var G=16<N?16:N,Y=m.l.ma,X=m.l.width,ie=X*G,be=Y.ca,Pe=Y.tb+X*E,Te=m.Ta,Ae=m.Ua;li(m,G,F,q),rr(Te,Ae,be,Pe,ie),_a(Y,E,E+G,be,Pe,X),N-=G,F+=G*m.c,E+=G}e(E==_),m.C=m.Ma=_}function Tc(){this.ub=this.yd=this.td=this.Rb=0}function Lc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Qu(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function im(){this.Yb=function(){var m=[];return function _(E,N,F){for(var q=F[N],G=0;G<q&&(E.push(F.length>N+1?[]:0),!(F.length<N+1));G++)_(E[G],N+1,F)}(m,0,[3,11]),m}()}function Gn(){this.jb=s(3),this.Wc=o([4,8],im),this.Xc=o([4,17],im)}function x0(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function El(){this.ld=this.La=this.dd=this.tc=0}function qd(){this.Na=this.la=0}function Zu(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Hd(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function sm(){this.uc=this.M=this.Nb=0,this.wa=Array(new El),this.Y=0,this.ya=Array(new Hd),this.aa=0,this.l=new eh}function Nc(){this.y=s(16),this.f=s(8),this.ea=s(8)}function $s(){this.cb=this.a=0,this.sc="",this.m=new se,this.Od=new Tc,this.Kc=new Lc,this.ed=new x0,this.Qa=new Qu,this.Ic=this.$c=this.Aa=0,this.D=new sm,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,se),this.ia=0,this.pb=a(4,Zu),this.Pa=new Gn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Nc),this.Hd=0,this.rb=Array(new qd),this.sb=0,this.wa=Array(new El),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Hd),this.L=this.aa=0,this.gd=o([4,2],El),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function eh(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function _s(){var m=new $s;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Qc||(Qc=Rc)),m}function or(m,_,E){return m.a==0&&(m.a=_,m.sc=E,m.cb=0),0}function am(m,_,E){return 3<=E&&m[_+0]==157&&m[_+1]==1&&m[_+2]==42}function om(m,_){if(m==null)return 0;if(m.a=0,m.sc="OK",_==null)return or(m,2,"null VP8Io passed to VP8GetHeaders()");var E=_.data,N=_.w,F=_.ha;if(4>F)return or(m,7,"Truncated header.");var q=E[N+0]|E[N+1]<<8|E[N+2]<<16,G=m.Od;if(G.Rb=!(1&q),G.td=q>>1&7,G.yd=q>>4&1,G.ub=q>>5,3<G.td)return or(m,3,"Incorrect keyframe parameters.");if(!G.yd)return or(m,4,"Frame not displayable.");N+=3,F-=3;var Y=m.Kc;if(G.Rb){if(7>F)return or(m,7,"cannot parse picture header");if(!am(E,N,F))return or(m,3,"Bad code word");Y.c=16383&(E[N+4]<<8|E[N+3]),Y.Td=E[N+4]>>6,Y.i=16383&(E[N+6]<<8|E[N+5]),Y.Ud=E[N+6]>>6,N+=7,F-=7,m.za=Y.c+15>>4,m.Ub=Y.i+15>>4,_.width=Y.c,_.height=Y.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,r((q=m.Pa).jb,0,255,q.jb.length),e((q=m.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,r(q.Zb,0,0,q.Zb.length),r(q.Lb,0,0,q.Lb)}if(G.ub>F)return or(m,7,"bad partition length");pe(q=m.m,E,N,G.ub),N+=G.ub,F-=G.ub,G.Rb&&(Y.Ld=Ce(q),Y.Kd=Ce(q)),Y=m.Qa;var X,ie=m.Pa;if(e(q!=null),e(Y!=null),Y.Cb=Ce(q),Y.Cb){if(Y.Bb=Ce(q),Ce(q)){for(Y.Fb=Ce(q),X=0;4>X;++X)Y.Zb[X]=Ce(q)?he(q,7):0;for(X=0;4>X;++X)Y.Lb[X]=Ce(q)?he(q,6):0}if(Y.Bb)for(X=0;3>X;++X)ie.jb[X]=Ce(q)?fe(q,8):255}else Y.Bb=0;if(q.Ka)return or(m,3,"cannot parse segment header");if((Y=m.ed).zd=Ce(q),Y.Tb=fe(q,6),Y.wb=fe(q,3),Y.Pc=Ce(q),Y.Pc&&Ce(q)){for(ie=0;4>ie;++ie)Ce(q)&&(Y.vd[ie]=he(q,6));for(ie=0;4>ie;++ie)Ce(q)&&(Y.od[ie]=he(q,6))}if(m.L=Y.Tb==0?0:Y.zd?1:2,q.Ka)return or(m,3,"cannot parse filter header");var be=F;if(F=X=N,N=X+be,Y=be,m.Xb=(1<<fe(m.m,2))-1,be<3*(ie=m.Xb))E=7;else{for(X+=3*ie,Y-=3*ie,be=0;be<ie;++be){var Pe=E[F+0]|E[F+1]<<8|E[F+2]<<16;Pe>Y&&(Pe=Y),pe(m.Jc[+be],E,X,Pe),X+=Pe,Y-=Pe,F+=3}pe(m.Jc[+ie],E,X,Y),E=X<N?0:5}if(E!=0)return or(m,E,"cannot parse partitions");for(E=fe(X=m.m,7),F=Ce(X)?he(X,4):0,N=Ce(X)?he(X,4):0,Y=Ce(X)?he(X,4):0,ie=Ce(X)?he(X,4):0,X=Ce(X)?he(X,4):0,be=m.Qa,Pe=0;4>Pe;++Pe){if(be.Cb){var Te=be.Zb[Pe];be.Fb||(Te+=E)}else{if(0<Pe){m.pb[Pe]=m.pb[0];continue}Te=E}var Ae=m.pb[Pe];Ae.Sc[0]=kh[xs(Te+F,127)],Ae.Sc[1]=cf[xs(Te+0,127)],Ae.Eb[0]=2*kh[xs(Te+N,127)],Ae.Eb[1]=101581*cf[xs(Te+Y,127)]>>16,8>Ae.Eb[1]&&(Ae.Eb[1]=8),Ae.Qc[0]=kh[xs(Te+ie,117)],Ae.Qc[1]=cf[xs(Te+X,127)],Ae.lc=Te+X}if(!G.Rb)return or(m,4,"Not a key frame.");for(Ce(q),G=m.Pa,E=0;4>E;++E){for(F=0;8>F;++F)for(N=0;3>N;++N)for(Y=0;11>Y;++Y)ie=ke(q,M_[E][F][N][Y])?fe(q,8):wv[E][F][N][Y],G.Wc[E][F].Yb[N][Y]=ie;for(F=0;17>F;++F)G.Xc[E][F]=G.Wc[E][P0[F]]}return m.kc=Ce(q),m.kc&&(m.Bd=fe(q,8)),m.cb=1}function Rc(m,_,E,N,F,q,G){var Y=_[F].Yb[E];for(E=0;16>F;++F){if(!ke(m,Y[E+0]))return F;for(;!ke(m,Y[E+1]);)if(Y=_[++F].Yb[0],E=0,F==16)return 16;var X=_[F+1].Yb;if(ke(m,Y[E+2])){var ie=m,be=0;if(ke(ie,(Te=Y)[(Pe=E)+3]))if(ke(ie,Te[Pe+6])){for(Y=0,Pe=2*(be=ke(ie,Te[Pe+8]))+(Te=ke(ie,Te[Pe+9+be])),be=0,Te=k0[Pe];Te[Y];++Y)be+=be+ke(ie,Te[Y]);be+=3+(8<<Pe)}else ke(ie,Te[Pe+7])?(be=7+2*ke(ie,165),be+=ke(ie,145)):be=5+ke(ie,159);else be=ke(ie,Te[Pe+4])?3+ke(ie,Te[Pe+5]):2;Y=X[2]}else be=1,Y=X[1];X=G+E0[F],0>(ie=m).b&&ge(ie);var Pe,Te=ie.b,Ae=(Pe=ie.Ca>>1)-(ie.I>>Te)>>31;--ie.b,ie.Ca+=Ae,ie.Ca|=1,ie.I-=(Pe+1&Ae)<<Te,q[X]=((be^Ae)-Ae)*N[(0<F)+0]}return 16}function Pl(m){var _=m.rb[m.sb-1];_.la=0,_.Na=0,r(m.zc,0,0,m.zc.length),m.ja=0}function Ic(m,_){if(m==null)return 0;if(_==null)return or(m,2,"NULL VP8Io parameter in VP8Decode().");if(!m.cb&&!om(m,_))return 0;if(e(m.cb),_.ac==null||_.ac(_)){_.ob&&(m.L=0);var E=tu[m.L];if(m.L==2?(m.yb=0,m.zb=0):(m.yb=_.v-E>>4,m.zb=_.j-E>>4,0>m.yb&&(m.yb=0),0>m.zb&&(m.zb=0)),m.Va=_.o+15+E>>4,m.Hb=_.va+15+E>>4,m.Hb>m.za&&(m.Hb=m.za),m.Va>m.Ub&&(m.Va=m.Ub),0<m.L){var N=m.ed;for(E=0;4>E;++E){var F;if(m.Qa.Cb){var q=m.Qa.Lb[E];m.Qa.Fb||(q+=N.Tb)}else q=N.Tb;for(F=0;1>=F;++F){var G=m.gd[E][F],Y=q;if(N.Pc&&(Y+=N.vd[0],F&&(Y+=N.od[0])),0<(Y=0>Y?0:63<Y?63:Y)){var X=Y;0<N.wb&&(X=4<N.wb?X>>2:X>>1)>9-N.wb&&(X=9-N.wb),1>X&&(X=1),G.dd=X,G.tc=2*Y+X,G.ld=40<=Y?2:15<=Y?1:0}else G.tc=0;G.La=F}}}E=0}else or(m,6,"Frame setup failed"),E=m.a;if(E=E==0){if(E){m.$c=0,0<m.Aa||(m.Ic=Ho);e:{E=m.Ic,N=4*(X=m.za);var ie=32*X,be=X+1,Pe=0<m.L?X*(0<m.Aa?2:1):0,Te=(m.Aa==2?2:1)*X;if((G=N+832+(F=3*(16*E+tu[m.L])/2*ie)+(q=m.Fa!=null&&0<m.Fa.length?m.Kc.c*m.Kc.i:0))!=G)E=0;else{if(G>m.Vb){if(m.Vb=0,m.Ec=s(G),m.Fc=0,m.Ec==null){E=or(m,1,"no memory during frame initialization.");break e}m.Vb=G}G=m.Ec,Y=m.Fc,m.Ac=G,m.Bc=Y,Y+=N,m.Gd=a(ie,Nc),m.Hd=0,m.rb=a(be+1,qd),m.sb=1,m.wa=Pe?a(Pe,El):null,m.Y=0,m.D.Nb=0,m.D.wa=m.wa,m.D.Y=m.Y,0<m.Aa&&(m.D.Y+=X),e(!0),m.oc=G,m.pc=Y,Y+=832,m.ya=a(Te,Hd),m.aa=0,m.D.ya=m.ya,m.D.aa=m.aa,m.Aa==2&&(m.D.aa+=X),m.R=16*X,m.B=8*X,X=(ie=tu[m.L])*m.R,ie=ie/2*m.B,m.sa=G,m.ta=Y+X,m.qa=m.sa,m.ra=m.ta+16*E*m.R+ie,m.Ha=m.qa,m.Ia=m.ra+8*E*m.B+ie,m.$c=0,Y+=F,m.mb=q?G:null,m.nb=q?Y:null,e(Y+q<=m.Fc+m.Vb),Pl(m),r(m.Ac,m.Bc,0,N),E=1}}if(E){if(_.ka=0,_.y=m.sa,_.O=m.ta,_.f=m.qa,_.N=m.ra,_.ea=m.Ha,_.Vd=m.Ia,_.fa=m.R,_.Rc=m.B,_.F=null,_.J=0,!nf){for(E=-255;255>=E;++E)yr[255+E]=0>E?-E:E;for(E=-1020;1020>=E;++E)oo[1020+E]=-128>E?-128:127<E?127:E;for(E=-112;112>=E;++E)Sh[112+E]=-16>E?-16:15<E?15:E;for(E=-255;510>=E;++E)Xc[255+E]=0>E?0:255<E?255:E;nf=1}xh=dn,Do=Vd,jo=Tl,hi=S0,Ss=nh,fn=$d,Vc=ch,tf=kr,Wc=zc,Gc=Kd,Yc=Il,As=Ml,Bo=Uc,ao=uh,zo=Ca,Uo=Vs,zl=Ws,Xr=hm,Xs[0]=ro,Xs[1]=lm,Xs[2]=Dc,Xs[3]=no,Xs[4]=Gd,Xs[5]=ih,Xs[6]=Nl,Xs[7]=sh,Xs[8]=um,Xs[9]=ah,Li[0]=Fc,Li[1]=cm,Li[2]=eo,Li[3]=Oc,Li[4]=Yn,Li[5]=to,Li[6]=Sa,Gi[0]=ws,Gi[1]=Wd,Gi[2]=A0,Gi[3]=Ro,Gi[4]=jc,Gi[5]=oh,Gi[6]=Yd,E=1}else E=0}E&&(E=function(Ae,qe){for(Ae.M=0;Ae.M<Ae.Va;++Ae.M){var Oe,we=Ae.Jc[Ae.M&Ae.Xb],xe=Ae.m,Be=Ae;for(Oe=0;Oe<Be.za;++Oe){var je=xe,Ue=Be,ot=Ue.Ac,Ze=Ue.Bc+4*Oe,wt=Ue.zc,tt=Ue.ya[Ue.aa+Oe];if(Ue.Qa.Bb?tt.$b=ke(je,Ue.Pa.jb[0])?2+ke(je,Ue.Pa.jb[2]):ke(je,Ue.Pa.jb[1]):tt.$b=0,Ue.kc&&(tt.Ad=ke(je,Ue.Bd)),tt.Za=!ke(je,145)+0,tt.Za){var cn=tt.Ob,un=0;for(Ue=0;4>Ue;++Ue){var tn,$t=wt[0+Ue];for(tn=0;4>tn;++tn){$t=I_[ot[Ze+tn]][$t];for(var _n=_v[ke(je,$t[0])];0<_n;)_n=_v[2*_n+ke(je,$t[_n])];$t=-_n,ot[Ze+tn]=$t}n(cn,un,ot,Ze,4),un+=4,wt[0+Ue]=$t}}else $t=ke(je,156)?ke(je,128)?1:3:ke(je,163)?2:0,tt.Ob[0]=$t,r(ot,Ze,$t,4),r(wt,0,$t,4);tt.Dd=ke(je,142)?ke(je,114)?ke(je,183)?1:3:2:0}if(Be.m.Ka)return or(Ae,7,"Premature end-of-partition0 encountered.");for(;Ae.ja<Ae.za;++Ae.ja){if(Be=we,je=(xe=Ae).rb[xe.sb-1],ot=xe.rb[xe.sb+xe.ja],Oe=xe.ya[xe.aa+xe.ja],Ze=xe.kc?Oe.Ad:0)je.la=ot.la=0,Oe.Za||(je.Na=ot.Na=0),Oe.Hc=0,Oe.Gc=0,Oe.ia=0;else{var Sn,Nt;if(je=ot,ot=Be,Ze=xe.Pa.Xc,wt=xe.ya[xe.aa+xe.ja],tt=xe.pb[wt.$b],Ue=wt.ad,cn=0,un=xe.rb[xe.sb-1],$t=tn=0,r(Ue,cn,0,384),wt.Za)var Kn=0,Ni=Ze[3];else{_n=s(16);var lr=je.Na+un.Na;if(lr=Qc(ot,Ze[1],lr,tt.Eb,0,_n,0),je.Na=un.Na=(0<lr)+0,1<lr)xh(_n,0,Ue,cn);else{var Er=_n[0]+3>>3;for(_n=0;256>_n;_n+=16)Ue[cn+_n]=Er}Kn=1,Ni=Ze[0]}var mn=15&je.la,fi=15&un.la;for(_n=0;4>_n;++_n){var pi=1&fi;for(Er=Nt=0;4>Er;++Er)mn=mn>>1|(pi=(lr=Qc(ot,Ni,lr=pi+(1&mn),tt.Sc,Kn,Ue,cn))>Kn)<<7,Nt=Nt<<2|(3<lr?3:1<lr?2:Ue[cn+0]!=0),cn+=16;mn>>=4,fi=fi>>1|pi<<7,tn=(tn<<8|Nt)>>>0}for(Ni=mn,Kn=fi>>4,Sn=0;4>Sn;Sn+=2){for(Nt=0,mn=je.la>>4+Sn,fi=un.la>>4+Sn,_n=0;2>_n;++_n){for(pi=1&fi,Er=0;2>Er;++Er)lr=pi+(1&mn),mn=mn>>1|(pi=0<(lr=Qc(ot,Ze[2],lr,tt.Qc,0,Ue,cn)))<<3,Nt=Nt<<2|(3<lr?3:1<lr?2:Ue[cn+0]!=0),cn+=16;mn>>=2,fi=fi>>1|pi<<5}$t|=Nt<<4*Sn,Ni|=mn<<4<<Sn,Kn|=(240&fi)<<Sn}je.la=Ni,un.la=Kn,wt.Hc=tn,wt.Gc=$t,wt.ia=43690&$t?0:tt.ia,Ze=!(tn|$t)}if(0<xe.L&&(xe.wa[xe.Y+xe.ja]=xe.gd[Oe.$b][Oe.Za],xe.wa[xe.Y+xe.ja].La|=!Ze),Be.Ka)return or(Ae,7,"Premature end-of-file encountered.")}if(Pl(Ae),xe=qe,Be=1,Oe=(we=Ae).D,je=0<we.L&&we.M>=we.zb&&we.M<=we.Va,we.Aa==0)e:{if(Oe.M=we.M,Oe.uc=je,fh(we,Oe),Be=1,Oe=(Nt=we.D).Nb,je=($t=tu[we.L])*we.R,ot=$t/2*we.B,_n=16*Oe*we.R,Er=8*Oe*we.B,Ze=we.sa,wt=we.ta-je+_n,tt=we.qa,Ue=we.ra-ot+Er,cn=we.Ha,un=we.Ia-ot+Er,fi=(mn=Nt.M)==0,tn=mn>=we.Va-1,we.Aa==2&&fh(we,Nt),Nt.uc)for(pi=(lr=we).D.M,e(lr.D.uc),Nt=lr.yb;Nt<lr.Hb;++Nt){Kn=Nt,Ni=pi;var Jn=(Pr=(gn=lr).D).Nb;Sn=gn.R;var Pr=Pr.wa[Pr.Y+Kn],Jr=gn.sa,Ji=gn.ta+16*Jn*Sn+16*Kn,Ks=Pr.dd,Qn=Pr.tc;if(Qn!=0)if(e(3<=Qn),gn.L==1)0<Kn&&Uo(Jr,Ji,Sn,Qn+4),Pr.La&&Xr(Jr,Ji,Sn,Qn),0<Ni&&zo(Jr,Ji,Sn,Qn+4),Pr.La&&zl(Jr,Ji,Sn,Qn);else{var vr=gn.B,Cs=gn.qa,$l=gn.ra+8*Jn*vr+8*Kn,$o=gn.Ha,gn=gn.Ia+8*Jn*vr+8*Kn;Jn=Pr.ld,0<Kn&&(tf(Jr,Ji,Sn,Qn+4,Ks,Jn),Gc(Cs,$l,$o,gn,vr,Qn+4,Ks,Jn)),Pr.La&&(As(Jr,Ji,Sn,Qn,Ks,Jn),ao(Cs,$l,$o,gn,vr,Qn,Ks,Jn)),0<Ni&&(Vc(Jr,Ji,Sn,Qn+4,Ks,Jn),Wc(Cs,$l,$o,gn,vr,Qn+4,Ks,Jn)),Pr.La&&(Yc(Jr,Ji,Sn,Qn,Ks,Jn),Bo(Cs,$l,$o,gn,vr,Qn,Ks,Jn))}}if(we.ia&&alert("todo:DitherRow"),xe.put!=null){if(Nt=16*mn,mn=16*(mn+1),fi?(xe.y=we.sa,xe.O=we.ta+_n,xe.f=we.qa,xe.N=we.ra+Er,xe.ea=we.Ha,xe.W=we.Ia+Er):(Nt-=$t,xe.y=Ze,xe.O=wt,xe.f=tt,xe.N=Ue,xe.ea=cn,xe.W=un),tn||(mn-=$t),mn>xe.o&&(mn=xe.o),xe.F=null,xe.J=null,we.Fa!=null&&0<we.Fa.length&&Nt<mn&&(xe.J=Qd(we,xe,Nt,mn-Nt),xe.F=we.mb,xe.F==null&&xe.F.length==0)){Be=or(we,3,"Could not decode alpha data.");break e}Nt<xe.j&&($t=xe.j-Nt,Nt=xe.j,e(!(1&$t)),xe.O+=we.R*$t,xe.N+=we.B*($t>>1),xe.W+=we.B*($t>>1),xe.F!=null&&(xe.J+=xe.width*$t)),Nt<mn&&(xe.O+=xe.v,xe.N+=xe.v>>1,xe.W+=xe.v>>1,xe.F!=null&&(xe.J+=xe.v),xe.ka=Nt-xe.j,xe.U=xe.va-xe.v,xe.T=mn-Nt,Be=xe.put(xe))}Oe+1!=we.Ic||tn||(n(we.sa,we.ta-je,Ze,wt+16*we.R,je),n(we.qa,we.ra-ot,tt,Ue+8*we.B,ot),n(we.Ha,we.Ia-ot,cn,un+8*we.B,ot))}if(!Be)return or(Ae,6,"Output aborted.")}return 1}(m,_)),_.bc!=null&&_.bc(_),E&=1}return E?(m.cb=0,E):0}function Hi(m,_,E,N,F){F=m[_+E+32*N]+(F>>3),m[_+E+32*N]=-256&F?0>F?0:255:F}function th(m,_,E,N,F,q){Hi(m,_,0,E,N+F),Hi(m,_,1,E,N+q),Hi(m,_,2,E,N-q),Hi(m,_,3,E,N-F)}function $i(m){return(20091*m>>16)+m}function Mc(m,_,E,N){var F,q=0,G=s(16);for(F=0;4>F;++F){var Y=m[_+0]+m[_+8],X=m[_+0]-m[_+8],ie=(35468*m[_+4]>>16)-$i(m[_+12]),be=$i(m[_+4])+(35468*m[_+12]>>16);G[q+0]=Y+be,G[q+1]=X+ie,G[q+2]=X-ie,G[q+3]=Y-be,q+=4,_++}for(F=q=0;4>F;++F)Y=(m=G[q+0]+4)+G[q+8],X=m-G[q+8],ie=(35468*G[q+4]>>16)-$i(G[q+12]),Hi(E,N,0,0,Y+(be=$i(G[q+4])+(35468*G[q+12]>>16))),Hi(E,N,1,0,X+ie),Hi(E,N,2,0,X-ie),Hi(E,N,3,0,Y-be),q++,N+=32}function $d(m,_,E,N){var F=m[_+0]+4,q=35468*m[_+4]>>16,G=$i(m[_+4]),Y=35468*m[_+1]>>16;th(E,N,0,F+G,m=$i(m[_+1]),Y),th(E,N,1,F+q,m,Y),th(E,N,2,F-q,m,Y),th(E,N,3,F-G,m,Y)}function Vd(m,_,E,N,F){Mc(m,_,E,N),F&&Mc(m,_+16,E,N+4)}function Tl(m,_,E,N){Do(m,_+0,E,N,1),Do(m,_+32,E,N+128,1)}function S0(m,_,E,N){var F;for(m=m[_+0]+4,F=0;4>F;++F)for(_=0;4>_;++_)Hi(E,N,_,F,m)}function nh(m,_,E,N){m[_+0]&&hi(m,_+0,E,N),m[_+16]&&hi(m,_+16,E,N+4),m[_+32]&&hi(m,_+32,E,N+128),m[_+48]&&hi(m,_+48,E,N+128+4)}function dn(m,_,E,N){var F,q=s(16);for(F=0;4>F;++F){var G=m[_+0+F]+m[_+12+F],Y=m[_+4+F]+m[_+8+F],X=m[_+4+F]-m[_+8+F],ie=m[_+0+F]-m[_+12+F];q[0+F]=G+Y,q[8+F]=G-Y,q[4+F]=ie+X,q[12+F]=ie-X}for(F=0;4>F;++F)G=(m=q[0+4*F]+3)+q[3+4*F],Y=q[1+4*F]+q[2+4*F],X=q[1+4*F]-q[2+4*F],ie=m-q[3+4*F],E[N+0]=G+Y>>3,E[N+16]=ie+X>>3,E[N+32]=G-Y>>3,E[N+48]=ie-X>>3,N+=64}function rh(m,_,E){var N,F=_-32,q=Ti,G=255-m[F-1];for(N=0;N<E;++N){var Y,X=q,ie=G+m[_-1];for(Y=0;Y<E;++Y)m[_+Y]=X[ie+m[F+Y]];_+=32}}function lm(m,_){rh(m,_,4)}function Wd(m,_){rh(m,_,8)}function cm(m,_){rh(m,_,16)}function eo(m,_){var E;for(E=0;16>E;++E)n(m,_+32*E,m,_-32,16)}function Oc(m,_){var E;for(E=16;0<E;--E)r(m,_,m[_-1],16),_+=32}function Ll(m,_,E){var N;for(N=0;16>N;++N)r(_,E+32*N,m,16)}function Fc(m,_){var E,N=16;for(E=0;16>E;++E)N+=m[_-1+32*E]+m[_+E-32];Ll(N>>5,m,_)}function Yn(m,_){var E,N=8;for(E=0;16>E;++E)N+=m[_-1+32*E];Ll(N>>4,m,_)}function to(m,_){var E,N=8;for(E=0;16>E;++E)N+=m[_+E-32];Ll(N>>4,m,_)}function Sa(m,_){Ll(128,m,_)}function Et(m,_,E){return m+2*_+E+2>>2}function Dc(m,_){var E,N=_-32;for(N=new Uint8Array([Et(m[N-1],m[N+0],m[N+1]),Et(m[N+0],m[N+1],m[N+2]),Et(m[N+1],m[N+2],m[N+3]),Et(m[N+2],m[N+3],m[N+4])]),E=0;4>E;++E)n(m,_+32*E,N,0,N.length)}function no(m,_){var E=m[_-1],N=m[_-1+32],F=m[_-1+64],q=m[_-1+96];ze(m,_+0,16843009*Et(m[_-1-32],E,N)),ze(m,_+32,16843009*Et(E,N,F)),ze(m,_+64,16843009*Et(N,F,q)),ze(m,_+96,16843009*Et(F,q,q))}function ro(m,_){var E,N=4;for(E=0;4>E;++E)N+=m[_+E-32]+m[_-1+32*E];for(N>>=3,E=0;4>E;++E)r(m,_+32*E,N,4)}function Gd(m,_){var E=m[_-1+0],N=m[_-1+32],F=m[_-1+64],q=m[_-1-32],G=m[_+0-32],Y=m[_+1-32],X=m[_+2-32],ie=m[_+3-32];m[_+0+96]=Et(N,F,m[_-1+96]),m[_+1+96]=m[_+0+64]=Et(E,N,F),m[_+2+96]=m[_+1+64]=m[_+0+32]=Et(q,E,N),m[_+3+96]=m[_+2+64]=m[_+1+32]=m[_+0+0]=Et(G,q,E),m[_+3+64]=m[_+2+32]=m[_+1+0]=Et(Y,G,q),m[_+3+32]=m[_+2+0]=Et(X,Y,G),m[_+3+0]=Et(ie,X,Y)}function Nl(m,_){var E=m[_+1-32],N=m[_+2-32],F=m[_+3-32],q=m[_+4-32],G=m[_+5-32],Y=m[_+6-32],X=m[_+7-32];m[_+0+0]=Et(m[_+0-32],E,N),m[_+1+0]=m[_+0+32]=Et(E,N,F),m[_+2+0]=m[_+1+32]=m[_+0+64]=Et(N,F,q),m[_+3+0]=m[_+2+32]=m[_+1+64]=m[_+0+96]=Et(F,q,G),m[_+3+32]=m[_+2+64]=m[_+1+96]=Et(q,G,Y),m[_+3+64]=m[_+2+96]=Et(G,Y,X),m[_+3+96]=Et(Y,X,X)}function ih(m,_){var E=m[_-1+0],N=m[_-1+32],F=m[_-1+64],q=m[_-1-32],G=m[_+0-32],Y=m[_+1-32],X=m[_+2-32],ie=m[_+3-32];m[_+0+0]=m[_+1+64]=q+G+1>>1,m[_+1+0]=m[_+2+64]=G+Y+1>>1,m[_+2+0]=m[_+3+64]=Y+X+1>>1,m[_+3+0]=X+ie+1>>1,m[_+0+96]=Et(F,N,E),m[_+0+64]=Et(N,E,q),m[_+0+32]=m[_+1+96]=Et(E,q,G),m[_+1+32]=m[_+2+96]=Et(q,G,Y),m[_+2+32]=m[_+3+96]=Et(G,Y,X),m[_+3+32]=Et(Y,X,ie)}function sh(m,_){var E=m[_+0-32],N=m[_+1-32],F=m[_+2-32],q=m[_+3-32],G=m[_+4-32],Y=m[_+5-32],X=m[_+6-32],ie=m[_+7-32];m[_+0+0]=E+N+1>>1,m[_+1+0]=m[_+0+64]=N+F+1>>1,m[_+2+0]=m[_+1+64]=F+q+1>>1,m[_+3+0]=m[_+2+64]=q+G+1>>1,m[_+0+32]=Et(E,N,F),m[_+1+32]=m[_+0+96]=Et(N,F,q),m[_+2+32]=m[_+1+96]=Et(F,q,G),m[_+3+32]=m[_+2+96]=Et(q,G,Y),m[_+3+64]=Et(G,Y,X),m[_+3+96]=Et(Y,X,ie)}function ah(m,_){var E=m[_-1+0],N=m[_-1+32],F=m[_-1+64],q=m[_-1+96];m[_+0+0]=E+N+1>>1,m[_+2+0]=m[_+0+32]=N+F+1>>1,m[_+2+32]=m[_+0+64]=F+q+1>>1,m[_+1+0]=Et(E,N,F),m[_+3+0]=m[_+1+32]=Et(N,F,q),m[_+3+32]=m[_+1+64]=Et(F,q,q),m[_+3+64]=m[_+2+64]=m[_+0+96]=m[_+1+96]=m[_+2+96]=m[_+3+96]=q}function um(m,_){var E=m[_-1+0],N=m[_-1+32],F=m[_-1+64],q=m[_-1+96],G=m[_-1-32],Y=m[_+0-32],X=m[_+1-32],ie=m[_+2-32];m[_+0+0]=m[_+2+32]=E+G+1>>1,m[_+0+32]=m[_+2+64]=N+E+1>>1,m[_+0+64]=m[_+2+96]=F+N+1>>1,m[_+0+96]=q+F+1>>1,m[_+3+0]=Et(Y,X,ie),m[_+2+0]=Et(G,Y,X),m[_+1+0]=m[_+3+32]=Et(E,G,Y),m[_+1+32]=m[_+3+64]=Et(N,E,G),m[_+1+64]=m[_+3+96]=Et(F,N,E),m[_+1+96]=Et(q,F,N)}function A0(m,_){var E;for(E=0;8>E;++E)n(m,_+32*E,m,_-32,8)}function Ro(m,_){var E;for(E=0;8>E;++E)r(m,_,m[_-1],8),_+=32}function Aa(m,_,E){var N;for(N=0;8>N;++N)r(_,E+32*N,m,8)}function ws(m,_){var E,N=8;for(E=0;8>E;++E)N+=m[_+E-32]+m[_-1+32*E];Aa(N>>4,m,_)}function oh(m,_){var E,N=4;for(E=0;8>E;++E)N+=m[_+E-32];Aa(N>>3,m,_)}function jc(m,_){var E,N=4;for(E=0;8>E;++E)N+=m[_-1+32*E];Aa(N>>3,m,_)}function Yd(m,_){Aa(128,m,_)}function Rl(m,_,E){var N=m[_-E],F=m[_+0],q=3*(F-N)+lo[1020+m[_-2*E]-m[_+E]],G=Ah[112+(q+4>>3)];m[_-E]=Ti[255+N+Ah[112+(q+3>>3)]],m[_+0]=Ti[255+F-G]}function Bc(m,_,E,N){var F=m[_+0],q=m[_+E];return Ys[255+m[_-2*E]-m[_-E]]>N||Ys[255+q-F]>N}function lh(m,_,E,N){return 4*Ys[255+m[_-E]-m[_+0]]+Ys[255+m[_-2*E]-m[_+E]]<=N}function Xd(m,_,E,N,F){var q=m[_-3*E],G=m[_-2*E],Y=m[_-E],X=m[_+0],ie=m[_+E],be=m[_+2*E],Pe=m[_+3*E];return 4*Ys[255+Y-X]+Ys[255+G-ie]>N?0:Ys[255+m[_-4*E]-q]<=F&&Ys[255+q-G]<=F&&Ys[255+G-Y]<=F&&Ys[255+Pe-be]<=F&&Ys[255+be-ie]<=F&&Ys[255+ie-X]<=F}function Ca(m,_,E,N){var F=2*N+1;for(N=0;16>N;++N)lh(m,_+N,E,F)&&Rl(m,_+N,E)}function Vs(m,_,E,N){var F=2*N+1;for(N=0;16>N;++N)lh(m,_+N*E,1,F)&&Rl(m,_+N*E,1)}function Ws(m,_,E,N){var F;for(F=3;0<F;--F)Ca(m,_+=4*E,E,N)}function hm(m,_,E,N){var F;for(F=3;0<F;--F)Vs(m,_+=4,E,N)}function ka(m,_,E,N,F,q,G,Y){for(q=2*q+1;0<F--;){if(Xd(m,_,E,q,G))if(Bc(m,_,E,Y))Rl(m,_,E);else{var X=m,ie=_,be=E,Pe=X[ie-2*be],Te=X[ie-be],Ae=X[ie+0],qe=X[ie+be],Oe=X[ie+2*be],we=27*(Be=lo[1020+3*(Ae-Te)+lo[1020+Pe-qe]])+63>>7,xe=18*Be+63>>7,Be=9*Be+63>>7;X[ie-3*be]=Ti[255+X[ie-3*be]+Be],X[ie-2*be]=Ti[255+Pe+xe],X[ie-be]=Ti[255+Te+we],X[ie+0]=Ti[255+Ae-we],X[ie+be]=Ti[255+qe-xe],X[ie+2*be]=Ti[255+Oe-Be]}_+=N}}function Vi(m,_,E,N,F,q,G,Y){for(q=2*q+1;0<F--;){if(Xd(m,_,E,q,G))if(Bc(m,_,E,Y))Rl(m,_,E);else{var X=m,ie=_,be=E,Pe=X[ie-be],Te=X[ie+0],Ae=X[ie+be],qe=Ah[112+((Oe=3*(Te-Pe))+4>>3)],Oe=Ah[112+(Oe+3>>3)],we=qe+1>>1;X[ie-2*be]=Ti[255+X[ie-2*be]+we],X[ie-be]=Ti[255+Pe+Oe],X[ie+0]=Ti[255+Te-qe],X[ie+be]=Ti[255+Ae-we]}_+=N}}function ch(m,_,E,N,F,q){ka(m,_,E,1,16,N,F,q)}function kr(m,_,E,N,F,q){ka(m,_,1,E,16,N,F,q)}function Il(m,_,E,N,F,q){var G;for(G=3;0<G;--G)Vi(m,_+=4*E,E,1,16,N,F,q)}function Ml(m,_,E,N,F,q){var G;for(G=3;0<G;--G)Vi(m,_+=4,1,E,16,N,F,q)}function zc(m,_,E,N,F,q,G,Y){ka(m,_,F,1,8,q,G,Y),ka(E,N,F,1,8,q,G,Y)}function Kd(m,_,E,N,F,q,G,Y){ka(m,_,1,F,8,q,G,Y),ka(E,N,1,F,8,q,G,Y)}function Uc(m,_,E,N,F,q,G,Y){Vi(m,_+4*F,F,1,8,q,G,Y),Vi(E,N+4*F,F,1,8,q,G,Y)}function uh(m,_,E,N,F,q,G,Y){Vi(m,_+4,1,F,8,q,G,Y),Vi(E,N+4,1,F,8,q,G,Y)}function io(){this.ba=new oi,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new $n,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ol(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function hh(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function dm(){this.ua=0,this.Wa=new le,this.vb=new le,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new re,this.yc=new V}function C0(){this.xb=this.a=0,this.l=new eh,this.ca=new oi,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new I,this.Pb=0,this.wd=new I,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new dm,this.ab=0,this.gc=a(4,hh),this.Oc=0}function dh(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new eh,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Io(m,_,E,N,F,q,G){for(m=m==null?0:m[_+0],_=0;_<G;++_)F[q+_]=m+E[N+_]&255,m=F[q+_]}function Jd(m,_,E,N,F,q,G){var Y;if(m==null)Io(null,null,E,N,F,q,G);else for(Y=0;Y<G;++Y)F[q+Y]=m[_+Y]+E[N+Y]&255}function Fl(m,_,E,N,F,q,G){if(m==null)Io(null,null,E,N,F,q,G);else{var Y,X=m[_+0],ie=X,be=X;for(Y=0;Y<G;++Y)ie=be+(X=m[_+Y])-ie,be=E[N+Y]+(-256&ie?0>ie?0:255:ie)&255,ie=X,F[q+Y]=be}}function Qd(m,_,E,N){var F=_.width,q=_.o;if(e(m!=null&&_!=null),0>E||0>=N||E+N>q)return null;if(!m.Cc){if(m.ga==null){var G;if(m.ga=new dh,(G=m.ga==null)||(G=_.width*_.o,e(m.Gb.length==0),m.Gb=s(G),m.Uc=0,m.Gb==null?G=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,G=1),G=!G),!G){G=m.ga;var Y=m.Fa,X=m.P,ie=m.qc,be=m.mb,Pe=m.nb,Te=X+1,Ae=ie-1,qe=G.l;if(e(Y!=null&&be!=null&&_!=null),di[0]=null,di[1]=Io,di[2]=Jd,di[3]=Fl,G.ca=be,G.tb=Pe,G.c=_.width,G.i=_.height,e(0<G.c&&0<G.i),1>=ie)_=0;else if(G.$a=Y[X+0]>>0&3,G.Z=Y[X+0]>>2&3,G.Lc=Y[X+0]>>4&3,X=Y[X+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||X)_=0;else if(qe.put=Hs,qe.ac=Br,qe.bc=ba,qe.ma=G,qe.width=_.width,qe.height=_.height,qe.Da=_.Da,qe.v=_.v,qe.va=_.va,qe.j=_.j,qe.o=_.o,G.$a)e:{e(G.$a==1),_=bs();t:for(;;){if(_==null){_=0;break e}if(e(G!=null),G.mc=_,_.c=G.c,_.i=G.i,_.l=G.l,_.l.ma=G,_.l.width=G.c,_.l.height=G.i,_.a=0,ne(_.m,Y,Te,Ae),!Za(G.c,G.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&No(_.s)?(G.ic=1,Y=_.c*_.i,_.Ta=null,_.Ua=0,_.V=s(Y),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(G.ic=0,_=kl(_,G.c)),!_))break t;_=1;break e}G.mc=null,_=0}else _=Ae>=G.c*G.i;G=!_}if(G)return null;m.ga.Lc!=1?m.Ga=0:N=q-E}e(m.ga!=null),e(E+N<=q);e:{if(_=(Y=m.ga).c,q=Y.l.o,Y.$a==0){if(Te=m.rc,Ae=m.Vc,qe=m.Fa,X=m.P+1+E*_,ie=m.mb,be=m.nb+E*_,e(X<=m.P+m.qc),Y.Z!=0)for(e(di[Y.Z]!=null),G=0;G<N;++G)di[Y.Z](Te,Ae,qe,X,ie,be,_),Te=ie,Ae=be,be+=_,X+=_;else for(G=0;G<N;++G)n(ie,be,qe,X,_),Te=ie,Ae=be,be+=_,X+=_;m.rc=Te,m.Vc=Ae}else{if(e(Y.mc!=null),_=E+N,e((G=Y.mc)!=null),e(_<=G.i),G.C>=_)_=1;else if(Y.ic||Ee(),Y.ic){Y=G.V,Te=G.Ba,Ae=G.c;var Oe=G.i,we=(qe=1,X=G.$/Ae,ie=G.$%Ae,be=G.m,Pe=G.s,G.$),xe=Ae*Oe,Be=Ae*_,je=Pe.wc,Ue=we<Be?Wn(Pe,ie,X):null;e(we<=xe),e(_<=Oe),e(No(Pe));t:for(;;){for(;!be.h&&we<Be;){if(ie&je||(Ue=Wn(Pe,ie,X)),e(Ue!=null),de(be),256>(Oe=qi(Ue.G[0],Ue.H[0],be)))Y[Te+we]=Oe,++we,++ie>=Ae&&(ie=0,++X<=_&&!(X%16)&&wa(G,X));else{if(!(280>Oe)){qe=0;break t}Oe=vs(Oe-256,be);var ot,Ze=qi(Ue.G[4],Ue.H[4],be);if(de(be),!(we>=(Ze=Ui(Ae,Ze=vs(Ze,be)))&&xe-we>=Oe)){qe=0;break t}for(ot=0;ot<Oe;++ot)Y[Te+we+ot]=Y[Te+we+ot-Ze];for(we+=Oe,ie+=Oe;ie>=Ae;)ie-=Ae,++X<=_&&!(X%16)&&wa(G,X);we<Be&&ie&je&&(Ue=Wn(Pe,ie,X))}e(be.h==Z(be))}wa(G,X>_?_:X);break t}!qe||be.h&&we<xe?(qe=0,G.a=be.h?5:3):G.$=we,_=qe}else _=Yr(G,G.V,G.Ba,G.c,G.i,_,Pc);if(!_){N=0;break e}}E+N>=q&&(m.Cc=1),N=1}if(!N)return null;if(m.Cc&&((N=m.ga)!=null&&(N.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+E*F}function A(m,_,E,N,F,q){for(;0<F--;){var G,Y=m,X=_+(E?1:0),ie=m,be=_+(E?0:3);for(G=0;G<N;++G){var Pe=ie[be+4*G];Pe!=255&&(Pe*=32897,Y[X+4*G+0]=Y[X+4*G+0]*Pe>>23,Y[X+4*G+1]=Y[X+4*G+1]*Pe>>23,Y[X+4*G+2]=Y[X+4*G+2]*Pe>>23)}_+=q}}function B(m,_,E,N,F){for(;0<N--;){var q;for(q=0;q<E;++q){var G=m[_+2*q+0],Y=15&(ie=m[_+2*q+1]),X=4369*Y,ie=(240&ie|ie>>4)*X>>16;m[_+2*q+0]=(240&G|G>>4)*X>>16&240|(15&G|G<<4)*X>>16>>4&15,m[_+2*q+1]=240&ie|Y}_+=F}}function ae(m,_,E,N,F,q,G,Y){var X,ie,be=255;for(ie=0;ie<F;++ie){for(X=0;X<N;++X){var Pe=m[_+X];q[G+4*X]=Pe,be&=Pe}_+=E,G+=Y}return be!=255}function ve(m,_,E,N,F){var q;for(q=0;q<F;++q)E[N+q]=m[_+q]>>8}function Ee(){Wi=A,En=B,vn=ae,rr=ve}function De(m,_,E){D[m]=function(N,F,q,G,Y,X,ie,be,Pe,Te,Ae,qe,Oe,we,xe,Be,je){var Ue,ot=je-1>>1,Ze=Y[X+0]|ie[be+0]<<16,wt=Pe[Te+0]|Ae[qe+0]<<16;e(N!=null);var tt=3*Ze+wt+131074>>2;for(_(N[F+0],255&tt,tt>>16,Oe,we),q!=null&&(tt=3*wt+Ze+131074>>2,_(q[G+0],255&tt,tt>>16,xe,Be)),Ue=1;Ue<=ot;++Ue){var cn=Y[X+Ue]|ie[be+Ue]<<16,un=Pe[Te+Ue]|Ae[qe+Ue]<<16,tn=Ze+cn+wt+un+524296,$t=tn+2*(cn+wt)>>3;tt=$t+Ze>>1,Ze=(tn=tn+2*(Ze+un)>>3)+cn>>1,_(N[F+2*Ue-1],255&tt,tt>>16,Oe,we+(2*Ue-1)*E),_(N[F+2*Ue-0],255&Ze,Ze>>16,Oe,we+(2*Ue-0)*E),q!=null&&(tt=tn+wt>>1,Ze=$t+un>>1,_(q[G+2*Ue-1],255&tt,tt>>16,xe,Be+(2*Ue-1)*E),_(q[G+2*Ue+0],255&Ze,Ze>>16,xe,Be+(2*Ue+0)*E)),Ze=cn,wt=un}1&je||(tt=3*Ze+wt+131074>>2,_(N[F+je-1],255&tt,tt>>16,Oe,we+(je-1)*E),q!=null&&(tt=3*wt+Ze+131074>>2,_(q[G+je-1],255&tt,tt>>16,xe,Be+(je-1)*E)))}}function $e(){Yi[pm]=O_,Yi[Ul]=ql,Yi[yv]=F_,Yi[rf]=Ph,Yi[sf]=Zc,Yi[Pn]=uf,Yi[mm]=T0,Yi[Ch]=ql,Yi[Kc]=Ph,Yi[af]=Zc,Yi[of]=uf}function at(m){return m&-16384?0>m?0:255:m>>Hl}function bt(m,_){return at((19077*m>>8)+(26149*_>>8)-14234)}function Dt(m,_,E){return at((19077*m>>8)-(6419*_>>8)-(13320*E>>8)+8708)}function Ft(m,_){return at((19077*m>>8)+(33050*_>>8)-17685)}function en(m,_,E,N,F){N[F+0]=bt(m,E),N[F+1]=Dt(m,_,E),N[F+2]=Ft(m,_)}function Xn(m,_,E,N,F){N[F+0]=Ft(m,_),N[F+1]=Dt(m,_,E),N[F+2]=bt(m,E)}function tr(m,_,E,N,F){var q=Dt(m,_,E);_=q<<3&224|Ft(m,_)>>3,N[F+0]=248&bt(m,E)|q>>5,N[F+1]=_}function gr(m,_,E,N,F){var q=240&Ft(m,_)|15;N[F+0]=240&bt(m,E)|Dt(m,_,E)>>4,N[F+1]=q}function ci(m,_,E,N,F){N[F+0]=255,en(m,_,E,N,F+1)}function zr(m,_,E,N,F){Xn(m,_,E,N,F),N[F+3]=255}function Ea(m,_,E,N,F){en(m,_,E,N,F),N[F+3]=255}function xs(m,_){return 0>m?0:m>_?_:m}function Gs(m,_,E){D[m]=function(N,F,q,G,Y,X,ie,be,Pe){for(var Te=be+(-2&Pe)*E;be!=Te;)_(N[F+0],q[G+0],Y[X+0],ie,be),_(N[F+1],q[G+0],Y[X+0],ie,be+E),F+=2,++G,++X,be+=2*E;1&Pe&&_(N[F+0],q[G+0],Y[X+0],ie,be)}}function Dl(m,_,E){return E==0?m==0?_==0?6:5:_==0?4:0:E}function Zd(m,_,E,N,F){switch(m>>>30){case 3:Do(_,E,N,F,0);break;case 2:fn(_,E,N,F);break;case 1:hi(_,E,N,F)}}function fh(m,_){var E,N,F=_.M,q=_.Nb,G=m.oc,Y=m.pc+40,X=m.oc,ie=m.pc+584,be=m.oc,Pe=m.pc+600;for(E=0;16>E;++E)G[Y+32*E-1]=129;for(E=0;8>E;++E)X[ie+32*E-1]=129,be[Pe+32*E-1]=129;for(0<F?G[Y-1-32]=X[ie-1-32]=be[Pe-1-32]=129:(r(G,Y-32-1,127,21),r(X,ie-32-1,127,9),r(be,Pe-32-1,127,9)),N=0;N<m.za;++N){var Te=_.ya[_.aa+N];if(0<N){for(E=-1;16>E;++E)n(G,Y+32*E-4,G,Y+32*E+12,4);for(E=-1;8>E;++E)n(X,ie+32*E-4,X,ie+32*E+4,4),n(be,Pe+32*E-4,be,Pe+32*E+4,4)}var Ae=m.Gd,qe=m.Hd+N,Oe=Te.ad,we=Te.Hc;if(0<F&&(n(G,Y-32,Ae[qe].y,0,16),n(X,ie-32,Ae[qe].f,0,8),n(be,Pe-32,Ae[qe].ea,0,8)),Te.Za){var xe=G,Be=Y-32+16;for(0<F&&(N>=m.za-1?r(xe,Be,Ae[qe].y[15],4):n(xe,Be,Ae[qe+1].y,0,4)),E=0;4>E;E++)xe[Be+128+E]=xe[Be+256+E]=xe[Be+384+E]=xe[Be+0+E];for(E=0;16>E;++E,we<<=2)xe=G,Be=Y+L0[E],Xs[Te.Ob[E]](xe,Be),Zd(we,Oe,16*+E,xe,Be)}else if(xe=Dl(N,F,Te.Ob[0]),Li[xe](G,Y),we!=0)for(E=0;16>E;++E,we<<=2)Zd(we,Oe,16*+E,G,Y+L0[E]);for(E=Te.Gc,xe=Dl(N,F,Te.Dd),Gi[xe](X,ie),Gi[xe](be,Pe),we=Oe,xe=X,Be=ie,255&(Te=E>>0)&&(170&Te?jo(we,256,xe,Be):Ss(we,256,xe,Be)),Te=be,we=Pe,255&(E>>=8)&&(170&E?jo(Oe,320,Te,we):Ss(Oe,320,Te,we)),F<m.Ub-1&&(n(Ae[qe].y,0,G,Y+480,16),n(Ae[qe].f,0,X,ie+224,8),n(Ae[qe].ea,0,be,Pe+224,8)),E=8*q*m.B,Ae=m.sa,qe=m.ta+16*N+16*q*m.R,Oe=m.qa,Te=m.ra+8*N+E,we=m.Ha,xe=m.Ia+8*N+E,E=0;16>E;++E)n(Ae,qe+E*m.R,G,Y+32*E,16);for(E=0;8>E;++E)n(Oe,Te+E*m.B,X,ie+32*E,8),n(we,xe+E*m.B,be,Pe+32*E,8)}}function qc(m,_,E,N,F,q,G,Y,X){var ie=[0],be=[0],Pe=0,Te=X!=null?X.kd:0,Ae=X??new Ol;if(m==null||12>E)return 7;Ae.data=m,Ae.w=_,Ae.ha=E,_=[_],E=[E],Ae.gb=[Ae.gb];e:{var qe=_,Oe=E,we=Ae.gb;if(e(m!=null),e(Oe!=null),e(we!=null),we[0]=0,12<=Oe[0]&&!t(m,qe[0],"RIFF")){if(t(m,qe[0]+8,"WEBP")){we=3;break e}var xe=He(m,qe[0]+4);if(12>xe||4294967286<xe){we=3;break e}if(Te&&xe>Oe[0]-8){we=7;break e}we[0]=xe,qe[0]+=12,Oe[0]-=12}we=0}if(we!=0)return we;for(xe=0<Ae.gb[0],E=E[0];;){e:{var Be=m;Oe=_,we=E;var je=ie,Ue=be,ot=qe=[0];if((tt=Pe=[Pe])[0]=0,8>we[0])we=7;else{if(!t(Be,Oe[0],"VP8X")){if(He(Be,Oe[0]+4)!=10){we=3;break e}if(18>we[0]){we=7;break e}var Ze=He(Be,Oe[0]+8),wt=1+Ge(Be,Oe[0]+12);if(2147483648<=wt*(Be=1+Ge(Be,Oe[0]+15))){we=3;break e}ot!=null&&(ot[0]=Ze),je!=null&&(je[0]=wt),Ue!=null&&(Ue[0]=Be),Oe[0]+=18,we[0]-=18,tt[0]=1}we=0}}if(Pe=Pe[0],qe=qe[0],we!=0)return we;if(Oe=!!(2&qe),!xe&&Pe)return 3;if(q!=null&&(q[0]=!!(16&qe)),G!=null&&(G[0]=Oe),Y!=null&&(Y[0]=0),G=ie[0],qe=be[0],Pe&&Oe&&X==null){we=0;break}if(4>E){we=7;break}if(xe&&Pe||!xe&&!Pe&&!t(m,_[0],"ALPH")){E=[E],Ae.na=[Ae.na],Ae.P=[Ae.P],Ae.Sa=[Ae.Sa];e:{Ze=m,we=_,xe=E;var tt=Ae.gb;je=Ae.na,Ue=Ae.P,ot=Ae.Sa,wt=22,e(Ze!=null),e(xe!=null),Be=we[0];var cn=xe[0];for(e(je!=null),e(ot!=null),je[0]=null,Ue[0]=null,ot[0]=0;;){if(we[0]=Be,xe[0]=cn,8>cn){we=7;break e}var un=He(Ze,Be+4);if(4294967286<un){we=3;break e}var tn=8+un+1&-2;if(wt+=tn,0<tt&&wt>tt){we=3;break e}if(!t(Ze,Be,"VP8 ")||!t(Ze,Be,"VP8L")){we=0;break e}if(cn[0]<tn){we=7;break e}t(Ze,Be,"ALPH")||(je[0]=Ze,Ue[0]=Be+8,ot[0]=un),Be+=tn,cn-=tn}}if(E=E[0],Ae.na=Ae.na[0],Ae.P=Ae.P[0],Ae.Sa=Ae.Sa[0],we!=0)break}E=[E],Ae.Ja=[Ae.Ja],Ae.xa=[Ae.xa];e:if(tt=m,we=_,xe=E,je=Ae.gb[0],Ue=Ae.Ja,ot=Ae.xa,Ze=we[0],Be=!t(tt,Ze,"VP8 "),wt=!t(tt,Ze,"VP8L"),e(tt!=null),e(xe!=null),e(Ue!=null),e(ot!=null),8>xe[0])we=7;else{if(Be||wt){if(tt=He(tt,Ze+4),12<=je&&tt>je-12){we=3;break e}if(Te&&tt>xe[0]-8){we=7;break e}Ue[0]=tt,we[0]+=8,xe[0]-=8,ot[0]=wt}else ot[0]=5<=xe[0]&&tt[Ze+0]==47&&!(tt[Ze+4]>>5),Ue[0]=xe[0];we=0}if(E=E[0],Ae.Ja=Ae.Ja[0],Ae.xa=Ae.xa[0],_=_[0],we!=0)break;if(4294967286<Ae.Ja)return 3;if(Y==null||Oe||(Y[0]=Ae.xa?2:1),G=[G],qe=[qe],Ae.xa){if(5>E){we=7;break}Y=G,Te=qe,Oe=q,m==null||5>E?m=0:5<=E&&m[_+0]==47&&!(m[_+4]>>5)?(xe=[0],tt=[0],je=[0],ne(Ue=new I,m,_,E),_t(Ue,xe,tt,je)?(Y!=null&&(Y[0]=xe[0]),Te!=null&&(Te[0]=tt[0]),Oe!=null&&(Oe[0]=je[0]),m=1):m=0):m=0}else{if(10>E){we=7;break}Y=qe,m==null||10>E||!am(m,_+3,E-3)?m=0:(Te=m[_+0]|m[_+1]<<8|m[_+2]<<16,Oe=16383&(m[_+7]<<8|m[_+6]),m=16383&(m[_+9]<<8|m[_+8]),1&Te||3<(Te>>1&7)||!(Te>>4&1)||Te>>5>=Ae.Ja||!Oe||!m?m=0:(G&&(G[0]=Oe),Y&&(Y[0]=m),m=1))}if(!m||(G=G[0],qe=qe[0],Pe&&(ie[0]!=G||be[0]!=qe)))return 3;X!=null&&(X[0]=Ae,X.offset=_-X.w,e(4294967286>_-X.w),e(X.offset==X.ha-E));break}return we==0||we==7&&Pe&&X==null?(q!=null&&(q[0]|=Ae.na!=null&&0<Ae.na.length),N!=null&&(N[0]=G),F!=null&&(F[0]=qe),0):we}function ph(m,_,E){var N=_.width,F=_.height,q=0,G=0,Y=N,X=F;if(_.Da=m!=null&&0<m.Da,_.Da&&(Y=m.cd,X=m.bd,q=m.v,G=m.j,11>E||(q&=-2,G&=-2),0>q||0>G||0>=Y||0>=X||q+Y>N||G+X>F))return 0;if(_.v=q,_.j=G,_.va=q+Y,_.o=G+X,_.U=Y,_.T=X,_.da=m!=null&&0<m.da,_.da){if(!St(Y,X,E=[m.ib],q=[m.hb]))return 0;_.ib=E[0],_.hb=q[0]}return _.ob=m!=null&&m.ob,_.Kb=m==null||!m.Sd,_.da&&(_.ob=_.ib<3*N/4&&_.hb<3*F/4,_.Kb=0),1}function mh(m){if(m==null)return 2;if(11>m.S){var _=m.f.RGBA;_.fb+=(m.height-1)*_.A,_.A=-_.A}else _=m.f.kb,m=m.height,_.O+=(m-1)*_.fa,_.fa=-_.fa,_.N+=(m-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(m-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(m-1)*_.lb,_.lb=-_.lb);return 0}function Hc(m,_,E,N){if(N==null||0>=m||0>=_)return 2;if(E!=null){if(E.Da){var F=E.cd,q=E.bd,G=-2&E.v,Y=-2&E.j;if(0>G||0>Y||0>=F||0>=q||G+F>m||Y+q>_)return 2;m=F,_=q}if(E.da){if(!St(m,_,F=[E.ib],q=[E.hb]))return 2;m=F[0],_=q[0]}}N.width=m,N.height=_;e:{var X=N.width,ie=N.height;if(m=N.S,0>=X||0>=ie||!(m>=pm&&13>m))m=2;else{if(0>=N.Rd&&N.sd==null){G=q=F=_=0;var be=(Y=X*hf[m])*ie;if(11>m||(q=(ie+1)/2*(_=(X+1)/2),m==12&&(G=(F=X)*ie)),(ie=s(be+2*q+G))==null){m=1;break e}N.sd=ie,11>m?((X=N.f.RGBA).eb=ie,X.fb=0,X.A=Y,X.size=be):((X=N.f.kb).y=ie,X.O=0,X.fa=Y,X.Fd=be,X.f=ie,X.N=0+be,X.Ab=_,X.Cd=q,X.ea=ie,X.W=0+be+q,X.Db=_,X.Ed=q,m==12&&(X.F=ie,X.J=0+be+2*q),X.Tc=G,X.lb=F)}if(_=1,F=N.S,q=N.width,G=N.height,F>=pm&&13>F)if(11>F)m=N.f.RGBA,_&=(Y=Math.abs(m.A))*(G-1)+q<=m.size,_&=Y>=q*hf[F],_&=m.eb!=null;else{m=N.f.kb,Y=(q+1)/2,be=(G+1)/2,X=Math.abs(m.fa),ie=Math.abs(m.Ab);var Pe=Math.abs(m.Db),Te=Math.abs(m.lb),Ae=Te*(G-1)+q;_&=X*(G-1)+q<=m.Fd,_&=ie*(be-1)+Y<=m.Cd,_=(_&=Pe*(be-1)+Y<=m.Ed)&X>=q&ie>=Y&Pe>=Y,_&=m.y!=null,_&=m.f!=null,_&=m.ea!=null,F==12&&(_&=Te>=q,_&=Ae<=m.Tc,_&=m.F!=null)}else _=0;m=_?0:2}}return m!=0||E!=null&&E.fd&&(m=mh(N)),m}var nr=64,gh=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],yh=24,vh=32,bh=8,ki=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Je("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(m){return m},D.Predictor2=function(m,_,E){return _[E+0]},D.Predictor3=function(m,_,E){return _[E+1]},D.Predictor4=function(m,_,E){return _[E-1]},D.Predictor5=function(m,_,E){return et(et(m,_[E+1]),_[E+0])},D.Predictor6=function(m,_,E){return et(m,_[E-1])},D.Predictor7=function(m,_,E){return et(m,_[E+0])},D.Predictor8=function(m,_,E){return et(_[E-1],_[E+0])},D.Predictor9=function(m,_,E){return et(_[E+0],_[E+1])},D.Predictor10=function(m,_,E){return et(et(m,_[E-1]),et(_[E+0],_[E+1]))},D.Predictor11=function(m,_,E){var N=_[E+0];return 0>=Ot(N>>24&255,m>>24&255,(_=_[E-1])>>24&255)+Ot(N>>16&255,m>>16&255,_>>16&255)+Ot(N>>8&255,m>>8&255,_>>8&255)+Ot(255&N,255&m,255&_)?N:m},D.Predictor12=function(m,_,E){var N=_[E+0];return(gt((m>>24&255)+(N>>24&255)-((_=_[E-1])>>24&255))<<24|gt((m>>16&255)+(N>>16&255)-(_>>16&255))<<16|gt((m>>8&255)+(N>>8&255)-(_>>8&255))<<8|gt((255&m)+(255&N)-(255&_)))>>>0},D.Predictor13=function(m,_,E){var N=_[E-1];return(Tt((m=et(m,_[E+0]))>>24&255,N>>24&255)<<24|Tt(m>>16&255,N>>16&255)<<16|Tt(m>>8&255,N>>8&255)<<8|Tt(m>>0&255,N>>0&255))>>>0};var $c=D.PredictorAdd0;D.PredictorAdd1=Ht,Je("Predictor2","PredictorAdd2"),Je("Predictor3","PredictorAdd3"),Je("Predictor4","PredictorAdd4"),Je("Predictor5","PredictorAdd5"),Je("Predictor6","PredictorAdd6"),Je("Predictor7","PredictorAdd7"),Je("Predictor8","PredictorAdd8"),Je("Predictor9","PredictorAdd9"),Je("Predictor10","PredictorAdd10"),Je("Predictor11","PredictorAdd11"),Je("Predictor12","PredictorAdd12"),Je("Predictor13","PredictorAdd13");var Mo=D.PredictorAdd2;Rt("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),Rt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var fm,Ei=D.ColorIndexInverseTransform,_h=D.MapARGB,ef=D.VP8LColorIndexInverseTransformAlpha,wh=D.MapAlpha,so=D.VP8LPredictorsAdd=[];so.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var jl,Pi,ui,Bl,Oo,Fo,xh,Do,fn,jo,hi,Ss,Vc,tf,Wc,Gc,Yc,As,Bo,ao,zo,Uo,zl,Xr,Wi,En,vn,rr,yr=s(511),oo=s(2041),Sh=s(225),Xc=s(767),nf=0,lo=oo,Ah=Sh,Ti=Xc,Ys=yr,pm=0,Ul=1,yv=2,rf=3,sf=4,Pn=5,mm=6,Ch=7,Kc=8,af=9,of=10,lf=[2,3,7],gm=[3,3,11],Jc=[280,256,256,256,40],vv=[0,1,1,1,0],N_=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],R_=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],bv=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ym=8,kh=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],cf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Qc=null,k0=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],E0=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],_v=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],wv=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],I_=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],M_=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],P0=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Li=[],Xs=[],Gi=[],co=1,Eh=2,di=[],Yi=[];De("UpsampleRgbLinePair",en,3),De("UpsampleBgrLinePair",Xn,3),De("UpsampleRgbaLinePair",Ea,4),De("UpsampleBgraLinePair",zr,4),De("UpsampleArgbLinePair",ci,4),De("UpsampleRgba4444LinePair",gr,2),De("UpsampleRgb565LinePair",tr,2);var O_=D.UpsampleRgbLinePair,F_=D.UpsampleBgrLinePair,ql=D.UpsampleRgbaLinePair,Ph=D.UpsampleBgraLinePair,Zc=D.UpsampleArgbLinePair,uf=D.UpsampleRgba4444LinePair,T0=D.UpsampleRgb565LinePair,qo=16,Pa=1<<qo-1,bn=-227,xn=482,Hl=6,Kr=0,Xi=s(256),eu=s(256),Th=s(256),Ki=s(256),vm=s(xn-bn),xv=s(xn-bn);Gs("YuvToRgbRow",en,3),Gs("YuvToBgrRow",Xn,3),Gs("YuvToRgbaRow",Ea,4),Gs("YuvToBgraRow",zr,4),Gs("YuvToArgbRow",ci,4),Gs("YuvToRgba4444Row",gr,2),Gs("YuvToRgb565Row",tr,2);var L0=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],tu=[0,2,8],Sv=[8,7,6,4,4,2,2,2,1,1,1,1],Ho=1;this.WebPDecodeRGBA=function(m,_,E,N,F){var q=Ul,G=new io,Y=new oi;G.ba=Y,Y.S=q,Y.width=[Y.width],Y.height=[Y.height];var X=Y.width,ie=Y.height,be=new zi;if(be==null||m==null)var Pe=2;else e(be!=null),Pe=qc(m,_,E,be.width,be.height,be.Pd,be.Qd,be.format,null);if(Pe!=0?X=0:(X!=null&&(X[0]=be.width[0]),ie!=null&&(ie[0]=be.height[0]),X=1),X){Y.width=Y.width[0],Y.height=Y.height[0],N!=null&&(N[0]=Y.width),F!=null&&(F[0]=Y.height);e:{if(N=new eh,(F=new Ol).data=m,F.w=_,F.ha=E,F.kd=1,_=[0],e(F!=null),((m=qc(F.data,F.w,F.ha,null,null,null,_,null,F))==0||m==7)&&_[0]&&(m=4),(_=m)==0){if(e(G!=null),N.data=F.data,N.w=F.w+F.offset,N.ha=F.ha-F.offset,N.put=Hs,N.ac=Br,N.bc=ba,N.ma=G,F.xa){if((m=bs())==null){G=1;break e}if(function(Te,Ae){var qe=[0],Oe=[0],we=[0];t:for(;;){if(Te==null)return 0;if(Ae==null)return Te.a=2,0;if(Te.l=Ae,Te.a=0,ne(Te.m,Ae.data,Ae.w,Ae.ha),!_t(Te.m,qe,Oe,we)){Te.a=3;break t}if(Te.xb=Eh,Ae.width=qe[0],Ae.height=Oe[0],!Za(qe[0],Oe[0],1,Te,null))break t;return 1}return e(Te.a!=0),0}(m,N)){if(N=(_=Hc(N.width,N.height,G.Oa,G.ba))==0){t:{N=m;n:for(;;){if(N==null){N=0;break t}if(e(N.s.yc!=null),e(N.s.Ya!=null),e(0<N.s.Wb),e((E=N.l)!=null),e((F=E.ma)!=null),N.xb!=0){if(N.ca=F.ba,N.tb=F.tb,e(N.ca!=null),!ph(F.Oa,E,rf)){N.a=2;break n}if(!kl(N,E.width)||E.da)break n;if((E.da||ln(N.ca.S))&&Ee(),11>N.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),N.ca.f.kb.F!=null&&Ee()),N.Pb&&0<N.s.ua&&N.s.vb.X==null&&!it(N.s.vb,N.s.Wa.Xa)){N.a=1;break n}N.xb=0}if(!Yr(N,N.V,N.Ba,N.c,N.i,E.o,Cl))break n;F.Dc=N.Ma,N=1;break t}e(N.a!=0),N=0}N=!N}N&&(_=m.a)}else _=m.a}else{if((m=new _s)==null){G=1;break e}if(m.Fa=F.na,m.P=F.P,m.qc=F.Sa,om(m,N)){if((_=Hc(N.width,N.height,G.Oa,G.ba))==0){if(m.Aa=0,E=G.Oa,e((F=m)!=null),E!=null){if(0<(X=0>(X=E.Md)?0:100<X?255:255*X/100)){for(ie=be=0;4>ie;++ie)12>(Pe=F.pb[ie]).lc&&(Pe.ia=X*Sv[0>Pe.lc?0:Pe.lc]>>3),be|=Pe.ia;be&&(alert("todo:VP8InitRandom"),F.ia=1)}F.Ga=E.Id,100<F.Ga?F.Ga=100:0>F.Ga&&(F.Ga=0)}Ic(m,N)||(_=m.a)}}else _=m.a}_==0&&G.Oa!=null&&G.Oa.fd&&(_=mh(G.ba))}G=_}q=G!=0?null:11>q?Y.f.RGBA.eb:Y.f.kb.y}else q=null;return q};var hf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(D,Q){for(var ue="",j=0;j<4;j++)ue+=String.fromCharCode(D[Q++]);return ue}function d(D,Q){return(D[Q+0]<<0|D[Q+1]<<8|D[Q+2]<<16)>>>0}function p(D,Q){return(D[Q+0]<<0|D[Q+1]<<8|D[Q+2]<<16|D[Q+3]<<24)>>>0}new c;var y=[0],v=[0],x=[],w=new c,C=i,S=function(D,Q){var ue={},j=0,V=!1,ee=0,re=0;if(ue.frames=[],!function(K,Z,oe,de){for(var ge=0;ge<de;ge++)if(K[Z+ge]!=oe.charCodeAt(ge))return!0;return!1}(D,Q,"RIFF",4)){for(p(D,Q+=4),Q+=8;Q<D.length;){var pe=h(D,Q),fe=p(D,Q+=4);Q+=4;var he=fe+(1&fe);switch(pe){case"VP8 ":case"VP8L":ue.frames[j]===void 0&&(ue.frames[j]={}),(me=ue.frames[j]).src_off=V?re:Q-8,me.src_size=ee+fe+8,j++,V&&(V=!1,ee=0,re=0);break;case"VP8X":(me=ue.header={}).feature_flags=D[Q];var ne=Q+4;me.canvas_width=1+d(D,ne),ne+=3,me.canvas_height=1+d(D,ne),ne+=3;break;case"ALPH":V=!0,ee=he+8,re=Q-8;break;case"ANIM":(me=ue.header).bgcolor=p(D,Q),ne=Q+4,me.loop_count=(se=D)[(I=ne)+0]<<0|se[I+1]<<8,ne+=2;break;case"ANMF":var ye,me;(me=ue.frames[j]={}).offset_x=2*d(D,Q),Q+=3,me.offset_y=2*d(D,Q),Q+=3,me.width=1+d(D,Q),Q+=3,me.height=1+d(D,Q),Q+=3,me.duration=d(D,Q),Q+=3,ye=D[Q++],me.dispose=1&ye,me.blend=ye>>1&1}pe!="ANMF"&&(Q+=he)}var se,I;return ue}}(C,0);S.response=C,S.rgbaoutput=!0,S.dataurl=!1;var P=S.header?S.header:null,R=S.frames?S.frames:null;if(P){P.loop_counter=P.loop_count,y=[P.canvas_height],v=[P.canvas_width];for(var M=0;M<R.length&&R[M].blend!=0;M++);}var O=R[0],$=w.WebPDecodeRGBA(C,O.src_off,O.src_size,v,y);O.rgba=$,O.imgwidth=v[0],O.imgheight=y[0];for(var U=0;U<v[0]*y[0]*4;U++)x[U]=$[U];return this.width=v,this.height=y,this.data=x,this}(function(i){var e=function(){return typeof gS=="function"},t=function(y,v,x,w){var C=4,S=a;switch(w){case i.image_compression.FAST:C=1,S=s;break;case i.image_compression.MEDIUM:C=6,S=o;break;case i.image_compression.SLOW:C=9,S=c}y=n(y,v,x,S);var P=gS(y,{level:C});return i.__addimage__.arrayBufferToBinaryString(P)},n=function(y,v,x,w){for(var C,S,P,R=y.length/v,M=new Uint8Array(y.length+R),O=d(),$=0;$<R;$+=1){if(P=$*v,C=y.subarray(P,P+v),w)M.set(w(C,x,S),P+$);else{for(var U,D=O.length,Q=[];U<D;U+=1)Q[U]=O[U](C,x,S);var ue=p(Q.concat());M.set(Q[ue],P+$)}S=C}return M},r=function(y){var v=Array.apply([],y);return v.unshift(0),v},s=function(y,v){var x,w=[],C=y.length;w[0]=1;for(var S=0;S<C;S+=1)x=y[S-v]||0,w[S+1]=y[S]-x+256&255;return w},a=function(y,v,x){var w,C=[],S=y.length;C[0]=2;for(var P=0;P<S;P+=1)w=x&&x[P]||0,C[P+1]=y[P]-w+256&255;return C},o=function(y,v,x){var w,C,S=[],P=y.length;S[0]=3;for(var R=0;R<P;R+=1)w=y[R-v]||0,C=x&&x[R]||0,S[R+1]=y[R]+256-(w+C>>>1)&255;return S},c=function(y,v,x){var w,C,S,P,R=[],M=y.length;R[0]=4;for(var O=0;O<M;O+=1)w=y[O-v]||0,C=x&&x[O]||0,S=x&&x[O-v]||0,P=h(w,C,S),R[O+1]=y[O]-P+256&255;return R},h=function(y,v,x){if(y===v&&v===x)return y;var w=Math.abs(v-x),C=Math.abs(y-x),S=Math.abs(y+v-x-x);return w<=C&&w<=S?y:C<=S?v:x},d=function(){return[r,s,a,o,c]},p=function(y){var v=y.map(function(x){return x.reduce(function(w,C){return w+Math.abs(C)},0)});return v.indexOf(Math.min.apply(null,v))};i.processPNG=function(y,v,x,w){var C,S,P,R,M,O,$,U,D,Q,ue,j,V,ee,re,pe=this.decode.FLATE_DECODE,fe="";if(this.__addimage__.isArrayBuffer(y)&&(y=new Uint8Array(y)),this.__addimage__.isArrayBufferView(y)){if(y=(P=new TU(y)).imgData,S=P.bits,C=P.colorSpace,M=P.colors,[4,6].indexOf(P.colorType)!==-1){if(P.bits===8){D=(U=P.pixelBitlength==32?new Uint32Array(P.decodePixels().buffer):P.pixelBitlength==16?new Uint16Array(P.decodePixels().buffer):new Uint8Array(P.decodePixels().buffer)).length,ue=new Uint8Array(D*P.colors),Q=new Uint8Array(D);var he,ne=P.pixelBitlength-P.bits;for(ee=0,re=0;ee<D;ee++){for(V=U[ee],he=0;he<ne;)ue[re++]=V>>>he&255,he+=P.bits;Q[ee]=V>>>he&255}}if(P.bits===16){D=(U=new Uint32Array(P.decodePixels().buffer)).length,ue=new Uint8Array(D*(32/P.pixelBitlength)*P.colors),Q=new Uint8Array(D*(32/P.pixelBitlength)),j=P.colors>1,ee=0,re=0;for(var ye=0;ee<D;)V=U[ee++],ue[re++]=V>>>0&255,j&&(ue[re++]=V>>>16&255,V=U[ee++],ue[re++]=V>>>0&255),Q[ye++]=V>>>16&255;S=8}w!==i.image_compression.NONE&&e()?(y=t(ue,P.width*P.colors,P.colors,w),$=t(Q,P.width,1,w)):(y=ue,$=Q,pe=void 0)}if(P.colorType===3&&(C=this.color_spaces.INDEXED,O=P.palette,P.transparency.indexed)){var me=P.transparency.indexed,se=0;for(ee=0,D=me.length;ee<D;++ee)se+=me[ee];if((se/=255)===D-1&&me.indexOf(0)!==-1)R=[me.indexOf(0)];else if(se!==D){for(U=P.decodePixels(),Q=new Uint8Array(U.length),ee=0,D=U.length;ee<D;ee++)Q[ee]=me[U[ee]];$=t(Q,P.width,1)}}var I=function(K){var Z;switch(K){case i.image_compression.FAST:Z=11;break;case i.image_compression.MEDIUM:Z=13;break;case i.image_compression.SLOW:Z=14;break;default:Z=12}return Z}(w);return pe===this.decode.FLATE_DECODE&&(fe="/Predictor "+I+" "),fe+="/Colors "+M+" /BitsPerComponent "+S+" /Columns "+P.width,(this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),($&&this.__addimage__.isArrayBuffer($)||this.__addimage__.isArrayBufferView($))&&($=this.__addimage__.arrayBufferToBinaryString($)),{alias:x,data:y,index:v,filter:pe,decodeParameters:fe,transparency:R,palette:O,sMask:$,predictor:I,width:P.width,height:P.height,bitsPerComponent:S,colorSpace:C}}}})(Pt.API),function(i){i.processGIF89A=function(e,t,n,r){var s=new LU(e),a=s.width,o=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var h={data:c,width:a,height:o},d=new rx(100).encode(h,100);return i.processJPEG.call(this,d,t,n,r)},i.processGIF87A=i.processGIF89A}(Pt.API),el.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var i=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(i);for(var e=0;e<i;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:r,green:n,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},el.prototype.parseBGR=function(){this.pos=this.offset;try{var i="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[i]()}catch(t){jn.log("bit decode error:"+t)}},el.prototype.bit1=function(){var i,e=Math.ceil(this.width/8),t=e%4;for(i=this.height-1;i>=0;i--){for(var n=this.bottom_up?i:this.height-1-i,r=0;r<e;r++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*r*4,o=0;o<8&&8*r+o<this.width;o++){var c=this.palette[s>>7-o&1];this.data[a+4*o]=c.blue,this.data[a+4*o+1]=c.green,this.data[a+4*o+2]=c.red,this.data[a+4*o+3]=255}t!==0&&(this.pos+=4-t)}},el.prototype.bit4=function(){for(var i=Math.ceil(this.width/2),e=i%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<i;r++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*r*4,o=s>>4,c=15&s,h=this.palette[o];if(this.data[a]=h.blue,this.data[a+1]=h.green,this.data[a+2]=h.red,this.data[a+3]=255,2*r+1>=this.width)break;h=this.palette[c],this.data[a+4]=h.blue,this.data[a+4+1]=h.green,this.data[a+4+2]=h.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},el.prototype.bit8=function(){for(var i=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;if(r<this.palette.length){var a=this.palette[r];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}i!==0&&(this.pos+=4-i)}},el.prototype.bit15=function(){for(var i=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,h=s>>15?255:0,d=n*this.width*4+4*r;this.data[d]=c,this.data[d+1]=o,this.data[d+2]=a,this.data[d+3]=h}this.pos+=i}},el.prototype.bit16=function(){for(var i=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,c=(a>>5&t)/t*255|0,h=(a>>11)/e*255|0,d=r*this.width*4+4*s;this.data[d]=h,this.data[d+1]=c,this.data[d+2]=o,this.data[d+3]=255}this.pos+=i}},el.prototype.bit24=function(){for(var i=this.height-1;i>=0;i--){for(var e=this.bottom_up?i:this.height-1-i,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=r,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},el.prototype.bit32=function(){for(var i=this.height-1;i>=0;i--)for(var e=this.bottom_up?i:this.height-1-i,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=r,this.data[o+2]=n,this.data[o+3]=a}},el.prototype.getData=function(){return this.data},function(i){i.processBMP=function(e,t,n,r){var s=new el(e,!1),a=s.width,o=s.height,c={data:s.getData(),width:a,height:o},h=new rx(100).encode(c,100);return i.processJPEG.call(this,h,t,n,r)}}(Pt.API),XE.prototype.getData=function(){return this.data},function(i){i.processWEBP=function(e,t,n,r){var s=new XE(e),a=s.width,o=s.height,c={data:s.getData(),width:a,height:o},h=new rx(100).encode(c,100);return i.processJPEG.call(this,h,t,n,r)}}(Pt.API),Pt.API.processRGBA=function(i,e,t){for(var n=i.data,r=n.length,s=new Uint8Array(r/4*3),a=new Uint8Array(r/4),o=0,c=0,h=0;h<r;h+=4){var d=n[h],p=n[h+1],y=n[h+2],v=n[h+3];s[o++]=d,s[o++]=p,s[o++]=y,a[c++]=v}var x=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:x,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:i.width,height:i.height}},Pt.API.setLanguage=function(i){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[i]!==void 0&&(this.internal.languageSettings.languageCode=i,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Fm=Pt.API,p2=Fm.getCharWidthsArray=function(i,e){var t,n,r=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:r.metadata.Unicode.widths,c=o.fof?o.fof:1,h=e.kerning?e.kerning:r.metadata.Unicode.kerning,d=h.fof?h.fof:1,p=e.doKerning!==!1,y=0,v=i.length,x=0,w=o[0]||c,C=[];for(t=0;t<v;t++)n=i.charCodeAt(t),typeof r.metadata.widthOfString=="function"?C.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(y=p&&Rn(h[n])==="object"&&!isNaN(parseInt(h[n][x],10))?h[n][x]/d:0,C.push((o[n]||w)/c+y)),x=n;return C},VE=Fm.getStringUnitWidth=function(i,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),r=e.charSpace||this.internal.getCharSpace();return Fm.processArabic&&(i=Fm.processArabic(i)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(i,t,r)/t:p2.apply(this,arguments).reduce(function(s,a){return s+a},0)},WE=function(i,e,t,n){for(var r=[],s=0,a=i.length,o=0;s!==a&&o+e[s]<t;)o+=e[s],s++;r.push(i.slice(0,s));var c=s;for(o=0;s!==a;)o+e[s]>n&&(r.push(i.slice(c,s)),o=0,c=s),o+=e[s],s++;return c!==s&&r.push(i.slice(c,s)),r},GE=function(i,e,t){t||(t={});var n,r,s,a,o,c,h,d=[],p=[d],y=t.textIndent||0,v=0,x=0,w=i.split(" "),C=p2.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?w[0].length+2:t.lineIndent||0){var S=Array(c).join(" "),P=[];w.map(function(M){(M=M.split(/\s*\n/)).length>1?P=P.concat(M.map(function(O,$){return($&&O.length?`
`:"")+O})):P.push(M[0])}),w=P,c=VE.apply(this,[S,t])}for(s=0,a=w.length;s<a;s++){var R=0;if(n=w[s],c&&n[0]==`
`&&(n=n.substr(1),R=1),y+v+(x=(r=p2.apply(this,[n,t])).reduce(function(M,O){return M+O},0))>e||R){if(x>e){for(o=WE.apply(this,[n,r,e-(y+v),e]),d.push(o.shift()),d=[o.pop()];o.length;)p.push([o.shift()]);x=r.slice(n.length-(d[0]?d[0].length:0)).reduce(function(M,O){return M+O},0)}else d=[n];p.push(d),y=x+c,v=C}else d.push(n),y+=v+x,v=C}return h=c?function(M,O){return(O?S:"")+M.join(" ")}:function(M){return M.join(" ")},p.map(h)},Fm.splitTextToSize=function(i,e,t){var n,r=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var p=this.internal.getFont(d.fontName,d.fontStyle);return p.metadata.Unicode?{widths:p.metadata.Unicode.widths||{0:1},kerning:p.metadata.Unicode.kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(i)?i:String(i).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/r;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=t.lineIndent;var o,c,h=[];for(o=0,c=n.length;o<c;o++)h=h.concat(GE.apply(this,[n[o],a,s]));return h},function(i){i.__fontmetrics__=i.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},n={},r=0;r<e.length;r++)t[e[r]]="0123456789abcdef"[r],n["0123456789abcdef"[r]]=e[r];var s=function(p){return"0x"+parseInt(p,10).toString(16)},a=i.__fontmetrics__.compress=function(p){var y,v,x,w,C=["{"];for(var S in p){if(y=p[S],isNaN(parseInt(S,10))?v="'"+S+"'":(S=parseInt(S,10),v=(v=s(S).slice(2)).slice(0,-1)+n[v.slice(-1)]),typeof y=="number")y<0?(x=s(y).slice(3),w="-"):(x=s(y).slice(2),w=""),x=w+x.slice(0,-1)+n[x.slice(-1)];else{if(Rn(y)!=="object")throw new Error("Don't know what to do with value type "+Rn(y)+".");x=a(y)}C.push(v+x)}return C.push("}"),C.join("")},o=i.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,v,x,w,C={},S=1,P=C,R=[],M="",O="",$=p.length-1,U=1;U<$;U+=1)(w=p[U])=="'"?y?(x=y.join(""),y=void 0):y=[]:y?y.push(w):w=="{"?(R.push([P,x]),P={},x=void 0):w=="}"?((v=R.pop())[0][v[1]]=P,x=void 0,P=v[0]):w=="-"?S=-1:x===void 0?t.hasOwnProperty(w)?(M+=t[w],x=parseInt(M,16)*S,S=1,M=""):M+=w:t.hasOwnProperty(w)?(O+=t[w],P[x]=parseInt(O,16)*S,S=1,x=void 0,O=""):O+=w;return C},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};i.events.push(["addFont",function(p){var y=p.font,v=d.Unicode[y.postScriptName];v&&(y.metadata.Unicode={},y.metadata.Unicode.widths=v.widths,y.metadata.Unicode.kerning=v.kerning);var x=h.Unicode[y.postScriptName];x&&(y.metadata.Unicode.encoding=x,y.encoding=x.codePages[0])}])}(Pt.API),function(i){var e=function(t){for(var n=t.length,r=new Uint8Array(n),s=0;s<n;s++)r[s]=t.charCodeAt(s);return r};i.API.events.push(["addFont",function(t){var n=void 0,r=t.font,s=t.instance;if(!r.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(n=s.existsFileInVFS(r.postScriptName)===!1?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(E1(o)),a.metadata=i.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(r,n)}}])}(Pt),function(i){function e(){return(Lt.canvg?Promise.resolve(Lt.canvg):Df(()=>import("./index.es-B-mMKt_4.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}Pt.API.addSvgAsImage=function(t,n,r,s,a,o,c,h){if(isNaN(n)||isNaN(r))throw jn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw jn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=s,d.height=a;var p=d.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,d.width,d.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},v=this;return e().then(function(x){return x.fromString(p,t,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(y)}).then(function(){v.addImage(d.toDataURL("image/jpeg",1),n,r,s,a,c,h)})}}(),Pt.API.putTotalPages=function(i){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(i,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(i,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var r=0;r<this.internal.pages[n].length;r++)this.internal.pages[n][r]=this.internal.pages[n][r].replace(e,t);return this},Pt.API.viewerPreferences=function(i,e){var t;i=i||{},e=e||!1;var n,r,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),c=[],h=0,d=0,p=0;function y(x,w){var C,S=!1;for(C=0;C<x.length;C+=1)x[C]===w&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,i==="reset"||e===!0){var v=o.length;for(p=0;p<v;p+=1)t[o[p]].value=t[o[p]].defaultValue,t[o[p]].explicitSet=!1}if(Rn(i)==="object"){for(r in i)if(s=i[r],y(o,r)&&s!==void 0){if(t[r].type==="boolean"&&typeof s=="boolean")t[r].value=s;else if(t[r].type==="name"&&y(t[r].valueSet,s))t[r].value=s;else if(t[r].type==="integer"&&Number.isInteger(s))t[r].value=s;else if(t[r].type==="array"){for(h=0;h<s.length;h+=1)if(n=!0,s[h].length===1&&typeof s[h][0]=="number")c.push(String(s[h]-1));else if(s[h].length>1){for(d=0;d<s[h].length;d+=1)typeof s[h][d]!="number"&&(n=!1);n===!0&&c.push([s[h][0]-1,s[h][1]-1].join(" "))}t[r].value="["+c.join(" ")+"]"}else t[r].value=t[r].defaultValue;t[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,w=[];for(x in t)t[x].explicitSet===!0&&(t[x].type==="name"?w.push("/"+x+" /"+t[x].value):w.push("/"+x+" "+t[x].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(i){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),h=s.length+a.length+o.length+r.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(r+s+a+o+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};i.addMetadata=function(n,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Pt.API),function(i){var e=i.API,t=e.pdfEscape16=function(s,a){for(var o,c=a.metadata.Unicode.widths,h=["","0","00","000","0000"],d=[""],p=0,y=s.length;p<y;++p){if(o=a.metadata.characterToGlyph(s.charCodeAt(p)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(p),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(h[4-o.length],o)}return d.join("")},n=function(s){var a,o,c,h,d,p,y;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],p=0,y=(o=Object.keys(s).sort(function(v,x){return v-x})).length;p<y;p++)a=o[p],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(h=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+h+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,c=a.out,h=a.newObject,d=a.putStream;if(o.metadata instanceof i.API.TTFFont&&o.encoding==="Identity-H"){for(var p=o.metadata.Unicode.widths,y=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),v="",x=0;x<y.length;x++)v+=String.fromCharCode(y[x]);var w=h();d({data:v,addLength1:!0,objectId:w}),c("endobj");var C=h();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:C}),c("endobj");var S=h();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Wm(o.fontName)),c("/FontFile2 "+w+" 0 R"),c("/FontBBox "+i.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var P=h();c("<<"),c("/Type /Font"),c("/BaseFont /"+Wm(o.fontName)),c("/FontDescriptor "+S+" 0 R"),c("/W "+i.API.PDFObject.convert(p)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=h(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+C+" 0 R"),c("/BaseFont /"+Wm(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+P+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,c=a.out,h=a.newObject,d=a.putStream;if(o.metadata instanceof i.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var p=o.metadata.rawData,y="",v=0;v<p.length;v++)y+=String.fromCharCode(p[v]);var x=h();d({data:y,addLength1:!0,objectId:x}),c("endobj");var w=h();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:w}),c("endobj");var C=h();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+x+" 0 R"),c("/Flags 96"),c("/FontBBox "+i.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+Wm(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=h();for(var S=0;S<o.metadata.hmtx.widths.length;S++)o.metadata.hmtx.widths[S]=parseInt(o.metadata.hmtx.widths[S]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+Wm(o.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+i.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]);var r=function(s){var a,o=s.text||"",c=s.x,h=s.y,d=s.options||{},p=s.mutex||{},y=p.pdfEscape,v=p.activeFontKey,x=p.fonts,w=v,C="",S=0,P="",R=x[w].encoding;if(x[w].encoding!=="Identity-H")return{text:o,x:c,y:h,options:d,mutex:p};for(P=o,w=v,Array.isArray(o)&&(P=o[0]),S=0;S<P.length;S+=1)x[w].metadata.hasOwnProperty("cmap")&&(a=x[w].metadata.cmap.unicode.codeMap[P[S].charCodeAt(0)]),a||P[S].charCodeAt(0)<256&&x[w].metadata.hasOwnProperty("Unicode")?C+=P[S]:C+="";var M="";return parseInt(w.slice(1))<14||R==="WinAnsiEncoding"?M=y(C,w).split("").map(function(O){return O.charCodeAt(0).toString(16)}).join(""):R==="Identity-H"&&(M=t(C,x[w])),p.isHex=!0,{text:M,x:c,y:h,options:d,mutex:p}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],c={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var h=0;for(h=0;h<a.length;h+=1)Array.isArray(a[h])&&a[h].length===3?o.push([r(Object.assign({},c,{text:a[h][0]})).text,a[h][1],a[h][2]]):o.push(r(Object.assign({},c,{text:a[h]})).text);s.text=o}else s.text=r(Object.assign({},c,{text:a})).text}])}(Pt),function(i){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};i.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},i.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},i.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(Pt.API),function(i){i.__bidiEngine__=i.prototype.__bidiEngine__=function(n){var r,s,a,o,c,h,d,p=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],v=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),P=!1,R=0;this.__bidiEngine__={};var M=function(j){var V=j.charCodeAt(),ee=V>>8,re=w[ee];return re!==void 0?p[256*re+(255&V)]:ee===252||ee===253?"AL":S.test(ee)?"L":ee===8?"R":"N"},O=function(j){for(var V,ee=0;ee<j.length;ee++){if((V=M(j.charAt(ee)))==="L")return!1;if(V==="R")return!0}return!1},$=function(j,V,ee,re){var pe,fe,he,ne,ye=V[re];switch(ye){case"L":case"R":P=!1;break;case"N":case"AN":break;case"EN":P&&(ye="AN");break;case"AL":P=!0,ye="R";break;case"WS":ye="N";break;case"CS":re<1||re+1>=V.length||(pe=ee[re-1])!=="EN"&&pe!=="AN"||(fe=V[re+1])!=="EN"&&fe!=="AN"?ye="N":P&&(fe="AN"),ye=fe===pe?fe:"N";break;case"ES":ye=(pe=re>0?ee[re-1]:"B")==="EN"&&re+1<V.length&&V[re+1]==="EN"?"EN":"N";break;case"ET":if(re>0&&ee[re-1]==="EN"){ye="EN";break}if(P){ye="N";break}for(he=re+1,ne=V.length;he<ne&&V[he]==="ET";)he++;ye=he<ne&&V[he]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(ne=V.length,he=re+1;he<ne&&V[he]==="NSM";)he++;if(he<ne){var me=j[re],se=me>=1425&&me<=2303||me===64286;if(pe=V[he],se&&(pe==="R"||pe==="AL")){ye="R";break}}}ye=re<1||(pe=V[re-1])==="B"?"N":ee[re-1];break;case"B":P=!1,r=!0,ye=R;break;case"S":s=!0,ye="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":P=!1;break;case"BN":ye="N"}return ye},U=function(j,V,ee){var re=j.split("");return ee&&D(re,ee,{hiLevel:R}),re.reverse(),V&&V.reverse(),re.join("")},D=function(j,V,ee){var re,pe,fe,he,ne,ye=-1,me=j.length,se=0,I=[],K=R?v:y,Z=[];for(P=!1,r=!1,s=!1,pe=0;pe<me;pe++)Z[pe]=M(j[pe]);for(fe=0;fe<me;fe++){if(ne=se,I[fe]=$(j,Z,I,fe),re=240&(se=K[ne][x[I[fe]]]),se&=15,V[fe]=he=K[se][5],re>0)if(re===16){for(pe=ye;pe<fe;pe++)V[pe]=1;ye=-1}else ye=-1;if(K[se][6])ye===-1&&(ye=fe);else if(ye>-1){for(pe=ye;pe<fe;pe++)V[pe]=he;ye=-1}Z[fe]==="B"&&(V[fe]=0),ee.hiLevel|=he}s&&function(oe,de,ge){for(var Ce=0;Ce<ge;Ce++)if(oe[Ce]==="S"){de[Ce]=R;for(var ke=Ce-1;ke>=0&&oe[ke]==="WS";ke--)de[ke]=R}}(Z,V,me)},Q=function(j,V,ee,re,pe){if(!(pe.hiLevel<j)){if(j===1&&R===1&&!r)return V.reverse(),void(ee&&ee.reverse());for(var fe,he,ne,ye,me=V.length,se=0;se<me;){if(re[se]>=j){for(ne=se+1;ne<me&&re[ne]>=j;)ne++;for(ye=se,he=ne-1;ye<he;ye++,he--)fe=V[ye],V[ye]=V[he],V[he]=fe,ee&&(fe=ee[ye],ee[ye]=ee[he],ee[he]=fe);se=ne}se++}}},ue=function(j,V,ee){var re=j.split(""),pe={hiLevel:R};return ee||(ee=[]),D(re,ee,pe),function(fe,he,ne){if(ne.hiLevel!==0&&d)for(var ye,me=0;me<fe.length;me++)he[me]===1&&(ye=C.indexOf(fe[me]))>=0&&(fe[me]=C[ye+1])}(re,ee,pe),Q(2,re,V,ee,pe),Q(1,re,V,ee,pe),re.join("")};return this.__bidiEngine__.doBidiReorder=function(j,V,ee){if(function(pe,fe){if(fe)for(var he=0;he<pe.length;he++)fe[he]=he;o===void 0&&(o=O(pe)),h===void 0&&(h=O(pe))}(j,V),a||!c||h)if(a&&c&&o^h)R=o?1:0,j=U(j,V,ee);else if(!a&&c&&h)R=o?1:0,j=ue(j,V,ee),j=U(j,V);else if(!a||o||c||h){if(a&&!c&&o^h)j=U(j,V),o?(R=0,j=ue(j,V,ee)):(R=1,j=ue(j,V,ee),j=U(j,V));else if(a&&o&&!c&&h)R=1,j=ue(j,V,ee),j=U(j,V);else if(!a&&!c&&o^h){var re=d;o?(R=1,j=ue(j,V,ee),R=0,d=!1,j=ue(j,V,ee),d=re):(R=0,j=ue(j,V,ee),j=U(j,V),R=1,d=!1,j=ue(j,V,ee),d=re,j=U(j,V))}}else R=0,j=ue(j,V,ee);else R=o?1:0,j=ue(j,V,ee);return j},this.__bidiEngine__.setOptions=function(j){j&&(a=j.isInputVisual,c=j.isOutputVisual,o=j.isInputRtl,h=j.isOutputRtl,d=j.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new i.__bidiEngine__({isInputVisual:!0});i.API.events.push(["postProcessText",function(n){var r=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(r)==="[object Array]"){var o=0;for(a=[],o=0;o<r.length;o+=1)Object.prototype.toString.call(r[o])==="[object Array]"?a.push([t.doBidiReorder(r[o][0]),r[o][1],r[o][2]]):a.push([t.doBidiReorder(r[o])]);n.text=a}else n.text=t.doBidiReorder(r);t.setOptions({isInputVisual:!0})}])}(Pt),Pt.API.TTFFont=function(){function i(e){var t;if(this.rawData=e,t=this.contents=new Od(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new VU(this),this.registerTTF()}return i.open=function(e){return new i(e)},i.prototype.parse=function(){return this.directory=new NU(this.contents),this.head=new IU(this),this.name=new jU(this),this.cmap=new z6(this),this.toUnicode={},this.hhea=new MU(this),this.maxp=new BU(this),this.hmtx=new zU(this),this.post=new FU(this),this.os2=new OU(this),this.loca=new $U(this),this.glyf=new UU(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},i.prototype.registerTTF=function(){var e,t,n,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,c,h;for(h=[],a=0,o=(c=this.bbox).length;a<o;a++)e=c[a],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),(32768&(t=r>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},i.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},i.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},i.prototype.widthOfString=function(e,t,n){var r,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)r=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/t)||0;return a*(t/1e3)},i.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},i}();var Sl,Od=function(){function i(e){this.data=e??[],this.pos=0,this.length=this.data.length}return i.prototype.readByte=function(){return this.data[this.pos++]},i.prototype.writeByte=function(e){return this.data[this.pos++]=e},i.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},i.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},i.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},i.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},i.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},i.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},i.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},i.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},i.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},i.prototype.writeString=function(e){var t,n,r;for(r=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},i.prototype.readShort=function(){return this.readInt16()},i.prototype.writeShort=function(e){return this.writeInt16(e)},i.prototype.readLongLong=function(){var e,t,n,r,s,a,o,c;return e=this.readByte(),t=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*r+16777216*s+65536*a+256*o+c},i.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},i.prototype.readInt=function(){return this.readInt32()},i.prototype.writeInt=function(e){return this.writeInt32(e)},i.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},i.prototype.write=function(e){var t,n,r,s;for(s=[],n=0,r=e.length;n<r;n++)t=e[n],s.push(this.writeByte(t));return s},i}(),NU=function(){var i;function e(t){var n,r,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},r=0,s=this.tableCount;0<=s?r<s:r>s;r=0<=s?++r:--r)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,r,s,a,o,c,h,d,p,y,v,x,w;for(w in v=Object.keys(t).length,c=Math.log(2),p=16*Math.floor(Math.log(v)/c),a=Math.floor(p/c),d=16*v-p,(r=new Od).writeInt(this.scalarType),r.writeShort(v),r.writeShort(p),r.writeShort(a),r.writeShort(d),s=16*v,h=r.pos+s,o=null,x=[],t)for(y=t[w],r.writeString(w),r.writeInt(i(y)),r.writeInt(h),r.writeInt(y.length),x=x.concat(y),w==="head"&&(o=h),h+=y.length;h%4;)x.push(0),h++;return r.write(x),n=2981146554-i(r.data),r.pos=o+8,r.writeUInt32(n),r.data},i=function(t){var n,r,s,a;for(t=U6.call(t);t.length%4;)t.push(0);for(s=new Od(t),r=0,n=0,a=t.length;n<a;n=n+=4)r+=s.readUInt32();return 4294967295&r},e}(),RU={}.hasOwnProperty,Ec=function(i,e){for(var t in e)RU.call(e,t)&&(i[t]=e[t]);function n(){this.constructor=i}return n.prototype=e.prototype,i.prototype=new n,i.__super__=e.prototype,i};Sl=function(){function i(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return i.prototype.parse=function(){},i.prototype.encode=function(){},i.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},i}();var IU=function(i){function e(){return e.__super__.constructor.apply(this,arguments)}return Ec(e,Sl),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new Od).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e}(),KE=function(){function i(e,t){var n,r,s,a,o,c,h,d,p,y,v,x,w,C,S,P,R;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(v=e.readUInt16(),y=v/2,e.pos+=6,s=function(){var M,O;for(O=[],c=M=0;0<=y?M<y:M>y;c=0<=y?++M:--M)O.push(e.readUInt16());return O}(),e.pos+=2,w=function(){var M,O;for(O=[],c=M=0;0<=y?M<y:M>y;c=0<=y?++M:--M)O.push(e.readUInt16());return O}(),h=function(){var M,O;for(O=[],c=M=0;0<=y?M<y:M>y;c=0<=y?++M:--M)O.push(e.readUInt16());return O}(),d=function(){var M,O;for(O=[],c=M=0;0<=y?M<y:M>y;c=0<=y?++M:--M)O.push(e.readUInt16());return O}(),r=(this.length-e.pos+this.offset)/2,o=function(){var M,O;for(O=[],c=M=0;0<=r?M<r:M>r;c=0<=r?++M:--M)O.push(e.readUInt16());return O}(),c=S=0,R=s.length;S<R;c=++S)for(C=s[c],n=P=x=w[c];x<=C?P<=C:P>=C;n=x<=C?++P:--P)d[c]===0?a=n+h[c]:(a=o[d[c]/2+(n-x)-(y-c)]||0)!==0&&(a+=h[c]),this.codeMap[n]=65535&a}e.pos=p}return i.encode=function(e,t){var n,r,s,a,o,c,h,d,p,y,v,x,w,C,S,P,R,M,O,$,U,D,Q,ue,j,V,ee,re,pe,fe,he,ne,ye,me,se,I,K,Z,oe,de,ge,Ce,ke,ze,Me,Ge;switch(re=new Od,a=Object.keys(e).sort(function(He,it){return He-it}),t){case"macroman":for(w=0,C=function(){var He=[];for(x=0;x<256;++x)He.push(0);return He}(),P={0:0},s={},pe=0,ye=a.length;pe<ye;pe++)P[ke=e[r=a[pe]]]==null&&(P[ke]=++w),s[r]={old:e[r],new:P[e[r]]},C[r]=P[e[r]];return re.writeUInt16(1),re.writeUInt16(0),re.writeUInt32(12),re.writeUInt16(0),re.writeUInt16(262),re.writeUInt16(0),re.write(C),{charMap:s,subtable:re.data,maxGlyphID:w+1};case"unicode":for(V=[],p=[],R=0,P={},n={},S=h=null,fe=0,me=a.length;fe<me;fe++)P[O=e[r=a[fe]]]==null&&(P[O]=++R),n[r]={old:O,new:P[O]},o=P[O]-r,S!=null&&o===h||(S&&p.push(S),V.push(r),h=o),S=r;for(S&&p.push(S),p.push(65535),V.push(65535),ue=2*(Q=V.length),D=2*Math.pow(Math.log(Q)/Math.LN2,2),y=Math.log(D/2)/Math.LN2,U=2*Q-D,c=[],$=[],v=[],x=he=0,se=V.length;he<se;x=++he){if(j=V[x],d=p[x],j===65535){c.push(0),$.push(0);break}if(j-(ee=n[j].new)>=32768)for(c.push(0),$.push(2*(v.length+Q-x)),r=ne=j;j<=d?ne<=d:ne>=d;r=j<=d?++ne:--ne)v.push(n[r].new);else c.push(ee-j),$.push(0)}for(re.writeUInt16(3),re.writeUInt16(1),re.writeUInt32(12),re.writeUInt16(4),re.writeUInt16(16+8*Q+2*v.length),re.writeUInt16(0),re.writeUInt16(ue),re.writeUInt16(D),re.writeUInt16(y),re.writeUInt16(U),ge=0,I=p.length;ge<I;ge++)r=p[ge],re.writeUInt16(r);for(re.writeUInt16(0),Ce=0,K=V.length;Ce<K;Ce++)r=V[Ce],re.writeUInt16(r);for(ze=0,Z=c.length;ze<Z;ze++)o=c[ze],re.writeUInt16(o);for(Me=0,oe=$.length;Me<oe;Me++)M=$[Me],re.writeUInt16(M);for(Ge=0,de=v.length;Ge<de;Ge++)w=v[Ge],re.writeUInt16(w);return{charMap:n,subtable:re.data,maxGlyphID:R+1}}},i}(),z6=function(i){function e(){return e.__super__.constructor.apply(this,arguments)}return Ec(e,Sl),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,r,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)n=new KE(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var r,s;return n==null&&(n="macroman"),r=KE.encode(t,n),(s=new Od).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},e}(),MU=function(i){function e(){return e.__super__.constructor.apply(this,arguments)}return Ec(e,Sl),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),OU=function(i){function e(){return e.__super__.constructor.apply(this,arguments)}return Ec(e,Sl),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(t.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(t.readInt());return r}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(t.readInt());return r}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),FU=function(i){function e(){return e.__super__.constructor.apply(this,arguments)}return Ec(e,Sl),e.prototype.tag="post",e.prototype.parse=function(t){var n,r,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var a;for(r=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)n=t.readByte(),s.push(this.names.push(t.readString(n)));return s;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 196608:break;case 262144:return this.map=(function(){var o,c,h;for(h=[],a=o=0,c=this.file.maxp.numGlyphs;0<=c?o<c:o>c;a=0<=c?++o:--o)h.push(t.readUInt32());return h}).call(this)}},e}(),DU=function(i,e){this.raw=i,this.length=i.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},jU=function(i){function e(){return e.__super__.constructor.apply(this,arguments)}return Ec(e,Sl),e.prototype.tag="name",e.prototype.parse=function(t){var n,r,s,a,o,c,h,d,p,y,v;for(t.pos=this.offset,t.readShort(),n=t.readShort(),c=t.readShort(),r=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(h={},a=p=0,y=r.length;p<y;a=++p)s=r[a],t.pos=s.offset,d=t.readString(s.length),o=new DU(d,s),h[v=s.nameID]==null&&(h[v]=[]),h[s.nameID].push(o);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},e}(),BU=function(i){function e(){return e.__super__.constructor.apply(this,arguments)}return Ec(e,Sl),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),zU=function(i){function e(){return e.__super__.constructor.apply(this,arguments)}return Ec(e,Sl),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,r,s,a,o,c,h;for(t.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,p;for(p=[],n=d=0;0<=s?d<s:d>s;n=0<=s?++d:--d)p.push(t.readInt16());return p}(),this.widths=(function(){var d,p,y,v;for(v=[],d=0,p=(y=this.metrics).length;d<p;d++)a=y[d],v.push(a.advance);return v}).call(this),r=this.widths[this.widths.length-1],h=[],n=o=0;0<=s?o<s:o>s;n=0<=s?++o:--o)h.push(this.widths.push(r));return h},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),U6=[].slice,UU=function(i){function e(){return e.__super__.constructor.apply(this,arguments)}return Ec(e,Sl),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,r,s,a,o,c,h,d,p,y;return t in this.cache?this.cache[t]:(a=this.file.loca,n=this.file.contents,r=a.indexOf(t),(s=a.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+r,o=(c=new Od(n.read(s))).readShort(),d=c.readShort(),y=c.readShort(),h=c.readShort(),p=c.readShort(),this.cache[t]=o===-1?new HU(c,d,y,h,p):new qU(c,o,d,y,h,p),this.cache[t]))},e.prototype.encode=function(t,n,r){var s,a,o,c,h;for(o=[],a=[],c=0,h=n.length;c<h;c++)s=t[n[c]],a.push(o.length),s&&(o=o.concat(s.encode(r)));return a.push(o.length),{table:o,offsets:a}},e}(),qU=function(){function i(e,t,n,r,s,a){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=a,this.compound=!1}return i.prototype.encode=function(){return this.raw.data},i}(),HU=function(){function i(e,t,n,r,s){var a,o;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return i.prototype.encode=function(){var e,t,n;for(t=new Od(U6.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},i}(),$U=function(i){function e(){return e.__super__.constructor.apply(this,arguments)}return Ec(e,Sl),e.prototype.tag="loca",e.prototype.parse=function(t){var n,r;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,a;for(a=[],r=0,s=this.length;r<s;r+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],r=0,s=this.length;r<s;r+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var r=new Uint32Array(this.offsets.length),s=0,a=0,o=0;o<r.length;++o)if(r[o]=s,a<n.length&&n[a]==o){++a,r[o]=s;var c=this.offsets[o],h=this.offsets[o+1]-c;h>0&&(s+=h)}for(var d=new Array(4*r.length),p=0;p<r.length;++p)d[4*p+3]=255&r[p],d[4*p+2]=(65280&r[p])>>8,d[4*p+1]=(16711680&r[p])>>16,d[4*p]=(4278190080&r[p])>>24;return d},e}(),VU=function(){function i(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return i.prototype.generateCmap=function(){var e,t,n,r,s;for(t in r=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[t],e[t]=r[n];return e},i.prototype.glyphsFor=function(e){var t,n,r,s,a,o,c;for(r={},a=0,o=e.length;a<o;a++)r[s=e[a]]=this.font.glyf.glyphFor(s);for(s in t=[],r)(n=r[s])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(s in c=this.glyphsFor(t))n=c[s],r[s]=n;return r},i.prototype.encode=function(e,t){var n,r,s,a,o,c,h,d,p,y,v,x,w,C,S;for(r in n=z6.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),v={0:0},S=n.charMap)v[(c=S[r]).old]=c.new;for(x in y=n.maxGlyphID,a)x in v||(v[x]=y++);return d=function(P){var R,M;for(R in M={},P)M[P[R]]=R;return M}(v),p=Object.keys(d).sort(function(P,R){return P-R}),w=function(){var P,R,M;for(M=[],P=0,R=p.length;P<R;P++)o=p[P],M.push(d[o]);return M}(),s=this.font.glyf.encode(a,w,v),h=this.font.loca.encode(s.offsets,w),C={cmap:this.font.cmap.raw(),glyf:s.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},i}();Pt.API.PDFObject=function(){var i;function e(){}return i=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,r,s,a;if(Array.isArray(t))return"["+function(){var o,c,h;for(h=[],o=0,c=t.length;o<c;o++)n=t[o],h.push(e.convert(n));return h}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+i(t.getUTCFullYear(),4)+i(t.getUTCMonth(),2)+i(t.getUTCDate(),2)+i(t.getUTCHours(),2)+i(t.getUTCMinutes(),2)+i(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(r in s=["<<"],t)a=t[r],s.push("/"+r+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+t},e}();TA.workerSrc=`https://unpkg.com/pdfjs-dist@${l6}/build/pdf.worker.min.mjs`;const WU=({pdfUrl:i})=>{const[e,t]=te.useState(null),[n,r]=te.useState(100),[s,a]=te.useState(""),[o,c]=te.useState("#111"),[h,d]=te.useState("#f4edd2"),p=te.useRef(null),{selectedUser:y}=ii(),{setPdfScroll:v,pdfCheck:x,pdfScrollTop:w,setStreamData:C,setStartStreaming:S,endStream:P,streamData:R}=Ju(),{authUser:M}=Fr();return te.useEffect(()=>{p.current&&(v(p.current.scrollTop),console.log(`Scroll Top: ${p.current.scrollTop}`))},[x]),te.useEffect(()=>{r(localStorage.getItem("brightness")||50),d(localStorage.getItem("bg")||"#f4edd2"),c(localStorage.getItem("color")||"#111"),a(localStorage.getItem("notes")||""),document.documentElement.style.setProperty("--note-text-size",`${localStorage.getItem("size")||16}px`)},[]),te.useEffect(()=>{console.log("pdfScrollTop",w),p.current.scrollTop=w},[w]),te.useEffect(()=>{console.log(n)},[n]),L.jsxs(L.Fragment,{children:[L.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full px-4 rounded-lg",children:[L.jsx("div",{ref:p,className:"h-[500px] mx-auto overflow-y-scroll w-[900px] flex flex-col items-center",children:L.jsx("div",{className:"w-full p-2",style:{filter:`brightness(${n}%)`},children:L.jsx(Dz,{file:i,onLoadSuccess:({numPages:O})=>t(O),className:"w-full",children:e&&Array.from({length:e},(O,$)=>L.jsxs("div",{className:"w-full mb-4",children:[L.jsx(Yz,{pageNumber:$+1,renderTextLayer:!1,scale:1.5,renderAnnotationLayer:!1,className:"border border-gray-700 rounded-lg"}),L.jsxs("div",{className:"flex justify-end mt-2 text-gray-400 text-sm",children:["Page ",$+1," of ",e]})]},$))})})}),L.jsxs("div",{className:"flex justify-between w-full px-11 items-center mt-4",children:[R.senderInfo.fullName!==(M==null?void 0:M.fullName)&&L.jsx("button",{className:"bg-base-content text-base-300 p-2 px-3 rounded-md",onClick:async()=>{await Bn.get(`/auth/user/stream-control/${y._id}/999999/${R._id}`)},children:"Seek"}),R.senderInfo.fullName===(M==null?void 0:M.fullName)&&L.jsx("button",{className:"bg-base-content text-base-300 p-2 px-3 rounded-md",onClick:()=>{S(!1),C([]),P()},children:"End Stream"}),L.jsx("button",{onClick:()=>{fetch(i).then(O=>O.blob()).then(O=>{var U;const $=document.createElement("a");$.href=URL.createObjectURL(O),$.download=((U=R==null?void 0:R.streamInfo)==null?void 0:U.title)+".pdf",$.click(),URL.revokeObjectURL($.href)}).catch(O=>console.error("Error downloading the file:",O))},children:L.jsx(mM,{})}),L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx(UM,{}),L.jsx("input",{type:"range",value:n,min:20,max:200,onChange:O=>{r(O.target.value),localStorage.setItem("brightness",O.target.value)}})]}),L.jsx("div",{children:L.jsx("label",{htmlFor:"color",className:"text-base-context"})}),L.jsx("input",{type:"color",value:h,onChange:O=>{d(O.target.value),localStorage.setItem("bg",O.target.value)}}),L.jsx("label",{htmlFor:"color",className:"text-base-context"}),L.jsx("input",{type:"color",value:o,onChange:O=>{c(O.target.value),localStorage.setItem("color",O.target.value)}}),L.jsx("label",{htmlFor:"textSize",className:"text-base-context"}),L.jsx("input",{type:"number",min:10,max:50,defaultValue:16,className:"bg-base-content  text-base-100",onChange:O=>{document.documentElement.style.setProperty("--note-text-size",`${O.target.value}px`),localStorage.setItem("size",O.target.value)}})]})]}),L.jsxs("div",{className:"mt-11  flex flex-col gap-6 justify-center items-center my-5",children:[L.jsx("textarea",{id:"notesArea",name:"notes",style:{backgroundColor:h,color:o,fontSize:"var(--note-text-size, 16px)",lineHeight:"1.2"},placeholder:"Notes",value:s,onChange:O=>{a(O.target.value),localStorage.setItem("notes",s)},className:"w-[57vw] rounded-md p-5 text-base-300  text-4xl max-h-full h-[20vh]"}),L.jsx("button",{className:"bg-base-content userselect  text-base-300 mb-3 p-2 px-3 rounded-md",onClick:()=>{var re;const O=document.getElementById("notesArea");if(!O||!O.value.trim()){alert("Please add some notes before saving.");return}const $=new Pt,U=window.getComputedStyle(O),D=O.value.split(`
`),Q=parseInt(U.fontSize)*1,ue=10;let j=ue;const V=U.color.match(/\d+/g);V&&$.setTextColor(parseInt(V[0],10),parseInt(V[1],10),parseInt(V[2],10));const ee=U.backgroundColor.match(/\d+/g);ee&&($.setFillColor(parseInt(ee[0],10),parseInt(ee[1],10),parseInt(ee[2],10)),$.rect(0,0,$.internal.pageSize.width,$.internal.pageSize.height,"F")),D.forEach(pe=>{$.splitTextToSize(pe,$.internal.pageSize.width-2*ue).forEach(he=>{if(j+Q>$.internal.pageSize.height-ue){$.addPage();const ne=U.color.match(/\d+/g);ne&&$.setTextColor(parseInt(ne[0],10),parseInt(ne[1],10),parseInt(ne[2],10));const ye=U.backgroundColor.match(/\d+/g);ye&&($.setFillColor(parseInt(ye[0],10),parseInt(ye[1],10),parseInt(ye[2],10)),$.rect(0,0,$.internal.pageSize.width,$.internal.pageSize.height,"F")),j=ue}$.text(he,ue,j),j+=Q})}),$.save((((re=R==null?void 0:R.streamInfo)==null?void 0:re.title)||"notes")+"_notes.pdf")},children:"Save Notes"})]})]})};var ix={exports:{}},sx,JE;function GU(){if(JE)return sx;JE=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return sx=i,sx}var ax,QE;function YU(){if(QE)return ax;QE=1;var i=GU();function e(){}function t(){}return t.resetWarningCache=e,ax=function(){function n(a,o,c,h,d,p){if(p!==i){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function r(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:r,element:n,elementType:n,instanceOf:r,node:n,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},ax}var ZE;function XU(){return ZE||(ZE=1,ix.exports=YU()()),ix.exports}var KU=XU();const JU=e_(KU),q6=({onUpload:i})=>{const[e,t]=te.useState(null),{selectedUser:n}=ii(),{startStreaming:r,setStreamData:s,createStream:a}=Ju(),[o,c]=te.useState(""),[h,d]=te.useState(""),[p,y]=te.useState(!1),[v,x]=te.useState(""),w=S=>t(S.target.files[0]),C=async()=>{y(!0);try{if(!e)return Zt.error("Please select a file!");const S=new FormData;S.append("pdf",e),console.log("selectedUser",n._id);const P=await Bn.post("http://localhost:3000/upload",S,{headers:{"Content-Type":"multipart/form-data"}});console.log(P.data);const R={title:h,description:v,pdfName:P.data.pdfName,pdfUrl:P.data.fileUrl,groupId:n._id,recieverId:n._id,pdfData:P.data.pdfText};console.log(P.data.fileUrl),a(R),console.log("uploadData",R),i(P.data)}catch(S){console.error(S),Zt.error("File upload failed")}finally{y(!1)}};return L.jsx("div",{className:"flex flex-col items-center space-y-4",children:L.jsxs("div",{className:` ${r?"hidden":"block"} p-4 space-y-4 flex flex-col gap-5 `,children:[L.jsxs("h1",{className:"text-xl font-bold flex",children:["Stream Seamlessly using ",L.jsx("span",{className:"ml-2 text-base-300 invert ",children:"RapidStudy"})," ",L.jsx(zp,{className:"w-6 mr-2 ml-1 h-6 text-primary "}),"Streams"]}),L.jsx("input",{type:"text",placeholder:"Enter the title ",onChange:S=>d(S.target.value),className:"input input-bordered w-full"}),L.jsx("input",{type:"text",placeholder:"Enter the description of the PDF",onChange:S=>x(S.target.value),className:"input input-bordered w-full"}),L.jsx("input",{type:"file",accept:"application/pdf",onChange:w,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold m-auto file:bg-gray-400 file:text-base-100 hover:file:bg-blue-100 "}),L.jsx("button",{onClick:C,type:"submit",disabled:p,className:"btn   btn-primary w-full disabled:bg-gray-600 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg  transition",children:"Upload"}),p&&L.jsx(mA,{})]})})};q6.propTypes={onUpload:JU.func.isRequired};const QU=()=>{var V;const{selectedUser:i,videoCall:e}=ii(),{streamMode:t,setStreamData:n,setStreamMode:r,setStreamYoutube:s,streamYoutube:a,endStream:o,streamStart:c,streamData:h,createStream:d}=Ju(),{authUser:p}=Fr(),[y,v]=te.useState(""),[x,w]=te.useState(""),[C,S]=te.useState(""),[P,R]=te.useState(!1),[M,O]=te.useState(null),[$,U]=te.useState(!1),[D,Q]=te.useState(""),ue=ee=>{Q(ee.fileUrl),console.log("Uploaded PDF Path:",ee.fileUrl)},j=()=>{if(!y){Zt.error("No videoId provided"),setLoading(!1);return}const ee={videoUrl:y,title:x,description:C,groupId:i._id,receiverId:i._id};d(ee),U(!0)};return te.useEffect(()=>{var ee;Q((ee=h==null?void 0:h.streamInfo)==null?void 0:ee.pdfUrl),console.log("streamData",h),c()},[h]),L.jsx("div",{className:"h-screen overflow-y-scroll bg-base-200",children:L.jsxs("div",{className:"flex items-center gap-0.5 justify-center pt-20 px-4",children:[L.jsx("div",{className:`bg-base-100 rounded-l-lg shadow-lg ${t?"w-[35vw] h-[calc(100vh-6rem)]":"max-w-7xl h-[calc(100vh-8rem)]"}`,children:L.jsxs("div",{className:"flex h-full rounded-lg overflow-hidden",children:[L.jsx(n4,{}),L.jsx(f4,{})]})}),L.jsxs("div",{className:`bg-base-100 rounded-r-lg shadow-lg overflow-y-scroll ${t?"w-[63vw] h-[calc(100vh-6rem)]":"hidden"}`,children:[$&&L.jsx(p4,{videoId:y}),P&&!$?M==1?L.jsxs("div",{className:"h-full",children:[L.jsx("div",{className:"w-full p-8 justify-end flex",children:L.jsxs("button",{className:" btn",onClick:()=>R(!1),children:[L.jsx(Zv,{})," "]})}),L.jsxs("div",{className:` ${h.length==0,""}  p-4 space-y-4 flex flex-col mx-28  `,children:[L.jsx("div",{className:"flex justify-between my-4 mx-1 items-center",children:L.jsxs("h1",{className:"text-xl font-bold flex",children:["Stream Seamlessly using ",L.jsx("span",{className:"ml-2 text-base-300 invert ",children:"RapidStudy"})," ",L.jsx(zp,{className:"w-6 mr-2 ml-1 h-6 text-primary "}),"Streams"]})}),L.jsx("input",{type:"text",placeholder:"Enter the URL of the video",onChange:ee=>v(ee.target.value),className:"input input-bordered w-full"}),L.jsx("input",{type:"text",placeholder:"Enter the title of the video",onChange:ee=>w(ee.target.value),className:"input input-bordered w-full"}),L.jsx("input",{type:"text",placeholder:"Enter the description of the video",onChange:ee=>S(ee.target.value),className:"input input-bordered w-full"}),L.jsx("button",{onClick:()=>j(),className:"btn   btn-primary w-full",children:"Start Streaming"})]})]}):M==2?L.jsx("div",{children:h.length==0?L.jsxs("div",{children:[L.jsx("div",{className:"w-full p-8 justify-end flex",children:L.jsxs("button",{className:" btn",onClick:()=>R(!1),children:[L.jsx(Zv,{})," "]})}),L.jsx(q6,{onUpload:ue})]}):L.jsx("div",{children:L.jsxs("div",{rel:"noopener noreferrer",children:[L.jsxs("div",{className:"w-full  justify-end  flex",children:[L.jsx("div",{className:"w-full flex flex-col justify-center items-center ",children:L.jsx("h1",{className:"font-bold text-xl",children:(V=h==null?void 0:h.streamInfo)==null?void 0:V.title})}),L.jsxs("button",{className:"my-2 mr-8 btn",onClick:()=>R(!1),children:[L.jsx(Zv,{})," "]})]}),L.jsx(WU,{pdfUrl:D})]})})}):M==3&&L.jsxs(L.Fragment,{children:[L.jsx("div",{className:"w-full p-8 justify-end flex",children:L.jsxs("button",{className:" btn",onClick:()=>R(!1),children:[L.jsx(Zv,{})," "]})}),L.jsx(r4,{})]}):!P&&L.jsxs("div",{className:"min-h-[70%]",children:[L.jsx("div",{className:"w-full px-8 mt-8  justify-end flex",children:L.jsxs("button",{className:" btn",onClick:()=>r(!1),children:[L.jsx(lv,{})," "]})}),L.jsxs("div",{className:"flex flex-col justify-around pt-8  h-full items-center ",children:[L.jsx("h1",{className:"text-xl font-semibold my-8 ",children:"Select a source to stream"}),L.jsxs("div",{className:"flex flex-wrap justify-center py-6 items-center gap-11 ",children:[L.jsxs("button",{onClick:()=>{O(1),s(!0),R(!0)},className:"px-4 py-4 h-[30vh] flex-col justify-center items-center text-3xl w-[15vw] flex gap-4 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:[L.jsx(KM,{className:"size-[5rem]"}),"YouTube"]}),L.jsxs("button",{onClick:()=>{s(!1),R(!0),O(2)},className:"px-4 py-2 flex-col items-center justify-center text-3xl flex gap-4 h-[30vh] w-[15vw] bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[L.jsx(lM,{className:"size-[5rem]"})," PDF"]}),L.jsxs("button",{onClick:()=>{O(3),s(!1),R(!0)},className:"px-4 py-2 flex-col items-center justify-center text-3xl flex gap-4 h-[30vh] w-[15vw] bg-green-500 text-white rounded-lg hover:bg-green-700 transition",children:[L.jsx(bM,{className:"size-[5rem]"})," Website"]})]})]})]})]})]})})},H6=({title:i,subtitle:e})=>L.jsx("div",{className:"hidden lg:flex items-center justify-center bg-base-200 p-12",children:L.jsxs("div",{className:"max-w-md text-center",children:[L.jsx("div",{className:"grid grid-cols-3 gap-3 mb-8",children:[...Array(9)].map((t,n)=>L.jsx("div",{className:`aspect-square rounded-2xl bg-primary/10 ${n%2===0?"animate-pulse":""}`},n))}),L.jsx("h2",{className:"text-2xl font-bold mb-4",children:i}),L.jsx("p",{className:"text-base-content/60",children:e})]})}),ZU=()=>{const[i,e]=te.useState(!1),[t,n]=te.useState({fullName:"",email:"",password:""}),{signup:r,isSigningUp:s}=Fr(),a=()=>t.fullName.trim()?t.email.trim()?/\S+@\S+\.\S+/.test(t.email)?t.password?t.password.length<6?Zt.error("Password must be at least 6 characters"):!0:Zt.error("Password is required"):Zt.error("Invalid email format"):Zt.error("Email is required"):Zt.error("Full name is required"),o=c=>{c.preventDefault(),a()===!0&&r(t)};return L.jsxs("div",{className:"min-h-screen grid lg:grid-cols-2",children:[L.jsx("div",{className:"flex flex-col justify-center items-center p-6 sm:p-12",children:L.jsxs("div",{className:"w-full max-w-md space-y-8",children:[L.jsx("div",{className:"text-center mb-8",children:L.jsxs("div",{className:"flex flex-col items-center gap-2 group",children:[L.jsx("div",{className:`size-12 rounded-xl bg-primary/10 flex items-center justify-center 
              group-hover:bg-primary/20 transition-colors`,children:L.jsx(FS,{className:"size-6 text-primary"})}),L.jsx("h1",{className:"text-2xl font-bold mt-2",children:"Create Account"}),L.jsx("p",{className:"text-base-content/60",children:"Get started with your free account"})]})}),L.jsxs("form",{onSubmit:o,className:"space-y-6",children:[L.jsxs("div",{className:"form-control",children:[L.jsx("label",{className:"label",children:L.jsx("span",{className:"label-text font-medium",children:"Full Name"})}),L.jsxs("div",{className:"relative",children:[L.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:L.jsx(DS,{className:"size-5 text-base-content/40"})}),L.jsx("input",{type:"text",className:"input input-bordered w-full pl-10",placeholder:"John Doe",value:t.fullName,onChange:c=>n({...t,fullName:c.target.value})})]})]}),L.jsxs("div",{className:"form-control",children:[L.jsx("label",{className:"label",children:L.jsx("span",{className:"label-text font-medium",children:"Email"})}),L.jsxs("div",{className:"relative",children:[L.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:L.jsx(OS,{className:"size-5 text-base-content/40"})}),L.jsx("input",{type:"email",className:"input input-bordered w-full pl-10",placeholder:"you@example.com",value:t.email,onChange:c=>n({...t,email:c.target.value})})]})]}),L.jsxs("div",{className:"form-control",children:[L.jsx("label",{className:"label",children:L.jsx("span",{className:"label-text font-medium",children:"Password"})}),L.jsxs("div",{className:"relative",children:[L.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:L.jsx(xP,{className:"size-5 text-base-content/40"})}),L.jsx("input",{type:i?"text":"password",className:"input input-bordered w-full pl-10",placeholder:"••••••••",value:t.password,onChange:c=>n({...t,password:c.target.value})}),L.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>e(!i),children:i?L.jsx(bP,{className:"size-5 text-base-content/40"}):L.jsx(_P,{className:"size-5 text-base-content/40"})})]})]}),L.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:s,children:s?L.jsxs(L.Fragment,{children:[L.jsx(wP,{className:"size-5 animate-spin"}),"Loading..."]}):"Create Account"})]}),L.jsx("div",{className:"text-center",children:L.jsxs("p",{className:"text-base-content/60",children:["Already have an account?"," ",L.jsx(kd,{to:"/login",className:"link link-primary",children:"Sign in"})]})})]})}),L.jsx(H6,{title:"Join our community",subtitle:"Connect with friends, share moments, and stay in touch with your loved ones."})]})},eq=()=>{const[i,e]=te.useState(!1),[t,n]=te.useState({email:"",password:""}),{login:r,isLoggingIn:s}=Fr(),a=async o=>{o.preventDefault(),r(t)};return L.jsxs("div",{className:"h-screen grid lg:grid-cols-2",children:[L.jsx("div",{className:"flex flex-col justify-center items-center p-6 sm:p-12",children:L.jsxs("div",{className:"w-full max-w-md space-y-8",children:[L.jsx("div",{className:"text-center mb-8",children:L.jsxs("div",{className:"flex flex-col items-center gap-2 group",children:[L.jsx("div",{className:`w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center group-hover:bg-primary/20
              transition-colors`,children:L.jsx(FS,{className:"w-6 h-6 text-primary"})}),L.jsx("h1",{className:"text-2xl font-bold mt-2",children:"Welcome Back"}),L.jsx("p",{className:"text-base-content/60",children:"Sign in to your account"})]})}),L.jsxs("form",{onSubmit:a,className:"space-y-6",children:[L.jsxs("div",{className:"form-control",children:[L.jsx("label",{className:"label",children:L.jsx("span",{className:"label-text font-medium",children:"Email"})}),L.jsxs("div",{className:"relative",children:[L.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:L.jsx(OS,{className:"h-5 w-5 text-base-content/40"})}),L.jsx("input",{type:"email",className:"input input-bordered w-full pl-10",placeholder:"you@example.com",value:t.email,onChange:o=>n({...t,email:o.target.value})})]})]}),L.jsxs("div",{className:"form-control",children:[L.jsx("label",{className:"label",children:L.jsx("span",{className:"label-text font-medium",children:"Password"})}),L.jsxs("div",{className:"relative",children:[L.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:L.jsx(xP,{className:"h-5 w-5 text-base-content/40"})}),L.jsx("input",{type:i?"text":"password",className:"input input-bordered w-full pl-10",placeholder:"••••••••",value:t.password,onChange:o=>n({...t,password:o.target.value})}),L.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>e(!i),children:i?L.jsx(bP,{className:"h-5 w-5 text-base-content/40"}):L.jsx(_P,{className:"h-5 w-5 text-base-content/40"})})]})]}),L.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:s,children:s?L.jsxs(L.Fragment,{children:[L.jsx(wP,{className:"h-5 w-5 animate-spin"}),"Loading..."]}):"Sign in"})]}),L.jsx("div",{className:"text-center",children:L.jsxs("p",{className:"text-base-content/60",children:["Don't have an account?"," ",L.jsx(kd,{to:"/signup",className:"link link-primary",children:"Create account"})]})})]})}),L.jsx(H6,{title:"Welcome back!",subtitle:"Sign in to continue your conversations and catch up with your messages."})]})},tq=["light","dark","cupcake","bumblebee","emerald","corporate","synthwave","retro","cyberpunk","valentine","halloween","garden","forest","aqua","lofi","pastel","fantasy","wireframe","black","luxury","dracula","cmyk","autumn","business","acid","lemonade","night","coffee","winter","dim","nord","sunset"],$6=a_(i=>({theme:localStorage.getItem("chat-theme")||"coffee",setTheme:e=>{localStorage.setItem("chat-theme",e),i({theme:e})}})),nq=[{id:1,content:"Hey! How's it going?",isSent:!1},{id:2,content:"I'm doing great! Just working on some new features.",isSent:!0}],rq=()=>{const{theme:i,setTheme:e}=$6();return L.jsx("div",{className:"h-full container mx-auto px-4 pt-20 max-w-5xl",children:L.jsxs("div",{className:"space-y-6",children:[L.jsxs("div",{className:"flex flex-col gap-1",children:[L.jsx("h2",{className:"text-lg font-semibold",children:"Theme"}),L.jsx("p",{className:"text-sm text-base-content/70",children:"Choose a theme for your chat interface"})]}),L.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 gap-2",children:tq.map(t=>L.jsxs("button",{className:`
                group flex flex-col items-center gap-1.5 p-2 rounded-lg transition-colors
                ${i===t?"bg-base-200":"hover:bg-base-200/50"}
              `,onClick:()=>e(t),children:[L.jsx("div",{className:"relative h-8 w-full rounded-md overflow-hidden","data-theme":t,children:L.jsxs("div",{className:"absolute inset-0 grid grid-cols-4 gap-px p-1",children:[L.jsx("div",{className:"rounded bg-primary"}),L.jsx("div",{className:"rounded bg-secondary"}),L.jsx("div",{className:"rounded bg-accent"}),L.jsx("div",{className:"rounded bg-neutral"})]})}),L.jsx("span",{className:"text-[11px] font-medium truncate w-full text-center",children:t.charAt(0).toUpperCase()+t.slice(1)})]},t))}),L.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Preview"}),L.jsx("div",{className:"rounded-xl border border-base-300 overflow-hidden bg-base-100 shadow-lg",children:L.jsx("div",{className:"p-4 bg-base-200",children:L.jsx("div",{className:"max-w-lg mx-auto",children:L.jsxs("div",{className:"bg-base-100 rounded-xl shadow-sm overflow-hidden",children:[L.jsx("div",{className:"px-4 py-3 border-b border-base-300 bg-base-100",children:L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("div",{className:"w-8 h-8 rounded-full bg-primary flex items-center justify-center text-primary-content font-medium",children:"J"}),L.jsxs("div",{children:[L.jsx("h3",{className:"font-medium text-sm",children:"John Doe"}),L.jsx("p",{className:"text-xs text-base-content/70",children:"Online"})]})]})}),L.jsx("div",{className:"p-4 space-y-4 min-h-[200px] max-h-[200px] overflow-y-auto bg-base-100",children:nq.map(t=>L.jsx("div",{className:`flex ${t.isSent?"justify-end":"justify-start"}`,children:L.jsxs("div",{className:`
                          max-w-[80%] rounded-xl p-3 shadow-sm
                          ${t.isSent?"bg-primary text-primary-content":"bg-base-200"}
                        `,children:[L.jsx("p",{className:"text-sm",children:t.content}),L.jsx("p",{className:`
                            text-[10px] mt-1.5
                            ${t.isSent?"text-primary-content/70":"text-base-content/70"}
                          `,children:"12:00 PM"})]})},t.id))}),L.jsx("div",{className:"p-4 border-t border-base-300 bg-base-100",children:L.jsxs("div",{className:"flex gap-2",children:[L.jsx("input",{type:"text",className:"input input-bordered flex-1 text-sm h-10",placeholder:"Type a message...",value:"This is a preview",readOnly:!0}),L.jsx("button",{className:"btn btn-primary h-10 min-h-0",children:L.jsx(CP,{size:18})})]})})]})})})})]})})},iq=()=>{var a;const{authUser:i,isUpdatingProfile:e,updateProfile:t}=Fr(),[n,r]=te.useState(null),s=async o=>{const c=o.target.files[0];if(!c)return;const h=new FileReader;h.readAsDataURL(c),h.onload=async()=>{const d=h.result;r(d),await t({profilePic:d})}};return L.jsx("div",{className:"h-full pt-20",children:L.jsx("div",{className:"max-w-2xl mx-auto p-4 py-8",children:L.jsxs("div",{className:"bg-base-300 rounded-xl p-6 space-y-8",children:[L.jsxs("div",{className:"text-center",children:[L.jsx("h1",{className:"text-2xl font-semibold ",children:"Profile"}),L.jsx("p",{className:"mt-2",children:"Your profile information"})]}),L.jsxs("div",{className:"flex flex-col items-center gap-4",children:[L.jsxs("div",{className:"relative",children:[L.jsx("img",{loading:"blur",src:n||i.profilePic||"/avatar.png",alt:"Profile",className:"size-32 rounded-full object-cover border-4 "}),L.jsxs("label",{htmlFor:"avatar-upload",className:`
                  absolute bottom-0 right-0 
                  bg-base-content hover:scale-105
                  p-2 rounded-full cursor-pointer 
                  transition-all duration-200
                  ${e?"animate-pulse pointer-events-none":""}
                `,children:[L.jsx(vP,{className:"w-5 h-5 text-base-200"}),L.jsx("input",{type:"file",id:"avatar-upload",className:"hidden",accept:"image/*",onChange:s,disabled:e})]})]}),L.jsx("p",{className:"text-sm text-zinc-400",children:e?"Uploading...":"Click the camera icon to update your photo"})]}),L.jsxs("div",{className:"space-y-6",children:[L.jsxs("div",{className:"space-y-1.5",children:[L.jsxs("div",{className:"text-sm text-zinc-400 flex items-center gap-2",children:[L.jsx(DS,{className:"w-4 h-4"}),"Full Name"]}),L.jsx("p",{className:"px-4 py-2.5 bg-base-200 rounded-lg border",children:i==null?void 0:i.fullName})]}),L.jsxs("div",{className:"space-y-1.5",children:[L.jsxs("div",{className:"text-sm text-zinc-400 flex items-center gap-2",children:[L.jsx(OS,{className:"w-4 h-4"}),"Email Address"]}),L.jsx("p",{className:"px-4 py-2.5 bg-base-200 rounded-lg border",children:i==null?void 0:i.email})]})]}),L.jsxs("div",{className:"mt-6 bg-base-300 rounded-xl p-6",children:[L.jsx("h2",{className:"text-lg font-medium  mb-4",children:"Account Information"}),L.jsxs("div",{className:"space-y-3 text-sm",children:[L.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-zinc-700",children:[L.jsx("span",{children:"Member Since"}),L.jsx("span",{children:(a=i.createdAt)==null?void 0:a.split("T")[0]})]}),L.jsxs("div",{className:"flex items-center justify-between py-2",children:[L.jsx("span",{children:"Account Status"}),L.jsx("span",{className:"text-green-500",children:"Active"})]})]})]})]})})})},sq=()=>{const{users:i,createGroup:e}=ii(),[t,n]=te.useState(""),[r,s]=te.useState(""),{authUser:a,isUpdatingProfile:o,updateProfile:c}=Fr(),[h,d]=te.useState([]),[p,y]=te.useState(null),v=async w=>{const C=w.target.files[0];if(!C)return;const S=new FileReader;S.readAsDataURL(C),S.onload=async()=>{const P=S.result;y(P)}},x=async()=>{let w=h.map(C=>C._id);(r==""||t=="")&&toast.error("Please fill all the details!"),await e({users:w,description:r,name:t,profilePic:p}),window.location.href="/"};return L.jsx("div",{className:"h-screen w-screen flex justify-center  pt-8  items-center",children:L.jsxs("div",{className:"bg-base-200  w-[74rem] h-fit flex justify-between ",children:[L.jsxs("div",{className:"w-full bg-base-300 h-full",children:[L.jsxs("div",{className:"flex  items-center gap-4 pt-[5vh] pl-7 pr-5 mb-6 w-full",children:[L.jsxs("div",{className:"relative w-[11rem]",children:[L.jsx("img",{loading:"blur",src:p||"/group.png",alt:"Profile",className:"size-32 rounded-full object-cover border-4 "}),L.jsxs("label",{htmlFor:"avatar-upload",className:`
                  absolute bottom-0 right-0 
                  bg-base-content hover:scale-105
                  p-2 rounded-full cursor-pointer 
                  transition-all duration-200
                  ${o?"animate-pulse pointer-events-none":""}
                `,children:[L.jsx(vP,{className:"w-5 h-5 text-base-200"}),L.jsx("input",{type:"file",id:"avatar-upload",className:"hidden",accept:"image/*",onChange:v,disabled:o})]})]}),L.jsxs("div",{className:" mx-6 w-full ",children:[L.jsx("h1",{children:"Members"}),L.jsxs("div",{className:"flex gap-2 m-3 h-[4.4rem] border-2 p-2 rounded-lg   w-full ",children:[h.length==0&&L.jsx("h1",{className:"h-full flex justify-center items-center text-center w-full",children:"No members selected"}),h.map(w=>L.jsxs("div",{children:[L.jsx("img",{src:w.profilePic||"/avatar.png",alt:w.name,className:"size-12 object-cover rounded-full"}),L.jsx("div",{className:"ml-[2rem] mt-[-3rem] absolute cursor-pointer bg-red-600 rounded-full ",onClick:()=>d(h.filter(C=>C!==w)),children:L.jsx(lv,{className:"text-white h-4 w-4 m-[1px]"})})]},w))]})]})]}),L.jsxs("div",{className:" mx-5 px-6 gap-8 flex flex-col py-2",children:[L.jsxs("div",{children:[L.jsx("h1",{children:"Group Name"}),L.jsx("input",{placeholder:"Add Group Name",type:"text",onChange:w=>n(w.target.value),className:"border-2 p-2 rounded-lg w-full"})]}),L.jsxs("div",{children:[L.jsx("h1",{children:"Description"}),L.jsx("textarea",{placeholder:"Add description",onChange:w=>s(w.target.value),className:"border-2 p-2 rounded-lg w-full h-[8rem] ",maxLength:500})]})]}),L.jsx("div",{className:"flex items-center justify-center",children:L.jsx("button",{className:"bg-gray-50 text-black px-3 py-1 my-3 mb-7 rounded-md",onClick:x,children:"Create"})})]}),L.jsxs("div",{className:" w-[50vw] h-full bg-whidte",children:[L.jsx("h1",{className:"text-center font-bold text-xl my-4",children:"Add members"}),L.jsxs("ul",{className:"  h-full",children:[i<=1||h.length==i.length-1&&L.jsx("h1",{className:"text-center ",children:"No users available to add"}),i.map(w=>w._id!=a._id&&!h.includes(w)&&L.jsxs("li",{onClick:()=>{h.includes(w)||d([...h,w])},className:"flex justify-center hover:bg-base-100  items-center gap-5 p-3 bg-base-200 m-4 hover:cursor-pointer",children:[L.jsx("div",{className:"",children:L.jsx("img",{loading:"blur",src:w.profilePic||"/avatar.png",alt:w.name,className:"size-12 object-cover rounded-full"})}),w.fullName]},w._id))]})]})]})})},aq=()=>{const{authUser:i,checkAuth:e,isCheckingAuth:t,onlineUsers:n}=Fr(),{theme:r}=$6();return te.useEffect(()=>{e()},[e]),t&&!i?L.jsx("div",{className:"flex items-center justify-center h-screen",children:L.jsx(AM,{className:"size-10 animate-spin"})}):L.jsxs("div",{"data-theme":r,children:[L.jsx(e4,{}),L.jsxs(AI,{children:[L.jsx(Sf,{path:"/",element:i?L.jsx(QU,{}):L.jsx(V0,{to:"/login"})}),L.jsx(Sf,{path:"/login",element:i?L.jsx(V0,{to:"/"}):L.jsx(eq,{})}),L.jsx(Sf,{path:"/signup",element:i?L.jsx(V0,{to:"/"}):L.jsx(ZU,{})}),L.jsx(Sf,{path:"/settings",element:L.jsx(rq,{})}),L.jsx(Sf,{path:"/profile",element:i?L.jsx(iq,{}):L.jsx(V0,{to:"/login"})}),L.jsx(Sf,{path:"/create-group",element:i?L.jsx(sq,{}):L.jsx(V0,{to:"/login"})})]}),L.jsx(ID,{})]})};M8.createRoot(document.getElementById("root")).render(L.jsx(YI,{children:L.jsx(aq,{})}));export{Rn as _,e_ as g};
